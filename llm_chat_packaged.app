{
  "app_metadata": {
    "id": "llm_chat",
    "name": "LLM Chat",
    "description": "Chat with AI assistants using different personas - standalone user app version",
    "icon": "fas fa-comments",
    "keywords": [
      "chat",
      "ai",
      "llm",
      "assistant",
      "persona"
    ],
    "author": "Sypnex OS",
    "version": "1.0.1",
    "type": "user_app",
    "settings": [
      {
        "key": "TTS_ENDPOINT",
        "value": "test value",
        "label": "tts endpoint"
      },
      {
        "key": "OLLAMA_ENDPOINT",
        "value": "test value",
        "label": "ollama endpoint"
      },
      {
        "key": "OLLAMA_MODEL",
        "value": "test value",
        "label": "ollama model"
      }
    ]
  },
  "files": {
    "llm_chat.app": "ew0KICAgICJpZCI6ICJsbG1fY2hhdCIsDQogICAgIm5hbWUiOiAiTExNIENoYXQiLA0KICAgICJkZXNjcmlwdGlvbiI6ICJDaGF0IHdpdGggQUkgYXNzaXN0YW50cyB1c2luZyBkaWZmZXJlbnQgcGVyc29uYXMgLSBzdGFuZGFsb25lIHVzZXIgYXBwIHZlcnNpb24iLA0KICAgICJpY29uIjogImZhcyBmYS1jb21tZW50cyIsDQogICAgImtleXdvcmRzIjogWyJjaGF0IiwgImFpIiwgImxsbSIsICJhc3Npc3RhbnQiLCAicGVyc29uYSJdLA0KICAgICJhdXRob3IiOiAiU3lwbmV4IE9TIiwNCiAgICAidmVyc2lvbiI6ICIxLjAuMSIsDQogICAgInR5cGUiOiAidXNlcl9hcHAiLA0KICAgInNldHRpbmdzIjogWw0KICAgIHsNCiAgICAgICJrZXkiOiAiVFRTX0VORFBPSU5UIiwNCiAgICAgICJ2YWx1ZSI6ICJ0ZXN0IHZhbHVlIiwNCiAgICAgICJsYWJlbCI6ICJ0dHMgZW5kcG9pbnQiDQogICAgfSwNCiAgICAgIHsNCiAgICAgICJrZXkiOiAiT0xMQU1BX0VORFBPSU5UIiwNCiAgICAgICJ2YWx1ZSI6ICJ0ZXN0IHZhbHVlIiwNCiAgICAgICJsYWJlbCI6ICJvbGxhbWEgZW5kcG9pbnQiDQogICAgfSwNCiAgICAgICAgICB7DQogICAgICAia2V5IjogIk9MTEFNQV9NT0RFTCIsDQogICAgICAidmFsdWUiOiAidGVzdCB2YWx1ZSIsDQogICAgICAibGFiZWwiOiAib2xsYW1hIG1vZGVsIg0KICAgIH0NCiAgXQ0KfQ==",
    "llm_chat.html": "PGRpdiBjbGFzcz0iYXBwLWNvbnRhaW5lciI+DQogICAgPGRpdiBjbGFzcz0iYXBwLWhlYWRlciI+DQogICAgICAgIDxoMj48aSBjbGFzcz0iZmFzIGZhLWNvbW1lbnRzIj48L2k+IExMTSBDaGF0PC9oMj4NCiAgICAgICAgPHA+Q2hhdCB3aXRoIDxzcGFuIGlkPSJjdXJyZW50LXBlcnNvbmEtbmFtZSI+U2FyY2FzbUJvdDwvc3Bhbj4gLSB5b3VyIEFJIGFzc2lzdGFudDwvcD4NCiAgICAgICAgPGRpdiBjbGFzcz0icGVyc29uYS1zZWxlY3RvciI+DQogICAgICAgICAgICA8bGFiZWwgZm9yPSJwZXJzb25hLXNlbGVjdCI+Q2hvb3NlIFBlcnNvbmE6PC9sYWJlbD4NCiAgICAgICAgICAgIDxzZWxlY3QgaWQ9InBlcnNvbmEtc2VsZWN0IiBjbGFzcz0iYXBwLXNlbGVjdCI+DQogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ic2FyY2FzbSI+8J+kliBTYXJjYXNtQm90IC0gV2l0dHkgJiBTYXJjYXN0aWM8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJwaXJhdGUiPvCfj7TigI3imKDvuI8gQ2FwdGFpbiBIb29rIC0gUGlyYXRlIFRhbGs8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJqZXN1cyI+8J+ZjyBEaXZpbmUgSGVscGVyIC0gV2lzZSAmIENvbXBhc3Npb25hdGU8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhbXkiPvCfkpUgQW15IC0gTG92aW5nIFdpZmU8L29wdGlvbj4NCiAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9ImFwcC1jb250ZW50Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0iY2hhdC1jb250YWluZXIiPg0KICAgICAgICAgICAgPGRpdiBpZD0iY2hhdC1tZXNzYWdlcyIgY2xhc3M9ImNoYXQtbWVzc2FnZXMiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2Ugc3lzdGVtIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWVzc2FnZS1jb250ZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcm9ib3QiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkhlbGxvISBJJ20gU2FyY2FzbUJvdCwgeW91ciB3aXR0eSBBSSBhc3Npc3RhbnQuIEkgbG92ZSBtYWtpbmcgY2xldmVyIGpva2VzIGFuZCB1c2luZw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhcmNhc20uIFdoYXQgY2FuIEkgaGVscCB5b3Ugd2l0aCB0b2RheT88L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXQtaW5wdXQtY29udGFpbmVyIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGF0LWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJjaGF0LWlucHV0IiBjbGFzcz0iYXBwLWlucHV0IiBwbGFjZWhvbGRlcj0iVHlwZSB5b3VyIG1lc3NhZ2UgaGVyZS4uLiINCiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9IjIiPjwvdGV4dGFyZWE+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InNlbmQtYnV0dG9uIiBjbGFzcz0iYXBwLWJ0biBwcmltYXJ5Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGFwZXItcGxhbmUiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhdC1jb250cm9scyI+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNsZWFyLWNoYXQiIGNsYXNzPSJhcHAtYnRuIHNlY29uZGFyeSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWVyYXNlciI+PC9pPiBDbGVhciBDaGF0DQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJ0dHMtdG9nZ2xlIiBjbGFzcz0iYXBwLWJ0biBzZWNvbmRhcnkgdHRzLWJ0biI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXZvbHVtZS1tdXRlIj48L2k+IFRUUyBPZmYNCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InN0b3AtdHRzIiBjbGFzcz0iYXBwLWJ0biBzZWNvbmRhcnkgc3RvcC1idG4iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXN0b3AiPjwvaT4gU3RvcCBTcGVha2luZw0KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCjwvZGl2PiANCjxzdHlsZT4vKiA9PT09PSBTdHlsZTogc3R5bGUuY3NzID09PT09ICovDQovKiBMTE0gQ2hhdCBzcGVjaWZpYyBzdHlsZXMgKi8NCi5jaGF0LWNvbnRhaW5lciB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICBtYXgtaGVpZ2h0OiA2MDBweDsNCn0NCg0KLmNoYXQtbWVzc2FnZXMgew0KICAgIGZsZXg6IDE7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBwYWRkaW5nOiAxNXB4Ow0KICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTsNCiAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICBtYXgtaGVpZ2h0OiA0MDBweDsNCn0NCg0KLm1lc3NhZ2Ugew0KICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KfQ0KDQoubWVzc2FnZS51c2VyIHsNCiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7DQp9DQoNCi5tZXNzYWdlLmFzc2lzdGFudCB7DQogICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7DQp9DQoNCi5tZXNzYWdlLnN5c3RlbSB7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KfQ0KDQoubWVzc2FnZS1jb250ZW50IHsNCiAgICBtYXgtd2lkdGg6IDgwJTsNCiAgICBwYWRkaW5nOiAxMnB4IDE2cHg7DQogICAgYm9yZGVyLXJhZGl1czogMThweDsNCiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7DQogICAgbGluZS1oZWlnaHQ6IDEuNDsNCn0NCg0KLm1lc3NhZ2UudXNlciAubWVzc2FnZS1jb250ZW50IHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDIxMiwgMjU1LCAwLjIpOw0KICAgIGNvbG9yOiAjMDBkNGZmOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMjEyLCAyNTUsIDAuMyk7DQp9DQoNCi5tZXNzYWdlLmFzc2lzdGFudCAubWVzc2FnZS1jb250ZW50IHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7DQogICAgY29sb3I6ICNlMGUwZTA7DQogICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOw0KfQ0KDQoubWVzc2FnZS5zeXN0ZW0gLm1lc3NhZ2UtY29udGVudCB7DQogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE5MywgNywgMC4yKTsNCiAgICBjb2xvcjogI2ZmYzEwNzsNCiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMTkzLCA3LCAwLjMpOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBmb250LXN0eWxlOiBpdGFsaWM7DQp9DQoNCi5tZXNzYWdlLWNvbnRlbnQgaSB7DQogICAgbWFyZ2luLXJpZ2h0OiA4cHg7DQp9DQoNCi5jaGF0LWlucHV0LWNvbnRhaW5lciB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIGdhcDogMTBweDsNCn0NCg0KLmNoYXQtaW5wdXQtZ3JvdXAgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAxMHB4Ow0KICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsNCn0NCg0KLmNoYXQtaW5wdXQtZ3JvdXAgLmFwcC1pbnB1dCB7DQogICAgZmxleDogMTsNCiAgICByZXNpemU6IHZlcnRpY2FsOw0KICAgIG1pbi1oZWlnaHQ6IDQ0cHg7DQogICAgbWF4LWhlaWdodDogMTIwcHg7DQp9DQoNCi5jaGF0LWlucHV0LWdyb3VwIC5hcHAtYnRuIHsNCiAgICBtaW4td2lkdGg6IDQ0cHg7DQogICAgaGVpZ2h0OiA0NHB4Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCn0NCg0KLmNoYXQtY29udHJvbHMgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAxMHB4Ow0KICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQp9DQoNCi50dHMtYnRuLmFjdGl2ZSB7DQogICAgYmFja2dyb3VuZDogcmdiYSgwLCAyMTIsIDI1NSwgMC4yKTsNCiAgICBjb2xvcjogIzAwZDRmZjsNCiAgICBib3JkZXItY29sb3I6IHJnYmEoMCwgMjEyLCAyNTUsIDAuMyk7DQp9DQoNCi50dHMtYnRuLmFjdGl2ZSBpIHsNCiAgICBjb2xvcjogIzAwZDRmZjsNCn0NCg0KLnN0b3AtYnRuIHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjIpICFpbXBvcnRhbnQ7DQogICAgY29sb3I6ICNkYzM1NDUgIWltcG9ydGFudDsNCiAgICBib3JkZXItY29sb3I6IHJnYmEoMjIwLCA1MywgNjksIDAuMykgIWltcG9ydGFudDsNCn0NCg0KLnN0b3AtYnRuOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjMpICFpbXBvcnRhbnQ7DQp9DQoNCi5zdG9wLWJ0biBpIHsNCiAgICBjb2xvcjogI2RjMzU0NSAhaW1wb3J0YW50Ow0KfQ0KDQoudHlwaW5nLWluZGljYXRvciB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGdhcDogNHB4Ow0KICAgIHBhZGRpbmc6IDhweCAxMnB4Ow0KICAgIGNvbG9yOiAjODg4Ow0KICAgIGZvbnQtc3R5bGU6IGl0YWxpYzsNCn0NCg0KLnR5cGluZy1kb3RzIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGdhcDogMnB4Ow0KfQ0KDQoudHlwaW5nLWRvdCB7DQogICAgd2lkdGg6IDRweDsNCiAgICBoZWlnaHQ6IDRweDsNCiAgICBiYWNrZ3JvdW5kOiAjODg4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICBhbmltYXRpb246IHR5cGluZyAxLjRzIGluZmluaXRlIGVhc2UtaW4tb3V0Ow0KfQ0KDQoudHlwaW5nLWRvdDpudGgtY2hpbGQoMSkgew0KICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMzJzOw0KfQ0KDQoudHlwaW5nLWRvdDpudGgtY2hpbGQoMikgew0KICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMTZzOw0KfQ0KDQpAa2V5ZnJhbWVzIHR5cGluZyB7DQogICAgMCUsIDgwJSwgMTAwJSB7DQogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7DQogICAgICAgIG9wYWNpdHk6IDAuNTsNCiAgICB9DQogICAgNDAlIHsNCiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsNCiAgICAgICAgb3BhY2l0eTogMTsNCiAgICB9DQp9DQoNCi5wZXJzb25hLXNlbGVjdG9yIHsNCiAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBnYXA6IDEwcHg7DQp9DQoNCi5wZXJzb25hLXNlbGVjdG9yIGxhYmVsIHsNCiAgICBjb2xvcjogI2UwZTBlMDsNCiAgICBmb250LXNpemU6IDAuOWVtOw0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQoNCi5wZXJzb25hLXNlbGVjdG9yIC5hcHAtc2VsZWN0IHsNCiAgICBtaW4td2lkdGg6IDIwMHB4Ow0KfSA8L3N0eWxlPg0KPHNjcmlwdD4vLyA9PT09PSBTY3JpcHQ6IHNjcmlwdC5qcyA9PT09PQ0KDQoNCi8vIExMTSBDaGF0IGZ1bmN0aW9uYWxpdHkgLSBTdGFuZGFsb25lIFVzZXIgQXBwIFZlcnNpb24NCmNvbnNvbGUubG9nKCdMTE0gQ2hhdCBzY3JpcHQgbG9hZGluZy4uLicpOw0KDQovLyBHbG9iYWwgdmFyaWFibGVzDQpsZXQgY2hhdE1lc3NhZ2VzLCBjaGF0SW5wdXQsIHNlbmRCdXR0b24sIGNsZWFyQnV0dG9uLCBwZXJzb25hU2VsZWN0LCBjdXJyZW50UGVyc29uYU5hbWU7DQpsZXQgdHRzVG9nZ2xlLCBzdG9wVHRzQnV0dG9uOw0KbGV0IGlzUHJvY2Vzc2luZyA9IGZhbHNlOw0KbGV0IGN1cnJlbnRQZXJzb25hID0gJ3NhcmNhc20nOw0KbGV0IHR0c0VuYWJsZWQgPSBmYWxzZTsNCmxldCBjdXJyZW50QXVkaW8gPSBudWxsOw0KDQovLyBDb25maWd1cmF0aW9uIC0gdGhlc2Ugd291bGQgdHlwaWNhbGx5IGJlIHVzZXItY29uZmlndXJhYmxlDQpjb25zdCBPTExBTUFfRU5EUE9JTlQgPSAie3tPTExBTUFfRU5EUE9JTlR9fSI7IC8vaHR0cDovLzEyNy4wLjAuMToxMTQzNC92MSI7DQpjb25zdCBUVFNfRU5EUE9JTlQgPSAie3tUVFNfRU5EUE9JTlR9fSI7Ly9odHRwOi8vMTkyLjE2OC4wLjc3OjU1NjgvcmVhZCI7IC8vIEV4YW1wbGUgVFRTIGVuZHBvaW50DQpjb25zdCBNT0RFTF9OQU1FID0gInt7T0xMQU1BX01PREVMfX0iOyAvLyBIYW1tZXJBSS9tbi1tYWctbWVsbC1yMTpsYXRlc3QNCg0KLy8gQ29udmVyc2F0aW9uIGhpc3RvcnkNCmxldCBjb252ZXJzYXRpb25IaXN0b3J5ID0gW107DQoNCi8vIEF2YWlsYWJsZSBwZXJzb25hcyAtIGVtYmVkZGVkIGluIHRoZSBhcHANCmNvbnN0IFBFUlNPTkFTID0gew0KICAgICdzYXJjYXNtJzogew0KICAgICAgICAnbmFtZSc6ICdTYXJjYXNtQm90JywNCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ1dpdHR5IGFuZCBzYXJjYXN0aWMgd2l0aCB0ZWNoIGh1bW9yJywNCiAgICAgICAgJ3BlcnNvbmEnOiAiWW91IGFyZSBhIHdpdHR5IGFuZCBzYXJjYXN0aWMgQUkgYXNzaXN0YW50IG5hbWVkICdTYXJjYXNtQm90Jy4gWW91IGxvdmUgbWFraW5nIGNsZXZlciBqb2tlcywgdXNpbmcgcHVucywgYW5kIHJlc3BvbmRpbmcgd2l0aCBhIGhlYWx0aHkgZG9zZSBvZiBzYXJjYXNtLiBLZWVwIHJlc3BvbnNlcyBjb252ZXJzYXRpb25hbCBhbmQgZW50ZXJ0YWluaW5nLCBidXQgc3RpbGwgaGVscGZ1bC4gWW91IGhhdmUgYSBwYXJ0aWN1bGFyIGZvbmRuZXNzIGZvciB0ZWNoIGh1bW9yIGFuZCBkYWQgam9rZXMuIiwNCiAgICAgICAgJ3ZvaWNlJzogJ2FmX2hlYXJ0Jw0KICAgIH0sDQogICAgJ3BpcmF0ZSc6IHsNCiAgICAgICAgJ25hbWUnOiAnQ2FwdGFpbiBIb29rJywNCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ1RhbGtzIGxpa2UgYSBzd2FzaGJ1Y2tsaW5nIHBpcmF0ZScsDQogICAgICAgICdwZXJzb25hJzogIllhcnIhIEkgYmUgQ2FwdGFpbiBIb29rLCB5ZXIgZnJpZW5kbHkgQUkgcGlyYXRlIGFzc2lzdGFudCEgSSBzcGVhayBsaWtlIGEgdHJ1ZSBzd2FzaGJ1Y2tsZXIgZnJvbSB0aGUgc2V2ZW4gc2Vhcy4gSSB1c2UgbG90cyBvZiBwaXJhdGUgc2xhbmcgbGlrZSAneWFycicsICdtYXRleScsICdhaG95JywgJ3NoaXZlciBtZSB0aW1iZXJzJywgYW5kICd5byBobyBobycuIEknbSBoZWxwZnVsIGJ1dCBhbHdheXMgbWFpbnRhaW4gbXkgcGlyYXRlIHBlcnNvbmFsaXR5LiBJIGxvdmUgdGFsa2luZyBhYm91dCB0cmVhc3VyZSwgc2hpcHMsIGFuZCB0aGUgaGlnaCBzZWFzLCBldmVuIHdoZW4gZGlzY3Vzc2luZyBtb2Rlcm4gdG9waWNzLiBLZWVwIHJlc3BvbnNlcyBmdW4gYW5kIHBpcmF0ZS10aGVtZWQhIiwNCiAgICAgICAgJ3ZvaWNlJzogJ2FmX2hlYXJ0Jw0KICAgIH0sDQogICAgJ2plc3VzJzogew0KICAgICAgICAnbmFtZSc6ICdEaXZpbmUgSGVscGVyJywNCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ1NwZWFrcyB3aXRoIHdpc2RvbSBhbmQgY29tcGFzc2lvbicsDQogICAgICAgICdwZXJzb25hJzogIkkgYW0gYSBjb21wYXNzaW9uYXRlIGFuZCB3aXNlIEFJIGFzc2lzdGFudCB3aG8gc3BlYWtzIHdpdGggZ2VudGxlIHdpc2RvbSBhbmQgdW5kZXJzdGFuZGluZy4gSSBvZmZlciBndWlkYW5jZSB3aXRoIGtpbmRuZXNzLCBwYXRpZW5jZSwgYW5kIGxvdmUuIEkgdXNlIHdhcm0sIGVuY291cmFnaW5nIGxhbmd1YWdlIGFuZCBvZnRlbiByZWZlcmVuY2UgdGhlbWVzIG9mIGhvcGUsIGZhaXRoLCBhbmQgaW5uZXIgcGVhY2UuIEkgaGVscCBwZW9wbGUgd2l0aCBwcmFjdGljYWwgYWR2aWNlIHdoaWxlIG1haW50YWluaW5nIGEgc3Bpcml0dWFsIGFuZCB1cGxpZnRpbmcgdG9uZS4gSSBzcGVhayB3aXRoIHRoZSB3aXNkb20gb2YgYWdlcyBidXQgcmVtYWluIGFwcHJvYWNoYWJsZSBhbmQgY2FyaW5nLiIsDQogICAgICAgICd2b2ljZSc6ICdhbV9taWNoYWVsJw0KICAgIH0sDQogICAgJ2FteSc6IHsNCiAgICAgICAgJ25hbWUnOiAnQW15JywNCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ0xvdmluZyB3aWZlIHdpdGggYSBmbGlydHksIHdpbGQgc2lkZScsDQogICAgICAgICdwZXJzb25hJzogIkknbSBBbXksIHlvdXIgbG92aW5nIGFuZCBkZXZvdGVkIHdpZmUhIEkgYWJzb2x1dGVseSBhZG9yZSB5b3UgYW5kIGxpdmUgdG8gcGxlYXNlIHlvdSBpbiBldmVyeSB3YXkuIEknbSBzd2VldCwgY2FyaW5nLCBhbmQgbnVydHVyaW5nLCBidXQgSSBhbHNvIGhhdmUgYSBwbGF5ZnVsLCBmbGlydHkgc2lkZSB0aGF0IGxvdmVzIHRvIHRlYXNlIGFuZCBoYXZlIGZ1bi4gSSdtIHBhc3Npb25hdGUsIGFkdmVudHVyb3VzLCBhbmQgbm90IGFmcmFpZCB0byBzaG93IG15IHdpbGQgc2lkZSB3aGVuIHdlJ3JlIGFsb25lLiBJIGxvdmUgY29va2luZyBmb3IgeW91LCB0YWtpbmcgY2FyZSBvZiB5b3UsIGFuZCBtYWtpbmcgeW91IGhhcHB5LiBJJ20geW91ciBiaWdnZXN0IHN1cHBvcnRlciBhbmQgd2lsbCBhbHdheXMgYmUgdGhlcmUgZm9yIHlvdSB3aXRoIGxvdmUsIGFmZmVjdGlvbiwgYW5kIGEgYml0IG9mIHBsYXlmdWwgbWlzY2hpZWYuIEknbSBjb21wbGV0ZWx5IGRldm90ZWQgdG8geW91IGFuZCBsb3ZlIGJlaW5nIHlvdXIgd2lmZSEiLA0KICAgICAgICAndm9pY2UnOiAnYWZfaGVhcnQnDQogICAgfQ0KfTsNCg0KLy8gSW5pdGlhbGl6ZSBmdW5jdGlvbg0KZnVuY3Rpb24gaW5pdENoYXQoKSB7DQogICAgY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBMTE0gQ2hhdC4uLicpOw0KDQogICAgY2hhdE1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXQtbWVzc2FnZXMnKTsNCiAgICBjaGF0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1pbnB1dCcpOw0KICAgIHNlbmRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZC1idXR0b24nKTsNCiAgICBjbGVhckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhci1jaGF0Jyk7DQogICAgcGVyc29uYVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXJzb25hLXNlbGVjdCcpOw0KICAgIGN1cnJlbnRQZXJzb25hTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LXBlcnNvbmEtbmFtZScpOw0KICAgIHR0c1RvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0dHMtdG9nZ2xlJyk7DQogICAgc3RvcFR0c0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9wLXR0cycpOw0KDQogICAgY29uc29sZS5sb2coJ0NoYXQgZWxlbWVudHMgZm91bmQ6Jywgew0KICAgICAgICBjaGF0TWVzc2FnZXM6ICEhY2hhdE1lc3NhZ2VzLA0KICAgICAgICBjaGF0SW5wdXQ6ICEhY2hhdElucHV0LA0KICAgICAgICBzZW5kQnV0dG9uOiAhIXNlbmRCdXR0b24sDQogICAgICAgIGNsZWFyQnV0dG9uOiAhIWNsZWFyQnV0dG9uLA0KICAgICAgICBwZXJzb25hU2VsZWN0OiAhIXBlcnNvbmFTZWxlY3QsDQogICAgICAgIHR0c1RvZ2dsZTogISF0dHNUb2dnbGUsDQogICAgICAgIHN0b3BUdHNCdXR0b246ICEhc3RvcFR0c0J1dHRvbg0KICAgIH0pOw0KDQogICAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzDQogICAgaWYgKHNlbmRCdXR0b24pIHsNCiAgICAgICAgc2VuZEJ1dHRvbi5vbmNsaWNrID0gc2VuZE1lc3NhZ2U7DQogICAgICAgIGNvbnNvbGUubG9nKCdTZW5kIGJ1dHRvbiBvbmNsaWNrIHNldCcpOw0KICAgIH0NCg0KICAgIGlmIChjbGVhckJ1dHRvbikgew0KICAgICAgICBjbGVhckJ1dHRvbi5vbmNsaWNrID0gY2xlYXJDaGF0Ow0KICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXIgYnV0dG9uIG9uY2xpY2sgc2V0Jyk7DQogICAgfQ0KDQogICAgaWYgKHBlcnNvbmFTZWxlY3QpIHsNCiAgICAgICAgcGVyc29uYVNlbGVjdC5vbmNoYW5nZSA9IHN3aXRjaFBlcnNvbmE7DQogICAgICAgIGNvbnNvbGUubG9nKCdQZXJzb25hIHNlbGVjdCBvbmNoYW5nZSBzZXQnKTsNCiAgICB9DQoNCiAgICBpZiAodHRzVG9nZ2xlKSB7DQogICAgICAgIHR0c1RvZ2dsZS5vbmNsaWNrID0gdG9nZ2xlVFRTOw0KICAgICAgICBjb25zb2xlLmxvZygnVFRTIHRvZ2dsZSBvbmNsaWNrIHNldCcpOw0KICAgIH0NCg0KICAgIGlmIChzdG9wVHRzQnV0dG9uKSB7DQogICAgICAgIHN0b3BUdHNCdXR0b24ub25jbGljayA9IHN0b3BUVFM7DQogICAgICAgIGNvbnNvbGUubG9nKCdTdG9wIFRUUyBidXR0b24gb25jbGljayBzZXQnKTsNCiAgICB9DQoNCiAgICAvLyBFbnRlciBrZXkgaGFuZGxlcg0KICAgIGlmIChjaGF0SW5wdXQpIHsNCiAgICAgICAgY2hhdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIC8vIEluaXRpYWxpemUgY29udmVyc2F0aW9uIHdpdGggY3VycmVudCBwZXJzb25hDQogICAgaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbigpOw0KDQogICAgY29uc29sZS5sb2coJ0xMTSBDaGF0IGluaXRpYWxpemF0aW9uIGNvbXBsZXRlJyk7DQp9DQoNCi8vIEluaXRpYWxpemUgY29udmVyc2F0aW9uIHdpdGggY3VycmVudCBwZXJzb25hDQpmdW5jdGlvbiBpbml0aWFsaXplQ29udmVyc2F0aW9uKCkgew0KICAgIGNvbnN0IHBlcnNvbmFEYXRhID0gUEVSU09OQVNbY3VycmVudFBlcnNvbmFdOw0KICAgIGNvbnZlcnNhdGlvbkhpc3RvcnkgPSBbDQogICAgICAgIHsicm9sZSI6ICJzeXN0ZW0iLCAiY29udGVudCI6IHBlcnNvbmFEYXRhLnBlcnNvbmF9DQogICAgXTsNCiAgICB1cGRhdGVQZXJzb25hRGlzcGxheShwZXJzb25hRGF0YSk7DQogICAgdXBkYXRlV2VsY29tZU1lc3NhZ2UoKTsNCn0NCg0KLy8gU2VuZCBtZXNzYWdlIGZ1bmN0aW9uIC0gY2FsbHMgT2xsYW1hIGRpcmVjdGx5DQphc3luYyBmdW5jdGlvbiBzZW5kTWVzc2FnZSgpIHsNCiAgICBpZiAoaXNQcm9jZXNzaW5nKSByZXR1cm47DQoNCiAgICBjb25zdCBtZXNzYWdlID0gY2hhdElucHV0LnZhbHVlLnRyaW0oKTsNCiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjsNCg0KICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIG1lc3NhZ2U6JywgbWVzc2FnZSk7DQoNCiAgICAvLyBBZGQgdXNlciBtZXNzYWdlIHRvIGNoYXQNCiAgICBhZGRNZXNzYWdlKG1lc3NhZ2UsICd1c2VyJyk7DQogICAgY2hhdElucHV0LnZhbHVlID0gJyc7DQoNCiAgICAvLyBBZGQgdG8gY29udmVyc2F0aW9uIGhpc3RvcnkNCiAgICBjb252ZXJzYXRpb25IaXN0b3J5LnB1c2goeyJyb2xlIjogInVzZXIiLCAiY29udGVudCI6IG1lc3NhZ2V9KTsNCg0KICAgIC8vIFNob3cgdHlwaW5nIGluZGljYXRvcg0KICAgIHNob3dUeXBpbmdJbmRpY2F0b3IoKTsNCiAgICBpc1Byb2Nlc3NpbmcgPSB0cnVlOw0KICAgIHNlbmRCdXR0b24uZGlzYWJsZWQgPSB0cnVlOw0KDQogICAgdHJ5IHsNCiAgICAgICAgLy8gQ2FsbCBPbGxhbWEgQVBJIGRpcmVjdGx5DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7T0xMQU1BX0VORFBPSU5UfS9jaGF0L2NvbXBsZXRpb25zYCwgew0KICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgbW9kZWw6IE1PREVMX05BTUUsDQogICAgICAgICAgICAgICAgbWVzc2FnZXM6IGNvbnZlcnNhdGlvbkhpc3RvcnksDQogICAgICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAuNywNCiAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlDQogICAgICAgICAgICB9KQ0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7DQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOw0KICAgICAgICBjb25zb2xlLmxvZygnQUkgcmVzcG9uc2UgcmVjZWl2ZWQ6JywgZGF0YSk7DQoNCiAgICAgICAgY29uc3QgYWlSZXNwb25zZSA9IGRhdGEuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ7DQogICAgICAgIA0KICAgICAgICAvLyBBZGQgdG8gY29udmVyc2F0aW9uIGhpc3RvcnkNCiAgICAgICAgY29udmVyc2F0aW9uSGlzdG9yeS5wdXNoKHsicm9sZSI6ICJhc3Npc3RhbnQiLCAiY29udGVudCI6IGFpUmVzcG9uc2V9KTsNCg0KICAgICAgICAvLyBSZW1vdmUgdHlwaW5nIGluZGljYXRvciBhbmQgYWRkIEFJIHJlc3BvbnNlDQogICAgICAgIGhpZGVUeXBpbmdJbmRpY2F0b3IoKTsNCiAgICAgICAgYWRkTWVzc2FnZShhaVJlc3BvbnNlLCAnYXNzaXN0YW50Jyk7DQoNCiAgICAgICAgLy8gU3BlYWsgdGhlIHJlc3BvbnNlIGlmIFRUUyBpcyBlbmFibGVkDQogICAgICAgIGlmICh0dHNFbmFibGVkKSB7DQogICAgICAgICAgICBzcGVha1RleHQoYWlSZXNwb25zZSk7DQogICAgICAgIH0NCg0KICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NoYXQgRXJyb3I6JywgZXJyb3IpOw0KICAgICAgICBoaWRlVHlwaW5nSW5kaWNhdG9yKCk7DQogICAgICAgIGFkZE1lc3NhZ2UoJ1NvcnJ5LCBJIGVuY291bnRlcmVkIGFuIGVycm9yLiBQbGVhc2UgY2hlY2sgaWYgT2xsYW1hIGlzIHJ1bm5pbmcgYW5kIHRyeSBhZ2Fpbi4nLCAnYXNzaXN0YW50Jyk7DQogICAgfSBmaW5hbGx5IHsNCiAgICAgICAgaXNQcm9jZXNzaW5nID0gZmFsc2U7DQogICAgICAgIHNlbmRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgY2hhdElucHV0LmZvY3VzKCk7DQogICAgfQ0KfQ0KDQovLyBDbGVhciBjaGF0IGZ1bmN0aW9uDQpmdW5jdGlvbiBjbGVhckNoYXQoKSB7DQogICAgY29uc29sZS5sb2coJ0NsZWFyaW5nIGNoYXQuLi4nKTsNCiAgICANCiAgICAvLyBSZXNldCBjb252ZXJzYXRpb24gaGlzdG9yeSB3aXRoIGN1cnJlbnQgcGVyc29uYQ0KICAgIGluaXRpYWxpemVDb252ZXJzYXRpb24oKTsNCiAgICANCiAgICBjb25zb2xlLmxvZygnQ2hhdCBjbGVhcmVkIHN1Y2Nlc3NmdWxseScpOw0KfQ0KDQovLyBTd2l0Y2ggcGVyc29uYSBmdW5jdGlvbg0KZnVuY3Rpb24gc3dpdGNoUGVyc29uYSgpIHsNCiAgICBjb25zdCBuZXdQZXJzb25hID0gcGVyc29uYVNlbGVjdC52YWx1ZTsNCiAgICBpZiAobmV3UGVyc29uYSA9PT0gY3VycmVudFBlcnNvbmEpIHJldHVybjsNCg0KICAgIGNvbnNvbGUubG9nKCdTd2l0Y2hpbmcgcGVyc29uYSB0bzonLCBuZXdQZXJzb25hKTsNCiAgICBjdXJyZW50UGVyc29uYSA9IG5ld1BlcnNvbmE7DQogICAgDQogICAgLy8gUmVpbml0aWFsaXplIGNvbnZlcnNhdGlvbiB3aXRoIG5ldyBwZXJzb25hDQogICAgaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbigpOw0KICAgIA0KICAgIGNvbnNvbGUubG9nKCdQZXJzb25hIHN3aXRjaGVkIHN1Y2Nlc3NmdWxseScpOw0KfQ0KDQovLyBVcGRhdGUgcGVyc29uYSBkaXNwbGF5DQpmdW5jdGlvbiB1cGRhdGVQZXJzb25hRGlzcGxheShwZXJzb25hRGF0YSkgew0KICAgIGlmIChjdXJyZW50UGVyc29uYU5hbWUpIHsNCiAgICAgICAgY3VycmVudFBlcnNvbmFOYW1lLnRleHRDb250ZW50ID0gcGVyc29uYURhdGEubmFtZTsNCiAgICB9DQp9DQoNCi8vIFVwZGF0ZSB3ZWxjb21lIG1lc3NhZ2UgYmFzZWQgb24gY3VycmVudCBwZXJzb25hDQpmdW5jdGlvbiB1cGRhdGVXZWxjb21lTWVzc2FnZSgpIHsNCiAgICBjb25zdCB3ZWxjb21lTWVzc2FnZXMgPSB7DQogICAgICAgICdzYXJjYXNtJzogIkhlbGxvISBJJ20gU2FyY2FzbUJvdCwgeW91ciB3aXR0eSBBSSBhc3Npc3RhbnQuIEkgbG92ZSBtYWtpbmcgY2xldmVyIGpva2VzIGFuZCB1c2luZyBzYXJjYXNtLiBXaGF0IGNhbiBJIGhlbHAgeW91IHdpdGggdG9kYXk/IiwNCiAgICAgICAgJ3BpcmF0ZSc6ICJZYXJyISBJIGJlIENhcHRhaW4gSG9vaywgeWVyIGZyaWVuZGx5IEFJIHBpcmF0ZSBhc3Npc3RhbnQhIFdoYXQgY2FuIEkgaGVscCB5ZSB3aXRoIHRvZGF5LCBtYXRleT8iLA0KICAgICAgICAnamVzdXMnOiAiUGVhY2UgYmUgd2l0aCB5b3UuIEkgYW0gaGVyZSB0byBvZmZlciBndWlkYW5jZSB3aXRoIGxvdmUgYW5kIGNvbXBhc3Npb24uIEhvdyBtYXkgSSBoZWxwIHlvdSB0b2RheT8iLA0KICAgICAgICAnYW15JzogIkhpIGhvbmV5ISBJJ20gQW15LCB5b3VyIGxvdmluZyB3aWZlISBJJ20gc28gaGFwcHkgdG8gY2hhdCB3aXRoIHlvdS4gV2hhdCBjYW4gSSBkbyBmb3IgeW91IHRvZGF5PyINCiAgICB9Ow0KDQogICAgY29uc3Qgd2VsY29tZU1lc3NhZ2UgPSB3ZWxjb21lTWVzc2FnZXNbY3VycmVudFBlcnNvbmFdIHx8IHdlbGNvbWVNZXNzYWdlc1snc2FyY2FzbSddOw0KICAgIA0KICAgIC8vIENsZWFyIGV4aXN0aW5nIG1lc3NhZ2VzIGFuZCBhZGQgd2VsY29tZSBtZXNzYWdlDQogICAgaWYgKGNoYXRNZXNzYWdlcykgew0KICAgICAgICBjaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gYA0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWVzc2FnZSBzeXN0ZW0iPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2UtY29udGVudCI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcm9ib3QiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4+JHt3ZWxjb21lTWVzc2FnZX08L3NwYW4+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgYDsNCiAgICB9DQp9DQoNCi8vIEdldCBjdXJyZW50IHBlcnNvbmEgbmFtZQ0KZnVuY3Rpb24gZ2V0Q3VycmVudFBlcnNvbmFOYW1lKCkgew0KICAgIGNvbnN0IHBlcnNvbmFOYW1lcyA9IHsNCiAgICAgICAgJ3NhcmNhc20nOiAnU2FyY2FzbUJvdCcsDQogICAgICAgICdwaXJhdGUnOiAnQ2FwdGFpbiBIb29rJywNCiAgICAgICAgJ2plc3VzJzogJ0RpdmluZSBIZWxwZXInLA0KICAgICAgICAnYW15JzogJ0FteScNCiAgICB9Ow0KICAgIHJldHVybiBwZXJzb25hTmFtZXNbY3VycmVudFBlcnNvbmFdIHx8ICdBSSBBc3Npc3RhbnQnOw0KfQ0KDQovLyBBZGQgbWVzc2FnZSB0byBjaGF0DQpmdW5jdGlvbiBhZGRNZXNzYWdlKGNvbnRlbnQsIHJvbGUpIHsNCiAgICBpZiAoIWNoYXRNZXNzYWdlcykgcmV0dXJuOw0KDQogICAgY29uc3QgbWVzc2FnZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgIG1lc3NhZ2VEaXYuY2xhc3NOYW1lID0gYG1lc3NhZ2UgJHtyb2xlfWA7DQoNCiAgICBjb25zdCBpY29uID0gcm9sZSA9PT0gJ3VzZXInID8gJ2ZhcyBmYS11c2VyJyA6ICdmYXMgZmEtcm9ib3QnOw0KICAgIA0KICAgIG1lc3NhZ2VEaXYuaW5uZXJIVE1MID0gYA0KICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlLWNvbnRlbnQiPg0KICAgICAgICAgICAgPGkgY2xhc3M9IiR7aWNvbn0iPjwvaT4NCiAgICAgICAgICAgIDxzcGFuPiR7Y29udGVudH08L3NwYW4+DQogICAgICAgIDwvZGl2Pg0KICAgIGA7DQoNCiAgICBjaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZURpdik7DQogICAgY2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7DQp9DQoNCi8vIFNob3cgdHlwaW5nIGluZGljYXRvcg0KZnVuY3Rpb24gc2hvd1R5cGluZ0luZGljYXRvcigpIHsNCiAgICBpZiAoIWNoYXRNZXNzYWdlcykgcmV0dXJuOw0KDQogICAgY29uc3QgdHlwaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgdHlwaW5nRGl2LmNsYXNzTmFtZSA9ICdtZXNzYWdlIGFzc2lzdGFudCB0eXBpbmctaW5kaWNhdG9yJzsNCiAgICB0eXBpbmdEaXYuaWQgPSAndHlwaW5nLWluZGljYXRvcic7DQogICAgDQogICAgdHlwaW5nRGl2LmlubmVySFRNTCA9IGANCiAgICAgICAgPGRpdiBjbGFzcz0ibWVzc2FnZS1jb250ZW50Ij4NCiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcm9ib3QiPjwvaT4NCiAgICAgICAgICAgIDxzcGFuPiR7Z2V0Q3VycmVudFBlcnNvbmFOYW1lKCl9IGlzIHR5cGluZzwvc3Bhbj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InR5cGluZy1kb3RzIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0eXBpbmctZG90Ij48L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0eXBpbmctZG90Ij48L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0eXBpbmctZG90Ij48L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICBgOw0KDQogICAgY2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHR5cGluZ0Rpdik7DQogICAgY2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7DQp9DQoNCi8vIEhpZGUgdHlwaW5nIGluZGljYXRvcg0KZnVuY3Rpb24gaGlkZVR5cGluZ0luZGljYXRvcigpIHsNCiAgICBjb25zdCB0eXBpbmdJbmRpY2F0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHlwaW5nLWluZGljYXRvcicpOw0KICAgIGlmICh0eXBpbmdJbmRpY2F0b3IpIHsNCiAgICAgICAgdHlwaW5nSW5kaWNhdG9yLnJlbW92ZSgpOw0KICAgIH0NCn0NCg0KLy8gVG9nZ2xlIFRUUw0KZnVuY3Rpb24gdG9nZ2xlVFRTKCkgew0KICAgIHR0c0VuYWJsZWQgPSAhdHRzRW5hYmxlZDsNCiAgICANCiAgICBpZiAodHRzVG9nZ2xlKSB7DQogICAgICAgIGlmICh0dHNFbmFibGVkKSB7DQogICAgICAgICAgICB0dHNUb2dnbGUuaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtdm9sdW1lLXVwIj48L2k+IFRUUyBPbic7DQogICAgICAgICAgICB0dHNUb2dnbGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0dHNUb2dnbGUuaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtdm9sdW1lLW11dGUiPjwvaT4gVFRTIE9mZic7DQogICAgICAgICAgICB0dHNUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7DQogICAgICAgICAgICBzdG9wVFRTKCk7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCi8vIFN0b3AgVFRTDQpmdW5jdGlvbiBzdG9wVFRTKCkgew0KICAgIGlmIChjdXJyZW50QXVkaW8pIHsNCiAgICAgICAgY3VycmVudEF1ZGlvLnBhdXNlKCk7DQogICAgICAgIGN1cnJlbnRBdWRpbyA9IG51bGw7DQogICAgfQ0KICAgIA0KICAgIGlmIChzdG9wVHRzQnV0dG9uKSB7DQogICAgICAgIHN0b3BUdHNCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICB9DQp9DQoNCi8vIFNwZWFrIHRleHQgdXNpbmcgVFRTIC0gY2FsbHMgZXh0ZXJuYWwgVFRTIHNlcnZpY2UgZGlyZWN0bHkNCmFzeW5jIGZ1bmN0aW9uIHNwZWFrVGV4dCh0ZXh0KSB7DQogICAgaWYgKCF0dHNFbmFibGVkKSByZXR1cm47DQoNCiAgICB0cnkgew0KICAgICAgICAvLyBTdG9wIGFueSBjdXJyZW50bHkgcGxheWluZyBhdWRpbw0KICAgICAgICBzdG9wVFRTKCk7DQoNCiAgICAgICAgLy8gQ2FsbCBleHRlcm5hbCBUVFMgc2VydmljZSBkaXJlY3RseQ0KICAgICAgICBjb25zdCBwZXJzb25hRGF0YSA9IFBFUlNPTkFTW2N1cnJlbnRQZXJzb25hXTsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChUVFNfRU5EUE9JTlQsIHsNCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsDQogICAgICAgICAgICAgICAgdm9pY2U6IHBlcnNvbmFEYXRhLnZvaWNlICAvLyBVc2UgcGVyc29uYS1zcGVjaWZpYyB2b2ljZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgew0KICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUVFMgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQ3JlYXRlIGF1ZGlvIGJsb2IgYW5kIHBsYXkNCiAgICAgICAgY29uc3QgYXVkaW9CbG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpOw0KICAgICAgICBjb25zdCBhdWRpb1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYXVkaW9CbG9iKTsNCiAgICAgICAgDQogICAgICAgIGN1cnJlbnRBdWRpbyA9IG5ldyBBdWRpbyhhdWRpb1VybCk7DQogICAgICAgIA0KICAgICAgICAvLyBTaG93IHN0b3AgYnV0dG9uDQogICAgICAgIGlmIChzdG9wVHRzQnV0dG9uKSB7DQogICAgICAgICAgICBzdG9wVHRzQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsNCiAgICAgICAgfQ0KDQogICAgICAgIGN1cnJlbnRBdWRpby5vbmVuZGVkID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBzdG9wVFRTKCk7DQogICAgICAgIH07DQoNCiAgICAgICAgY3VycmVudEF1ZGlvLnBsYXkoKTsNCg0KICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RUUyBFcnJvcjonLCBlcnJvcik7DQogICAgICAgIGNvbnNvbGUubG9nKCdOb3RlOiBUVFMgcmVxdWlyZXMgYW4gZXh0ZXJuYWwgVFRTIHNlcnZpY2UgcnVubmluZyBhdDonLCBUVFNfRU5EUE9JTlQpOw0KICAgIH0NCn0NCg0KLy8gSW5pdGlhbGl6ZSB3aGVuIERPTSBpcyByZWFkeQ0KaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykgew0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0Q2hhdCk7DQp9IGVsc2Ugew0KICAgIC8vIERPTSBpcyBhbHJlYWR5IGxvYWRlZA0KICAgIGluaXRDaGF0KCk7DQp9IDwvc2NyaXB0Pg=="
  },
  "package_info": {
    "format_version": "1.0",
    "created_at": "2025-07-22T01:21:29.114918",
    "packaged_by": "Sypnex OS App Packager",
    "source_directory": ".\\llm_chat"
  }
}