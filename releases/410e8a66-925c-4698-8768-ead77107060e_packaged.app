{
  "app_metadata": {
    "id": "410e8a66-925c-4698-8768-ead77107060e",
    "name": "Text Editor",
    "description": "A simple text editor for creating and editing text files in the virtual file system",
    "icon": "fas fa-edit",
    "keywords": [
      "text_editor",
      "editor",
      "file",
      "edit",
      "write"
    ],
    "author": "Sypnex OS",
    "version": "1.0.9",
    "type": "user_app",
    "scripts": [
      "js/utils.js",
      "js/settings-manager.js",
      "js/file-manager.js",
      "js/editor-manager.js",
      "js/syntax-highlighting.js",
      "js/code-validation.js",
      "js/ui-manager.js",
      "js/main.js"
    ],
    "settings": [
      {
        "key": "FONT_SIZE",
        "name": "Font Size",
        "type": "number",
        "value": 14,
        "description": "Text editor font size in pixels"
      },
      {
        "key": "TAB_SIZE",
        "name": "Tab Size",
        "type": "number",
        "value": 4,
        "description": "Number of spaces for tab indentation"
      }
    ]
  },
  "files": {
    "410e8a66-925c-4698-8768-ead77107060e.app": "ew0KICAgICJpZCI6ICI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiLA0KICAgICJuYW1lIjogIlRleHQgRWRpdG9yIiwNCiAgICAiZGVzY3JpcHRpb24iOiAiQSBzaW1wbGUgdGV4dCBlZGl0b3IgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIHRleHQgZmlsZXMgaW4gdGhlIHZpcnR1YWwgZmlsZSBzeXN0ZW0iLA0KICAgICJpY29uIjogImZhcyBmYS1lZGl0IiwNCiAgICAia2V5d29yZHMiOiBbInRleHRfZWRpdG9yIiwgImVkaXRvciIsICJmaWxlIiwgImVkaXQiLCAid3JpdGUiXSwNCiAgICAiYXV0aG9yIjogIlN5cG5leCBPUyIsDQogICAgInZlcnNpb24iOiAiMS4wLjkiLA0KICAgICJ0eXBlIjogInVzZXJfYXBwIiwNCiAgICAic2NyaXB0cyI6IFsNCiAgICAgICAgImpzL3V0aWxzLmpzIiwNCiAgICAgICAgImpzL3NldHRpbmdzLW1hbmFnZXIuanMiLA0KICAgICAgICAianMvZmlsZS1tYW5hZ2VyLmpzIiwNCiAgICAgICAgImpzL2VkaXRvci1tYW5hZ2VyLmpzIiwNCiAgICAgICAgImpzL3N5bnRheC1oaWdobGlnaHRpbmcuanMiLA0KICAgICAgICAianMvY29kZS12YWxpZGF0aW9uLmpzIiwgDQogICAgICAgICJqcy91aS1tYW5hZ2VyLmpzIiwNCiAgICAgICAgImpzL21haW4uanMiDQogICAgXSwNCiAgICAic2V0dGluZ3MiOiBbDQogICAgICAgIHsNCiAgICAgICAgICAgICJrZXkiOiAiRk9OVF9TSVpFIiwNCiAgICAgICAgICAgICJuYW1lIjogIkZvbnQgU2l6ZSIsDQogICAgICAgICAgICAidHlwZSI6ICJudW1iZXIiLA0KICAgICAgICAgICAgInZhbHVlIjogMTQsDQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGV4dCBlZGl0b3IgZm9udCBzaXplIGluIHBpeGVscyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgImtleSI6ICJUQUJfU0laRSIsDQogICAgICAgICAgICAibmFtZSI6ICJUYWIgU2l6ZSIsDQogICAgICAgICAgICAidHlwZSI6ICJudW1iZXIiLA0KICAgICAgICAgICAgInZhbHVlIjogNCwNCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJOdW1iZXIgb2Ygc3BhY2VzIGZvciB0YWIgaW5kZW50YXRpb24iDQogICAgICAgIH0NCiAgICBdDQp9IA==",
    "410e8a66-925c-4698-8768-ead77107060e.html": "PHN0eWxlIHR5cGU9InRleHQvY3NzIj4vKiA9PT09PSBTdHlsZTogc3R5bGUuY3NzID09PT09ICovDQovKiBUZXh0IEVkaXRvciBBcHAgU3R5bGVzICovDQovKiBBcHAgQ29udGFpbmVyICovDQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmFwcC1jb250YWluZXIgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgbWluLWhlaWdodDogMA0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuYXBwLWNvbnRlbnQgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICBmbGV4OiAxOw0KICAgIG1pbi1oZWlnaHQ6IDANCiAgICB9DQovKiBFZGl0b3IgQ29udGFpbmVyICovDQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmVkaXRvci1jb250YWluZXIgew0KICAgIGZsZXg6IDE7DQogICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1iZyk7DQogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBtYXJnaW46IDE1cHggMDsNCiAgICBtaW4taGVpZ2h0OiAyMDBweDsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4NCiAgICB9DQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmVkaXRvci13cmFwcGVyIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXg6IDE7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIGhlaWdodDogMTAwJQ0KICAgIH0NCi8qIExpbmUgTnVtYmVycyAqLw0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5saW5lLW51bWJlcnMgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLWdsYXNzLWJnKTsNCiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgIHBhZGRpbmc6IDEwcHggOHB4Ow0KICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1vbmFjbywgIkNhc2NhZGlhIENvZGUiLCBtb25vc3BhY2U7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIC8qIE1hdGNoIGVkaXRvciBmb250IHNpemUgKi8NCiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7DQogICAgdGV4dC1hbGlnbjogcmlnaHQ7DQogICAgbWluLXdpZHRoOiA1MHB4Ow0KICAgIHVzZXItc2VsZWN0OiBub25lOw0KICAgIG92ZXJmbG93LXk6IGhpZGRlbjsNCiAgICBsaW5lLWhlaWdodDogMS42Ow0KICAgIC8qIE1hdGNoIGVkaXRvciBsaW5lIGhlaWdodCAqLw0KICAgIGZsZXgtc2hyaW5rOiAwDQogICAgfQ0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5saW5lLW51bWJlcnMuaGlkZGVuIHsNCiAgICBkaXNwbGF5OiBub25lDQogICAgfQ0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5saW5lLW51bWJlciB7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgcGFkZGluZzogMCA0cHgNCiAgICB9DQovKiBUZXh0IEVkaXRvciAqLw0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdICN0ZXh0LWVkaXRvciB7DQogICAgZmxleDogMTsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWJnKTsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgZm9udC1mYW1pbHk6ICJTRiBNb25vIiwgTW9uYWNvLCAiQ2FzY2FkaWEgQ29kZSIsIG1vbm9zcGFjZTsNCiAgICBmb250LXNpemU6IDE0cHg7DQogICAgbGluZS1oZWlnaHQ6IDEuNjsNCiAgICBwYWRkaW5nOiAxMHB4IDE1cHg7DQogICAgcmVzaXplOiBub25lOw0KICAgIG91dGxpbmU6IG5vbmU7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBvdmVyZmxvdy14OiBhdXRvOw0KICAgIHdoaXRlLXNwYWNlOiBwcmU7DQogICAgdGFiLXNpemU6IDQ7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3gNCiAgICB9DQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gI3RleHQtZWRpdG9yLndvcmQtd3JhcCB7DQogICAgd2hpdGUtc3BhY2U6IHByZS13cmFwOw0KICAgIHdvcmQtd3JhcDogYnJlYWstd29yZA0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAjdGV4dC1lZGl0b3I6OnBsYWNlaG9sZGVyIHsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCkNCiAgICB9DQovKiBTeW50YXggSGlnaGxpZ2h0aW5nIEVkaXRvciAqLw0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3Igew0KICAgIGZsZXg6IDE7DQogICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1iZyk7DQogICAgYm9yZGVyOiBub25lOw0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1vbmFjbywgIkNhc2NhZGlhIENvZGUiLCBtb25vc3BhY2U7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAxLjY7DQogICAgcGFkZGluZzogMTBweCAxNXB4Ow0KICAgIG91dGxpbmU6IG5vbmU7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBvdmVyZmxvdy14OiBhdXRvOw0KICAgIHdoaXRlLXNwYWNlOiBwcmU7DQogICAgdGFiLXNpemU6IDQ7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgcG9zaXRpb246IHJlbGF0aXZlDQogICAgfQ0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3I6Zm9jdXMgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktYmcpDQogICAgfQ0KLyogUHJpc20uanMgVGhlbWUgT3ZlcnJpZGVzIGZvciBiZXR0ZXIgaW50ZWdyYXRpb24gKi8NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5jb21tZW50LCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4ucHJvbG9nLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4uZG9jdHlwZSwgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3IgLnRva2VuLmNkYXRhIHsNCiAgICBjb2xvcjogIzZhNzM3ZA0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5wdW5jdHVhdGlvbiB7DQogICAgY29sb3I6ICNlMWU0ZTgNCiAgICB9DQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4ucHJvcGVydHksIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi50YWcsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5ib29sZWFuLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4ubnVtYmVyLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4uY29uc3RhbnQsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5zeW1ib2wsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5kZWxldGVkIHsNCiAgICBjb2xvcjogIzc5YjhmZg0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5zZWxlY3RvciwgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3IgLnRva2VuLmF0dHItbmFtZSwgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3IgLnRva2VuLnN0cmluZywgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3IgLnRva2VuLmNoYXIsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5idWlsdGluLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4uaW5zZXJ0ZWQgew0KICAgIGNvbG9yOiAjODVlODlkDQogICAgfQ0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3IgLnRva2VuLm9wZXJhdG9yLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4uZW50aXR5LCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4udXJsLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAubGFuZ3VhZ2UtY3NzIC50b2tlbi5zdHJpbmcsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC5zdHlsZSAudG9rZW4uc3RyaW5nIHsNCiAgICBjb2xvcjogI2Y5NzU4Mw0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5hdHJ1bGUsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5hdHRyLXZhbHVlLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4ua2V5d29yZCB7DQogICAgY29sb3I6ICNmOTc1ODMNCiAgICB9DQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvciAudG9rZW4uZnVuY3Rpb24sIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5jbGFzcy1uYW1lIHsNCiAgICBjb2xvcjogI2IzOTJmMA0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5yZWdleCwgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3IgLnRva2VuLmltcG9ydGFudCwgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3IgLnRva2VuLnZhcmlhYmxlIHsNCiAgICBjb2xvcjogI2ZmYWI3MA0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5pbXBvcnRhbnQsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5ib2xkIHsNCiAgICBmb250LXdlaWdodDogYm9sZA0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5pdGFsaWMgew0KICAgIGZvbnQtc3R5bGU6IGl0YWxpYw0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIC50b2tlbi5lbnRpdHkgew0KICAgIGN1cnNvcjogaGVscA0KICAgIH0NCi8qIEVkaXRvciBTdGF0dXMgQmFyICovDQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmVkaXRvci1zdGF0dXMgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIHBhZGRpbmc6IDhweCAyMHB4Ow0KICAgIGJhY2tncm91bmQ6IHZhcigtLWdsYXNzLWJnKTsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICBmb250LXNpemU6IDE0cHg7DQogICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTsNCiAgICBmbGV4LXNocmluazogMDsNCiAgICBoZWlnaHQ6IDMycHg7DQogICAgbWluLWhlaWdodDogMzJweA0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuc3RhdHVzLWxlZnQgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAyMHB4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXINCiAgICB9DQovKiBPdmVycmlkZSB0aGUgbWFpbiBPUyAuc3RhdHVzLWl0ZW0gc3R5bGVzIHRvIGJlIGZsYXQgKi8NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuZWRpdG9yLXN0YXR1cyAuc3RhdHVzLWl0ZW0gew0KICAgIGJhY2tncm91bmQ6IG5vbmUgIWltcG9ydGFudDsNCiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDsNCiAgICBib3JkZXItcmFkaXVzOiAwICFpbXBvcnRhbnQ7DQogICAgcGFkZGluZzogMCAhaW1wb3J0YW50Ow0KICAgIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDsNCiAgICBkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBsaW5lLWhlaWdodDogMS40Ow0KICAgIGZvbnQtd2VpZ2h0OiA1MDANCiAgICB9DQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmVkaXRvci1zdGF0dXMgLnN0YXR1cy1pdGVtIHNwYW4gew0KICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgIGZvbnQtd2VpZ2h0OiA2MDANCiAgICB9DQovKiBGaWxlIFBhdGggRGlzcGxheSAqLw0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5maWxlLXBhdGgtZGlzcGxheSB7DQogICAgYmFja2dyb3VuZDogdmFyKC0tZ2xhc3MtYmcpOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWdsYXNzLWJvcmRlcik7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIHBhZGRpbmc6IDEwcHggMTVweDsNCiAgICBtaW4td2lkdGg6IDIwMHB4Ow0KICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1vbmFjbywgIkNhc2NhZGlhIENvZGUiLCBtb25vc3BhY2U7DQogICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbA0KICAgIH0NCi8qIFJlc3BvbnNpdmUgRGVzaWduICovDQpAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsNCiAgICAuYXBwLXRvb2xiYXIgew0KICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgICBnYXA6IDEwcHgNCiAgICAgICAgfQ0KICAgIC5hcHAtYnRuLWdyb3VwIHsNCiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXINCiAgICAgICAgfQ0KICAgIC5lZGl0b3Itc3RhdHVzIHsNCiAgICAgICAgZmxleC13cmFwOiB3cmFwOw0KICAgICAgICBnYXA6IDE1cHg7DQogICAgICAgIHBhZGRpbmc6IDhweCAxNXB4Ow0KICAgICAgICBmb250LXNpemU6IDEzcHgNCiAgICAgICAgfQ0KICAgIC5saW5lLW51bWJlcnMgew0KICAgICAgICBtaW4td2lkdGg6IDQwcHg7DQogICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgLyogTWF0Y2ggZWRpdG9yIGZvbnQgc2l6ZSAqLw0KICAgICAgICB9DQogICAgI3RleHQtZWRpdG9yLCAuaGlnaGxpZ2h0ZWQtZWRpdG9yIHsNCiAgICAgICAgZm9udC1zaXplOiAxM3B4DQogICAgICAgIH0NCiAgICB9DQovKiBGb2N1cyBTdGF0ZXMgKi8NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAjdGV4dC1lZGl0b3I6Zm9jdXMgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktYmcpDQogICAgfQ0KLyogU2Nyb2xsYmFyIFN0eWxpbmcgLSBJbXByb3ZlZCBVWCAqLw0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdICN0ZXh0LWVkaXRvcjo6LXdlYmtpdC1zY3JvbGxiYXIsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAubGluZS1udW1iZXJzOjotd2Via2l0LXNjcm9sbGJhciwgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3I6Oi13ZWJraXQtc2Nyb2xsYmFyIHsNCiAgICB3aWR0aDogMTZweDsNCiAgICAvKiBJbmNyZWFzZWQgZnJvbSA4cHggZm9yIGJldHRlciB1c2FiaWxpdHkgKi8NCiAgICBoZWlnaHQ6IDE2cHg7DQogICAgLyogSW5jcmVhc2VkIGZyb20gOHB4IGZvciBiZXR0ZXIgdXNhYmlsaXR5ICovDQogICAgfQ0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdICN0ZXh0LWVkaXRvcjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2ssIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAubGluZS1udW1iZXJzOjotd2Via2l0LXNjcm9sbGJhci10cmFjaywgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3I6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1nbGFzcy1iZyk7DQogICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKQ0KICAgIH0NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAjdGV4dC1lZGl0b3I6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmxpbmUtbnVtYmVyczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7DQogICAgYmFja2dyb3VuZDogdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZ2xhc3MtYmcpOw0KICAgIC8qIEFkZHMgcGFkZGluZyBhcm91bmQgdGhlIHRodW1iIGZvciBlYXNpZXIgY2xpY2tpbmcgKi8NCiAgICBtaW4taGVpZ2h0OiAzMHB4Ow0KICAgIC8qIEVuc3VyZXMgbWluaW11bSB0aHVtYiBzaXplIGZvciBlYXNpZXIgZ3JhYmJpbmcgKi8NCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlDQogICAgfQ0KLyogQ29ybmVyIHdoZXJlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIHNjcm9sbGJhcnMgbWVldCAqLw0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdICN0ZXh0LWVkaXRvcjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmxpbmUtbnVtYmVyczo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmhpZ2hsaWdodGVkLWVkaXRvcjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyIHsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1nbGFzcy1iZykNCiAgICB9DQovKiBGaXJlZm94IHNjcm9sbGJhciBzdHlsaW5nICovDQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gI3RleHQtZWRpdG9yLCBbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmxpbmUtbnVtYmVycywgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5oaWdobGlnaHRlZC1lZGl0b3Igew0KICAgIHNjcm9sbGJhci13aWR0aDogYXV0bzsNCiAgICAvKiBVc2Ugc3RhbmRhcmQgd2lkdGgsIG5vdCB0aGluICovDQogICAgc2Nyb2xsYmFyLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpIHZhcigtLWdsYXNzLWJnKQ0KICAgIH0NCi8qIEZvciBiZXR0ZXIgc2Nyb2xsYmFyIGludGVyYWN0aW9uIG9uIGFsbCBicm93c2VycyAqLw0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdICN0ZXh0LWVkaXRvciwgW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5saW5lLW51bWJlcnMsIFtkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuaGlnaGxpZ2h0ZWQtZWRpdG9yIHsNCiAgICAvKiBFbnN1cmUgc2Nyb2xsYmFycyBhcmUgYWx3YXlzIHZpc2libGUgd2hlbiBjb250ZW50IG92ZXJmbG93cyAqLw0KICAgIG92ZXJmbG93OiBhdXRvDQogICAgfQ0KLyogQXBwIFRvb2xiYXIgKi8NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuYXBwLXRvb2xiYXIgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgcGFkZGluZzogMTVweDsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1nbGFzcy1iZyk7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgZmxleC1zaHJpbms6IDANCiAgICB9DQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmFwcC1idG4tZ3JvdXAgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAxMHB4DQogICAgfQ0KLyogQW5pbWF0aW9uIGZvciBzdGF0dXMgY2hhbmdlcyAqLw0KW2RhdGEtYXBwaWQ9IjQxMGU4YTY2LTkyNWMtNDY5OC04NzY4LWVhZDc3MTA3MDYwZSJdIC5zdGF0dXMtdmFsdWUgew0KICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMnMgZWFzZQ0KICAgIH0NCi8qIE1vZGlmaWVkIHN0YXR1cyBpbmRpY2F0b3IgKi8NCltkYXRhLWFwcGlkPSI0MTBlOGE2Ni05MjVjLTQ2OTgtODc2OC1lYWQ3NzEwNzA2MGUiXSAuc3RhdHVzLXZhbHVlLm1vZGlmaWVkIHsNCiAgICBjb2xvcjogI2ZmOTgwMDsNCiAgICBhbmltYXRpb246IHB1bHNlIDJzIGluZmluaXRlDQogICAgfQ0KQGtleWZyYW1lcyBwdWxzZSB7DQogICAgMCUgew0KICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgICB9IDUwJSB7DQogICAgICAgIG9wYWNpdHk6IDAuNzsNCiAgICAgICAgfSAxMDAlIHsNCiAgICAgICAgb3BhY2l0eTogMTsNCiAgICAgICAgfQ0KICAgIH0NCi8qIEFjdGl2ZSB0b2dnbGUgYnV0dG9uICovDQpbZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIl0gLmFwcC1idG4uYWN0aXZlIHsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtcHJpbWFyeSk7DQogICAgY29sb3I6IHdoaXRlDQogICAgfTwvc3R5bGU+PGRpdiBjbGFzcz0iYXBwLWNvbnRhaW5lciIgZGF0YS1hcHBpZD0iNDEwZThhNjYtOTI1Yy00Njk4LTg3NjgtZWFkNzcxMDcwNjBlIj4NCjxkaXYgY2xhc3M9ImFwcC1jb250ZW50Ij4NCjxkaXYgY2xhc3M9ImFwcC10b29sYmFyIj4NCjxkaXYgY2xhc3M9ImFwcC1idG4tZ3JvdXAiPg0KPGJ1dHRvbiBjbGFzcz0iYXBwLWJ0biBwcmltYXJ5IiBpZD0ibmV3LWZpbGUiPg0KPGkgY2xhc3M9ImZhcyBmYS1maWxlIj48L2k+IE5ldw0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KPGJ1dHRvbiBjbGFzcz0iYXBwLWJ0biBzZWNvbmRhcnkiIGlkPSJsb2FkLWZpbGUiPg0KPGkgY2xhc3M9ImZhcyBmYS1mb2xkZXItb3BlbiI+PC9pPiBMb2FkDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQo8YnV0dG9uIGNsYXNzPSJhcHAtYnRuIHByaW1hcnkiIGlkPSJzYXZlLWZpbGUiPg0KPGkgY2xhc3M9ImZhcyBmYS1zYXZlIj48L2k+IFNhdmUNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCjxidXR0b24gY2xhc3M9ImFwcC1idG4gc2Vjb25kYXJ5IiBpZD0ic2F2ZS1hcy1maWxlIj4NCjxpIGNsYXNzPSJmYXMgZmEtc2F2ZSI+PC9pPiBTYXZlIEFzDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQo8L2Rpdj4NCjxkaXYgY2xhc3M9ImFwcC1idG4tZ3JvdXAiPg0KPGJ1dHRvbiBjbGFzcz0iYXBwLWJ0biBzZWNvbmRhcnkiIGlkPSJ3b3JkLXdyYXAtdG9nZ2xlIj4NCjxpIGNsYXNzPSJmYXMgZmEtdGV4dC13aWR0aCI+PC9pPiBXb3JkIFdyYXANCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCjxidXR0b24gY2xhc3M9ImFwcC1idG4gc2Vjb25kYXJ5IiBpZD0ibGluZS1udW1iZXJzLXRvZ2dsZSI+DQo8aSBjbGFzcz0iZmFzIGZhLWxpc3Qtb2wiPjwvaT4gTGluZSBOdW1iZXJzDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQo8YnV0dG9uIGNsYXNzPSJhcHAtYnRuIHNlY29uZGFyeSIgaWQ9InN5bnRheC1oaWdobGlnaHRpbmctdG9nZ2xlIj4NCjxpIGNsYXNzPSJmYXMgZmEtY29kZSI+PC9pPiBTeW50YXggSGlnaGxpZ2h0aW5nDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQo8L2Rpdj4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iZWRpdG9yLWNvbnRhaW5lciI+DQo8ZGl2IGNsYXNzPSJlZGl0b3Itd3JhcHBlciI+DQo8ZGl2IGNsYXNzPSJsaW5lLW51bWJlcnMiIGlkPSJsaW5lLW51bWJlcnMiPjwvZGl2Pg0KPHRleHRhcmVhIGNsYXNzPSJhcHAtdGV4dGFyZWEiIGlkPSJ0ZXh0LWVkaXRvciIgcGxhY2Vob2xkZXI9IlN0YXJ0IHR5cGluZyB5b3VyIHRleHQgaGVyZS4uLiI+PC90ZXh0YXJlYT4NCjwvZGl2Pg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJlZGl0b3Itc3RhdHVzIj4NCjxkaXYgY2xhc3M9InN0YXR1cy1sZWZ0Ij4NCjxzcGFuIGNsYXNzPSJzdGF0dXMtaXRlbSI+RmlsZTogPHNwYW4gaWQ9ImN1cnJlbnQtZmlsZW5hbWUiPnVudGl0bGVkLnR4dDwvc3Bhbj48L3NwYW4+DQo8c3BhbiBjbGFzcz0ic3RhdHVzLWl0ZW0iPk1vZGlmaWVkOiA8c3BhbiBpZD0ibW9kaWZpZWQtc3RhdHVzIj5Obzwvc3Bhbj48L3NwYW4+DQo8L2Rpdj4NCjwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4NCg0KPHNjcmlwdD4vLyA9PT09PSBTY3JpcHQ6IGpzL3V0aWxzLmpzID09PT09DQoNCg0KLy8gPT09PT0gU2NyaXB0OiBqcy9zZXR0aW5ncy1tYW5hZ2VyLmpzID09PT09DQoNCg0KLy8gPT09PT0gU2NyaXB0OiBqcy9maWxlLW1hbmFnZXIuanMgPT09PT0NCg0KDQovLyA9PT09PSBTY3JpcHQ6IGpzL2VkaXRvci1tYW5hZ2VyLmpzID09PT09DQoNCg0KLy8gPT09PT0gU2NyaXB0OiBqcy9zeW50YXgtaGlnaGxpZ2h0aW5nLmpzID09PT09DQoNCg0KLy8gPT09PT0gU2NyaXB0OiBqcy9jb2RlLXZhbGlkYXRpb24uanMgPT09PT0NCg0KDQovLyA9PT09PSBTY3JpcHQ6IGpzL3VpLW1hbmFnZXIuanMgPT09PT0NCg0KDQovLyA9PT09PSBTY3JpcHQ6IGpzL21haW4uanMgPT09PT0NCg0KDQovLyBDaGVjayBpZiBmaWxlIGlzIHN1cHBvcnRlZCBmb3Igc3ludGF4IGhpZ2hsaWdodGluZw0KZnVuY3Rpb24gZ2V0RmlsZUxhbmd1YWdlKGZpbGVQYXRoKSB7DQogICAgaWYgKCFmaWxlUGF0aCkgcmV0dXJuIG51bGw7DQogICAgDQogICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZVBhdGgudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoZmlsZVBhdGgubGFzdEluZGV4T2YoJy4nKSk7DQogICAgDQogICAgY29uc3QgbGFuZ3VhZ2VNYXAgPSB7DQogICAgICAgICcucHknOiAncHl0aG9uJywNCiAgICAgICAgJy5weXcnOiAncHl0aG9uJywgDQogICAgICAgICcucHl4JzogJ3B5dGhvbicsDQogICAgICAgICcucHlpJzogJ3B5dGhvbicsDQogICAgICAgICcucHlkJzogJ3B5dGhvbicsDQogICAgICAgICcuanMnOiAnamF2YXNjcmlwdCcsDQogICAgICAgICcuanNvbic6ICdqc29uJywNCiAgICAgICAgJy5odG1sJzogJ2h0bWwnLA0KICAgICAgICAnLmh0bSc6ICdodG1sJywNCiAgICAgICAgJy5jc3MnOiAnY3NzJw0KICAgIH07DQogICAgDQogICAgcmV0dXJuIGxhbmd1YWdlTWFwW2V4dGVuc2lvbl0gfHwgbnVsbDsNCn0NCg0KLy8gQ2hlY2sgaWYgZmlsZSBpcyBQeXRob24gKGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KQ0KZnVuY3Rpb24gaXNQeXRob25GaWxlKGZpbGVQYXRoKSB7DQogICAgcmV0dXJuIGdldEZpbGVMYW5ndWFnZShmaWxlUGF0aCkgPT09ICdweXRob24nOw0KfQ0KDQovLyBTaW1wbGUgaGVscGVyIGZ1bmN0aW9ucyAoa2VlcGluZyB0aGVzZSBmb3IgcG90ZW50aWFsIGZ1dHVyZSB1c2UpDQpmdW5jdGlvbiBnZXRTaW1wbGVUZXh0Q29udGVudCgpIHsNCiAgICByZXR1cm4gdGV4dEVkaXRvci50ZXh0YXJlYS52YWx1ZTsNCn0NCg0KLy8gTG9hZCBhcHAgc2V0dGluZ3MNCmFzeW5jIGZ1bmN0aW9uIGxvYWRTZXR0aW5ncygpIHsNCiAgICB0cnkgew0KICAgICAgICB0ZXh0RWRpdG9yLnNldHRpbmdzID0gew0KICAgICAgICAgICAgZm9udFNpemU6IGF3YWl0IHN5cG5leEFQSS5nZXRTZXR0aW5nKCdGT05UX1NJWkUnLCAxNCksDQogICAgICAgICAgICB0YWJTaXplOiBhd2FpdCBzeXBuZXhBUEkuZ2V0U2V0dGluZygnVEFCX1NJWkUnLCA0KSwNCiAgICAgICAgICAgIHN5bnRheEhpZ2hsaWdodGluZzogYXdhaXQgc3lwbmV4QVBJLmdldFNldHRpbmcoJ1NZTlRBWF9ISUdITElHSFRJTkcnLCB0cnVlKQ0KICAgICAgICB9Ow0KICAgICAgICANCiAgICAgICAgLy8gQXBwbHkgc2V0dGluZ3MNCiAgICAgICAgdGV4dEVkaXRvci50ZXh0YXJlYS5zdHlsZS5mb250U2l6ZSA9IHRleHRFZGl0b3Iuc2V0dGluZ3MuZm9udFNpemUgKyAncHgnOw0KICAgICAgICB0ZXh0RWRpdG9yLnRleHRhcmVhLnN0eWxlLnRhYlNpemUgPSB0ZXh0RWRpdG9yLnNldHRpbmdzLnRhYlNpemU7DQogICAgICAgIA0KICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNldHRpbmdzOicsIGVycm9yKTsNCiAgICAgICAgLy8gVXNlIGRlZmF1bHRzDQogICAgICAgIHRleHRFZGl0b3Iuc2V0dGluZ3MgPSB7DQogICAgICAgICAgICBmb250U2l6ZTogMTQsDQogICAgICAgICAgICB0YWJTaXplOiA0LA0KICAgICAgICAgICAgc3ludGF4SGlnaGxpZ2h0aW5nOiB0cnVlDQogICAgICAgIH07DQogICAgfQ0KfQ0KDQoNCg0KDQovLyBDcmVhdGUgbmV3IGZpbGUNCmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5ld0ZpbGUoKSB7DQogICAgaWYgKHRleHRFZGl0b3IuaXNNb2RpZmllZCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgY29uZmlybWVkID0gYXdhaXQgc3lwbmV4QVBJLnNob3dDb25maXJtYXRpb24oDQogICAgICAgICAgICAgICAgJ1Vuc2F2ZWQgQ2hhbmdlcycsDQogICAgICAgICAgICAgICAgJ1lvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyB0aGF0IHdpbGwgYmUgbG9zdC4nLA0KICAgICAgICAgICAgICAgICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY3JlYXRlIGEgbmV3IGZpbGU/JywNCiAgICAgICAgICAgICAgICAnQ3JlYXRlIE5ldyBGaWxlJywNCiAgICAgICAgICAgICAgICAnd2FybmluZycNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChjb25maXJtZWQpIHsNCiAgICAgICAgICAgICAgICBjbGVhckVkaXRvcigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2hvd2luZyBjb25maXJtYXRpb246JywgZXJyb3IpOw0KICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gbmF0aXZlIGNvbmZpcm0gaWYgU3lwbmV4QVBJIGZhaWxzDQogICAgICAgICAgICBpZiAoY29uZmlybSgnWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzLiBDcmVhdGUgbmV3IGZpbGUgYW55d2F5PycpKSB7DQogICAgICAgICAgICAgICAgY2xlYXJFZGl0b3IoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGNsZWFyRWRpdG9yKCk7DQogICAgfQ0KfQ0KDQovLyBMb2FkIGZpbGUgZnJvbSBWRlMNCmFzeW5jIGZ1bmN0aW9uIGxvYWRGaWxlKCkgew0KICAgIC8vIENoZWNrIGZvciB1bnNhdmVkIGNoYW5nZXMgZmlyc3QNCiAgICBpZiAodGV4dEVkaXRvci5pc01vZGlmaWVkKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCBzeXBuZXhBUEkuc2hvd0NvbmZpcm1hdGlvbigNCiAgICAgICAgICAgICAgICAnVW5zYXZlZCBDaGFuZ2VzJywNCiAgICAgICAgICAgICAgICAnWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIHRoYXQgd2lsbCBiZSBsb3N0LicsDQogICAgICAgICAgICAgICAgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsb2FkIGEgbmV3IGZpbGU/JywNCiAgICAgICAgICAgICAgICAnTG9hZCBGaWxlJywNCiAgICAgICAgICAgICAgICAnd2FybmluZycNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmICghY29uZmlybWVkKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBVc2VyIGNhbmNlbGxlZA0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2hvd2luZyBjb25maXJtYXRpb246JywgZXJyb3IpOw0KICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gbmF0aXZlIGNvbmZpcm0gaWYgU3lwbmV4QVBJIGZhaWxzDQogICAgICAgICAgICBpZiAoIWNvbmZpcm0oJ1lvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcy4gTG9hZCBuZXcgZmlsZSBhbnl3YXk/JykpIHsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICB0cnkgew0KICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGF3YWl0IHN5cG5leEFQSS5zaG93RmlsZUV4cGxvcmVyKHsNCiAgICAgICAgICAgIG1vZGU6ICdvcGVuJywNCiAgICAgICAgICAgIHRpdGxlOiAnT3BlbiBUZXh0IEZpbGUnLA0KICAgICAgICAgICAgaW5pdGlhbFBhdGg6ICcvJywNCiAgICAgICAgICAgIG9uU2VsZWN0OiAoc2VsZWN0ZWRQYXRoKSA9PiB7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25DYW5jZWw6ICgpID0+IHsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKCFmaWxlUGF0aCkgew0KICAgICAgICAgICAgcmV0dXJuOyAvLyBVc2VyIGNhbmNlbGxlZA0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVXNlIHRoZSBoZWxwZXIgZnVuY3Rpb24gdG8gbG9hZCB0aGUgZmlsZQ0KICAgICAgICBhd2FpdCBsb2FkRmlsZUJ5UGF0aChmaWxlUGF0aCk7DQoNCiAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBmaWxlOicsIGVycm9yKTsNCiAgICAgICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oYEZhaWxlZCB0byBsb2FkIGZpbGU6ICR7ZXJyb3IubWVzc2FnZX1gLCAnZXJyb3InKTsNCiAgICB9DQp9DQoNCi8vIEhlbHBlciBmdW5jdGlvbiB0byBsb2FkIGEgZmlsZSBieSBwYXRoICh1c2VkIGJ5IGJvdGggaW50ZXJhY3RpdmUgbG9hZCBhbmQgaW50ZW50IHN5c3RlbSkNCmFzeW5jIGZ1bmN0aW9uIGxvYWRGaWxlQnlQYXRoKGZpbGVQYXRoKSB7DQogICAgdHJ5IHsNCiAgICAgICAgLy8gQ2hlY2sgaWYgZmlsZSBleGlzdHMgYW5kIGxvYWQgaXQNCiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHN5cG5leEFQSS5yZWFkVmlydHVhbEZpbGVUZXh0KGZpbGVQYXRoKTsNCg0KICAgICAgICAvLyBMb2FkIGNvbnRlbnQgaW50byBlZGl0b3INCiAgICAgICAgdGV4dEVkaXRvci50ZXh0YXJlYS52YWx1ZSA9IGNvbnRlbnQ7DQogICAgICAgIHRleHRFZGl0b3IuZmlsZVBhdGggPSBmaWxlUGF0aDsNCiAgICAgICAgdGV4dEVkaXRvci5vcmlnaW5hbENvbnRlbnQgPSBjb250ZW50Ow0KDQogICAgICAgIC8vIFVwZGF0ZSBVSQ0KICAgICAgICB1cGRhdGVGaWxlbmFtZURpc3BsYXkoKTsNCiAgICAgICAgdXBkYXRlTGluZU51bWJlcnMoKTsNCiAgICAgICAgdXBkYXRlU3RhdHVzKCk7DQogICAgICAgIG1hcmtBc1NhdmVkKCk7DQoNCiAgICAgICAgLy8gRW5hYmxlIHN5bnRheCBoaWdobGlnaHRpbmcgZm9yIGxvYWRlZCBmaWxlDQogICAgICAgIGF3YWl0IGVuYWJsZVN5bnRheEhpZ2hsaWdodGluZygpOw0KDQogICAgICAgIC8vIEZvcmNlIHVwZGF0ZSBoaWdobGlnaHRlZCBjb250ZW50IGlmIGhpZ2hsaWdodGluZyBpcyBlbmFibGVkDQogICAgICAgIGlmICh0ZXh0RWRpdG9yLnN5bnRheEhpZ2hsaWdodGluZ0VuYWJsZWQgJiYgdGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvcikgew0KICAgICAgICAgICAgdXBkYXRlSGlnaGxpZ2h0ZWRDb250ZW50KCk7DQogICAgICAgIH0NCg0KICAgICAgICBzeXBuZXhBUEkuc2hvd05vdGlmaWNhdGlvbihgRmlsZSBsb2FkZWQ6ICR7ZmlsZVBhdGh9YCwgJ3N1Y2Nlc3MnKTsNCg0KICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGZpbGUgYnkgcGF0aDonLCBlcnJvcik7DQogICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKGBGYWlsZWQgdG8gbG9hZCBmaWxlOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7DQogICAgICAgIHRocm93IGVycm9yOw0KICAgIH0NCn0NCg0KDQovLyBTYXZlIGZpbGUgdG8gVkZTDQphc3luYyBmdW5jdGlvbiBzYXZlRmlsZSgpIHsNCiAgICBjb25zdCBjb250ZW50ID0gdGV4dEVkaXRvci50ZXh0YXJlYS52YWx1ZTsNCg0KICAgIHRyeSB7DQogICAgICAgIGxldCBmaWxlUGF0aCA9IHRleHRFZGl0b3IuZmlsZVBhdGg7DQoNCiAgICAgICAgLy8gSWYgaXQncyBhIG5ldyBmaWxlICh1bnRpdGxlZCkgb3Igd2Ugd2FudCB0byBzYXZlIGFzLCBzaG93IGZpbGUgZXhwbG9yZXINCiAgICAgICAgaWYgKHRleHRFZGl0b3IuZmlsZVBhdGggPT09ICcvdW50aXRsZWQudHh0Jykgew0KICAgICAgICAgICAgZmlsZVBhdGggPSBhd2FpdCBzeXBuZXhBUEkuc2hvd0ZpbGVFeHBsb3Jlcih7DQogICAgICAgICAgICAgICAgbW9kZTogJ3NhdmUnLA0KICAgICAgICAgICAgICAgIHRpdGxlOiAnU2F2ZSBUZXh0IEZpbGUnLA0KICAgICAgICAgICAgICAgIGluaXRpYWxQYXRoOiAnLycsDQogICAgICAgICAgICAgICAgZmlsZU5hbWU6ICd1bnRpdGxlZC50eHQnLA0KICAgICAgICAgICAgICAgIG9uU2VsZWN0OiAoc2VsZWN0ZWRQYXRoKSA9PiB7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBvbkNhbmNlbDogKCkgPT4gew0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBpZiAoIWZpbGVQYXRoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBVc2VyIGNhbmNlbGxlZA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgYXdhaXQgc3lwbmV4QVBJLndyaXRlVmlydHVhbEZpbGUoZmlsZVBhdGgsIGNvbnRlbnQpOw0KDQogICAgICAgIHRleHRFZGl0b3IuZmlsZVBhdGggPSBmaWxlUGF0aDsNCiAgICAgICAgdXBkYXRlRmlsZW5hbWVEaXNwbGF5KCk7DQogICAgICAgIG1hcmtBc1NhdmVkKCk7DQoNCiAgICAgICAgLy8gRW5hYmxlIHN5bnRheCBoaWdobGlnaHRpbmcgZm9yIHNhdmVkIGZpbGUNCiAgICAgICAgYXdhaXQgZW5hYmxlU3ludGF4SGlnaGxpZ2h0aW5nKCk7DQoNCiAgICAgICAgLy8gRm9yY2UgdXBkYXRlIGhpZ2hsaWdodGVkIGNvbnRlbnQgaWYgaGlnaGxpZ2h0aW5nIGlzIGVuYWJsZWQNCiAgICAgICAgaWYgKHRleHRFZGl0b3Iuc3ludGF4SGlnaGxpZ2h0aW5nRW5hYmxlZCAmJiB0ZXh0RWRpdG9yLmhpZ2hsaWdodGVkRWRpdG9yKSB7DQogICAgICAgICAgICB1cGRhdGVIaWdobGlnaHRlZENvbnRlbnQoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKGBGaWxlIHNhdmVkOiAke2ZpbGVQYXRofWAsICdzdWNjZXNzJyk7DQoNCiAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBmaWxlOicsIGVycm9yKTsNCiAgICAgICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oYEZhaWxlZCB0byBzYXZlIGZpbGU6ICR7ZXJyb3IubWVzc2FnZX1gLCAnZXJyb3InKTsNCiAgICB9DQp9DQoNCi8vIFNhdmUgZmlsZSBhcyAoYWx3YXlzIHNob3cgZmlsZSBleHBsb3JlcikNCmFzeW5jIGZ1bmN0aW9uIHNhdmVBc0ZpbGUoKSB7DQogICAgY29uc3QgY29udGVudCA9IHRleHRFZGl0b3IudGV4dGFyZWEudmFsdWU7DQoNCiAgICB0cnkgew0KICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGF3YWl0IHN5cG5leEFQSS5zaG93RmlsZUV4cGxvcmVyKHsNCiAgICAgICAgICAgIG1vZGU6ICdzYXZlJywNCiAgICAgICAgICAgIHRpdGxlOiAnU2F2ZSBUZXh0IEZpbGUgQXMnLA0KICAgICAgICAgICAgaW5pdGlhbFBhdGg6ICcvJywNCiAgICAgICAgICAgIGZpbGVOYW1lOiB0ZXh0RWRpdG9yLmZpbGVQYXRoID09PSAnL3VudGl0bGVkLnR4dCcgPyAndW50aXRsZWQudHh0JyA6IHRleHRFZGl0b3IuZmlsZVBhdGguc3BsaXQoJy8nKS5wb3AoKSwNCiAgICAgICAgICAgIG9uU2VsZWN0OiAoc2VsZWN0ZWRQYXRoKSA9PiB7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25DYW5jZWw6ICgpID0+IHsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKCFmaWxlUGF0aCkgew0KICAgICAgICAgICAgcmV0dXJuOyAvLyBVc2VyIGNhbmNlbGxlZA0KICAgICAgICB9DQoNCiAgICAgICAgYXdhaXQgc3lwbmV4QVBJLndyaXRlVmlydHVhbEZpbGUoZmlsZVBhdGgsIGNvbnRlbnQpOw0KDQogICAgICAgIHRleHRFZGl0b3IuZmlsZVBhdGggPSBmaWxlUGF0aDsNCiAgICAgICAgdXBkYXRlRmlsZW5hbWVEaXNwbGF5KCk7DQogICAgICAgIG1hcmtBc1NhdmVkKCk7DQoNCiAgICAgICAgLy8gRW5hYmxlIHN5bnRheCBoaWdobGlnaHRpbmcgZm9yIHNhdmVkIGZpbGUNCiAgICAgICAgYXdhaXQgZW5hYmxlU3ludGF4SGlnaGxpZ2h0aW5nKCk7DQoNCiAgICAgICAgLy8gRm9yY2UgdXBkYXRlIGhpZ2hsaWdodGVkIGNvbnRlbnQgaWYgaGlnaGxpZ2h0aW5nIGlzIGVuYWJsZWQNCiAgICAgICAgaWYgKHRleHRFZGl0b3Iuc3ludGF4SGlnaGxpZ2h0aW5nRW5hYmxlZCAmJiB0ZXh0RWRpdG9yLmhpZ2hsaWdodGVkRWRpdG9yKSB7DQogICAgICAgICAgICB1cGRhdGVIaWdobGlnaHRlZENvbnRlbnQoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKGBGaWxlIHNhdmVkIGFzOiAke2ZpbGVQYXRofWAsICdzdWNjZXNzJyk7DQoNCiAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBmaWxlIGFzOicsIGVycm9yKTsNCiAgICAgICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oYEZhaWxlZCB0byBzYXZlIGZpbGUgYXM6ICR7ZXJyb3IubWVzc2FnZX1gLCAnZXJyb3InKTsNCiAgICB9DQp9DQoNCg0KLy8gVXBkYXRlIGxpbmUgbnVtYmVycw0KZnVuY3Rpb24gdXBkYXRlTGluZU51bWJlcnMoKSB7DQogICAgaWYgKCF0ZXh0RWRpdG9yLmxpbmVOdW1iZXJzIHx8ICF0ZXh0RWRpdG9yLmxpbmVOdW1iZXJzRW5hYmxlZCkgcmV0dXJuOw0KICAgIA0KICAgIGNvbnN0IGxpbmVzID0gdGV4dEVkaXRvci50ZXh0YXJlYS52YWx1ZS5zcGxpdCgnXG4nKTsNCiAgICBjb25zdCBsaW5lQ291bnQgPSBsaW5lcy5sZW5ndGg7DQogICAgDQogICAgLy8gR2VuZXJhdGUgbGluZSBudW1iZXJzIEhUTUwNCiAgICBsZXQgbGluZU51bWJlcnNIVE1MID0gJyc7DQogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbGluZUNvdW50OyBpKyspIHsNCiAgICAgICAgbGluZU51bWJlcnNIVE1MICs9IGA8c3BhbiBjbGFzcz0ibGluZS1udW1iZXIiPiR7aX08L3NwYW4+XG5gOw0KICAgIH0NCiAgICANCiAgICB0ZXh0RWRpdG9yLmxpbmVOdW1iZXJzLmlubmVySFRNTCA9IGxpbmVOdW1iZXJzSFRNTDsNCn0NCg0KLy8gU3luYyBzY3JvbGwgYmV0d2VlbiB0ZXh0YXJlYSBhbmQgbGluZSBudW1iZXJzDQpmdW5jdGlvbiBzeW5jU2Nyb2xsKCkgew0KICAgIGlmICh0ZXh0RWRpdG9yLmxpbmVOdW1iZXJzICYmIHRleHRFZGl0b3IubGluZU51bWJlcnNFbmFibGVkKSB7DQogICAgICAgIHRleHRFZGl0b3IubGluZU51bWJlcnMuc2Nyb2xsVG9wID0gdGV4dEVkaXRvci50ZXh0YXJlYS5zY3JvbGxUb3A7DQogICAgfQ0KICAgIA0KICAgIC8vIEFsc28gc3luYyB0aGUgYmFja2Ryb3AgaWYgaXQgZXhpc3RzDQogICAgc3luY0JhY2tkcm9wU2Nyb2xsKCk7DQp9DQoNCg0KLy8gSGFuZGxlIHRleHQgY2hhbmdlcw0KZnVuY3Rpb24gaGFuZGxlVGV4dENoYW5nZSgpIHsNCiAgICB1cGRhdGVMaW5lTnVtYmVycygpOw0KICAgIHVwZGF0ZVN0YXR1cygpOw0KICAgIG1hcmtBc01vZGlmaWVkKCk7DQp9DQoNCi8vIEZvY3VzIGFwcHJvcHJpYXRlIGVkaXRvcg0KZnVuY3Rpb24gZm9jdXNFZGl0b3IoKSB7DQogICAgaWYgKHRleHRFZGl0b3IudGV4dGFyZWEpIHsNCiAgICAgICAgdGV4dEVkaXRvci50ZXh0YXJlYS5mb2N1cygpOw0KICAgIH0NCn0NCg0KDQovLyBVcGRhdGUgZmlsZW5hbWUgZGlzcGxheQ0KZnVuY3Rpb24gdXBkYXRlRmlsZW5hbWVEaXNwbGF5KCkgew0KICAgIGlmIChjdXJyZW50RmlsZW5hbWVFbCkgew0KICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHRleHRFZGl0b3IuZmlsZVBhdGggPyB0ZXh0RWRpdG9yLmZpbGVQYXRoLnNwbGl0KCcvJykucG9wKCkgOiAndW50aXRsZWQudHh0JzsNCiAgICAgICAgY3VycmVudEZpbGVuYW1lRWwudGV4dENvbnRlbnQgPSBmaWxlbmFtZTsNCiAgICB9DQp9DQoNCi8vIEluaXRpYWxpemUgZWRpdG9yIHN0YXRlDQpmdW5jdGlvbiBpbml0aWFsaXplRWRpdG9yKCkgew0KICAgIC8vIFNldCBpbml0aWFsIGZpbGUgcGF0aA0KICAgIHRleHRFZGl0b3IuZmlsZVBhdGggPSAnL3VudGl0bGVkLnR4dCc7DQogICAgdXBkYXRlRmlsZW5hbWVEaXNwbGF5KCk7DQogICAgDQogICAgLy8gVXBkYXRlIGxpbmUgbnVtYmVycw0KICAgIHVwZGF0ZUxpbmVOdW1iZXJzKCk7DQogICAgDQogICAgLy8gVXBkYXRlIHN0YXR1cw0KICAgIHVwZGF0ZVN0YXR1cygpOw0KICAgIA0KICAgIC8vIEVuYWJsZSBzeW50YXggaGlnaGxpZ2h0aW5nIGlmIG5lZWRlZA0KICAgIGVuYWJsZVN5bnRheEhpZ2hsaWdodGluZygpOw0KfQ0KDQoNCg0KLy8gVXBkYXRlIHN0YXR1cyBiYXINCmZ1bmN0aW9uIHVwZGF0ZVN0YXR1cygpIHsNCiAgICAvLyBTdGF0dXMgYmFyIG5vdyBvbmx5IHNob3dzIG1vZGlmaWVkIHN0YXR1cywgd2hpY2ggaXMgaGFuZGxlZCBieSBtYXJrQXNNb2RpZmllZC9tYXJrQXNTYXZlZA0KICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMga2VwdCBmb3IgcG90ZW50aWFsIGZ1dHVyZSB1c2UNCn0NCg0KLy8gTWFyayBmaWxlIGFzIG1vZGlmaWVkDQpmdW5jdGlvbiBtYXJrQXNNb2RpZmllZCgpIHsNCiAgICBpZiAoIXRleHRFZGl0b3IuaXNNb2RpZmllZCkgew0KICAgICAgICB0ZXh0RWRpdG9yLmlzTW9kaWZpZWQgPSB0cnVlOw0KICAgICAgICBpZiAobW9kaWZpZWRTdGF0dXNFbCkgew0KICAgICAgICAgICAgbW9kaWZpZWRTdGF0dXNFbC50ZXh0Q29udGVudCA9ICdZZXMnOw0KICAgICAgICAgICAgbW9kaWZpZWRTdGF0dXNFbC5jbGFzc0xpc3QuYWRkKCdtb2RpZmllZCcpOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQovLyBNYXJrIGZpbGUgYXMgc2F2ZWQNCmZ1bmN0aW9uIG1hcmtBc1NhdmVkKCkgew0KICAgIHRleHRFZGl0b3IuaXNNb2RpZmllZCA9IGZhbHNlOw0KICAgIHRleHRFZGl0b3Iub3JpZ2luYWxDb250ZW50ID0gdGV4dEVkaXRvci50ZXh0YXJlYS52YWx1ZTsNCiAgICBpZiAobW9kaWZpZWRTdGF0dXNFbCkgew0KICAgICAgICBtb2RpZmllZFN0YXR1c0VsLnRleHRDb250ZW50ID0gJ05vJzsNCiAgICAgICAgbW9kaWZpZWRTdGF0dXNFbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RpZmllZCcpOw0KICAgIH0NCn0NCg0KDQovLyBDbGVhciBlZGl0b3INCmZ1bmN0aW9uIGNsZWFyRWRpdG9yKCkgew0KICAgIHRleHRFZGl0b3IudGV4dGFyZWEudmFsdWUgPSAnJzsNCiAgICB0ZXh0RWRpdG9yLmZpbGVQYXRoID0gJy91bnRpdGxlZC50eHQnOw0KICAgIHVwZGF0ZUZpbGVuYW1lRGlzcGxheSgpOw0KICAgIHRleHRFZGl0b3Iub3JpZ2luYWxDb250ZW50ID0gJyc7DQogICAgbWFya0FzU2F2ZWQoKTsNCiAgICB1cGRhdGVMaW5lTnVtYmVycygpOw0KICAgIHVwZGF0ZVN0YXR1cygpOw0KICAgIA0KICAgIC8vIEVuYWJsZSBzeW50YXggaGlnaGxpZ2h0aW5nIGZvciBuZXcgZmlsZQ0KICAgIGVuYWJsZVN5bnRheEhpZ2hsaWdodGluZygpOw0KICAgIA0KICAgIC8vIEZvcmNlIHVwZGF0ZSBoaWdobGlnaHRlZCBjb250ZW50IGlmIGhpZ2hsaWdodGluZyBpcyBlbmFibGVkDQogICAgaWYgKHRleHRFZGl0b3Iuc3ludGF4SGlnaGxpZ2h0aW5nRW5hYmxlZCAmJiB0ZXh0RWRpdG9yLmhpZ2hsaWdodGVkRWRpdG9yKSB7DQogICAgICAgIHVwZGF0ZUhpZ2hsaWdodGVkQ29udGVudCgpOw0KICAgIH0NCiAgICANCiAgICAvLyBGb2N1cyB0aGUgdGV4dGFyZWEgKG5vdCB0aGUgYmFja2Ryb3ApDQogICAgZm9jdXNFZGl0b3IoKTsNCn0NCg0KDQovLyBMb2FkIFByaXNtLmpzIGZvciBzeW50YXggaGlnaGxpZ2h0aW5nDQphc3luYyBmdW5jdGlvbiBsb2FkUHJpc21KUygpIHsNCiAgICBpZiAodGV4dEVkaXRvci5wcmlzbUxvYWRlZCkgcmV0dXJuOw0KICAgIA0KICAgIHRyeSB7DQogICAgICAgIA0KICAgICAgICAvLyBMb2FkIFByaXNtLmpzIGxpYnJhcnkNCiAgICAgICAgYXdhaXQgc3lwbmV4QVBJLmxvYWRMaWJyYXJ5KCdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wcmlzbS8xLjI5LjAvcHJpc20ubWluLmpzJywgew0KICAgICAgICAgICAgbG9jYWxOYW1lOiAnUHJpc20nDQogICAgICAgIH0pOw0KICAgICAgICANCiAgICAgICAgLy8gTG9hZCBsYW5ndWFnZSBjb21wb25lbnRzDQogICAgICAgIGF3YWl0IHN5cG5leEFQSS5sb2FkTGlicmFyeSgnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcHJpc20vMS4yOS4wL2NvbXBvbmVudHMvcHJpc20tcHl0aG9uLm1pbi5qcycpOw0KICAgICAgICBhd2FpdCBzeXBuZXhBUEkubG9hZExpYnJhcnkoJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3ByaXNtLzEuMjkuMC9jb21wb25lbnRzL3ByaXNtLWphdmFzY3JpcHQubWluLmpzJyk7DQogICAgICAgIGF3YWl0IHN5cG5leEFQSS5sb2FkTGlicmFyeSgnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcHJpc20vMS4yOS4wL2NvbXBvbmVudHMvcHJpc20tanNvbi5taW4uanMnKTsNCiAgICAgICAgYXdhaXQgc3lwbmV4QVBJLmxvYWRMaWJyYXJ5KCdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wcmlzbS8xLjI5LjAvY29tcG9uZW50cy9wcmlzbS1tYXJrdXAubWluLmpzJyk7DQogICAgICAgIGF3YWl0IHN5cG5leEFQSS5sb2FkTGlicmFyeSgnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcHJpc20vMS4yOS4wL2NvbXBvbmVudHMvcHJpc20tY3NzLm1pbi5qcycpOw0KICAgICAgICANCiAgICAgICAgLy8gTG9hZCBQcmlzbSBDU1MNCiAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTsNCiAgICAgICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7DQogICAgICAgIGxpbmsuaHJlZiA9ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wcmlzbS8xLjI5LjAvdGhlbWVzL3ByaXNtLXRvbW9ycm93Lm1pbi5jc3MnOw0KICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspOw0KICAgICAgICANCiAgICAgICAgLy8gQWRkIGN1c3RvbSBDU1MgdG8gZml4IHN0eWxpbmcgaXNzdWVzDQogICAgICAgIGNvbnN0IGN1c3RvbVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsNCiAgICAgICAgY3VzdG9tU3R5bGUudGV4dENvbnRlbnQgPSBgDQogICAgICAgICAgICAuaGlnaGxpZ2h0ZWQtYmFja2Ryb3AgKiB7DQogICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lICFpbXBvcnRhbnQ7DQogICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uLWxpbmU6IG5vbmUgIWltcG9ydGFudDsNCiAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb24tc3R5bGU6IG5vbmUgIWltcG9ydGFudDsNCiAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb24tY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7DQogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgICAgIHRleHQtdW5kZXJsaW5lLW9mZnNldDogMCAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLmhpZ2hsaWdodGVkLWJhY2tkcm9wIC50b2tlbi5zdHJpbmcgew0KICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgfQ0KICAgICAgICBgOw0KICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGN1c3RvbVN0eWxlKTsNCiAgICAgICAgDQogICAgICAgIHRleHRFZGl0b3IucHJpc21Mb2FkZWQgPSB0cnVlOw0KICAgICAgICANCiAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBQcmlzbS5qczonLCBlcnJvcik7DQogICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gbG9hZCBzeW50YXggaGlnaGxpZ2h0aW5nJywgJ2Vycm9yJyk7DQogICAgfQ0KfQ0KDQovLyBDcmVhdGUgaGlnaGxpZ2h0ZWQgZWRpdG9yDQpmdW5jdGlvbiBjcmVhdGVIaWdobGlnaHRlZEVkaXRvcigpIHsNCiAgICBpZiAoIXRleHRFZGl0b3IucHJpc21Mb2FkZWQpIHJldHVybjsNCiAgICANCiAgICAvLyBDbGVhbiB1cCBhbnkgZXhpc3RpbmcgaGlnaGxpZ2h0ZWQgc2V0dXANCiAgICBjbGVhbnVwSGlnaGxpZ2h0ZWRFZGl0b3IoKTsNCiAgICANCiAgICBjb25zdCBlZGl0b3JXcmFwcGVyID0gdGV4dEVkaXRvci50ZXh0YXJlYS5wYXJlbnRFbGVtZW50Ow0KICAgIGNvbnN0IHRleHRhcmVhID0gdGV4dEVkaXRvci50ZXh0YXJlYTsNCiAgICANCiAgICAvLyBTdG9yZSBvcmlnaW5hbCB0ZXh0YXJlYSBzdHlsZXMNCiAgICBjb25zdCBvcmlnaW5hbFN0eWxlcyA9IHsNCiAgICAgICAgcG9zaXRpb246IHRleHRhcmVhLnN0eWxlLnBvc2l0aW9uLA0KICAgICAgICBiYWNrZ3JvdW5kOiB0ZXh0YXJlYS5zdHlsZS5iYWNrZ3JvdW5kLA0KICAgICAgICBjb2xvcjogdGV4dGFyZWEuc3R5bGUuY29sb3IsDQogICAgICAgIHpJbmRleDogdGV4dGFyZWEuc3R5bGUuekluZGV4LA0KICAgICAgICBjYXJldENvbG9yOiB0ZXh0YXJlYS5zdHlsZS5jYXJldENvbG9yLA0KICAgICAgICBzcGVsbGNoZWNrOiB0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoJ3NwZWxsY2hlY2snKSwNCiAgICAgICAgYXV0b2NvbXBsZXRlOiB0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScpLA0KICAgICAgICBhdXRvY29ycmVjdDogdGV4dGFyZWEuZ2V0QXR0cmlidXRlKCdhdXRvY29ycmVjdCcpLA0KICAgICAgICBhdXRvY2FwaXRhbGl6ZTogdGV4dGFyZWEuZ2V0QXR0cmlidXRlKCdhdXRvY2FwaXRhbGl6ZScpDQogICAgfTsNCiAgICANCiAgICAvLyBDcmVhdGUgYSBjb250YWluZXIgZm9yIHRoZSBvdmVybGF5IGFwcHJvYWNoDQogICAgY29uc3QgaGlnaGxpZ2h0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgaGlnaGxpZ2h0Q29udGFpbmVyLmNsYXNzTmFtZSA9ICdoaWdobGlnaHQtY29udGFpbmVyJzsNCiAgICBoaWdobGlnaHRDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOw0KICAgIGhpZ2hsaWdodENvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJzsNCiAgICBoaWdobGlnaHRDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnOw0KICAgIA0KICAgIC8vIENyZWF0ZSBoaWdobGlnaHRlZCBiYWNrZHJvcA0KICAgIGNvbnN0IGhpZ2hsaWdodGVkQmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICBoaWdobGlnaHRlZEJhY2tkcm9wLmlkID0gJ2hpZ2hsaWdodGVkLWJhY2tkcm9wJzsNCiAgICBoaWdobGlnaHRlZEJhY2tkcm9wLmNsYXNzTmFtZSA9ICdoaWdobGlnaHRlZC1iYWNrZHJvcCc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS50b3AgPSAnMCc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5sZWZ0ID0gJzAnOw0KICAgIGhpZ2hsaWdodGVkQmFja2Ryb3Auc3R5bGUud2lkdGggPSAnMTAwJSc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnOw0KICAgIGhpZ2hsaWdodGVkQmFja2Ryb3Auc3R5bGUuZm9udEZhbWlseSA9IHN5cG5leEFQSS5nZXRBcHBXaW5kb3coKS5nZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKS5mb250RmFtaWx5Ow0KICAgIGhpZ2hsaWdodGVkQmFja2Ryb3Auc3R5bGUuZm9udFNpemUgPSBzeXBuZXhBUEkuZ2V0QXBwV2luZG93KCkuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0YXJlYSkuZm9udFNpemU7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5saW5lSGVpZ2h0ID0gc3lwbmV4QVBJLmdldEFwcFdpbmRvdygpLmdldENvbXB1dGVkU3R5bGUodGV4dGFyZWEpLmxpbmVIZWlnaHQ7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5wYWRkaW5nID0gc3lwbmV4QVBJLmdldEFwcFdpbmRvdygpLmdldENvbXB1dGVkU3R5bGUodGV4dGFyZWEpLnBhZGRpbmc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5tYXJnaW4gPSAnMCc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5ib3JkZXIgPSBzeXBuZXhBUEkuZ2V0QXBwV2luZG93KCkuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0YXJlYSkuYm9yZGVyOw0KICAgIGhpZ2hsaWdodGVkQmFja2Ryb3Auc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUtd3JhcCc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS53b3JkV3JhcCA9ICdicmVhay13b3JkJzsNCiAgICBoaWdobGlnaHRlZEJhY2tkcm9wLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS56SW5kZXggPSAnMSc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5yZXNpemUgPSAnbm9uZSc7DQogICAgaGlnaGxpZ2h0ZWRCYWNrZHJvcC5zdHlsZS5jb2xvciA9ICcjZmZmZmZmJzsgLy8gRGVmYXVsdCB0ZXh0IGNvbG9yIGZvciBoaWdobGlnaHRpbmcNCiAgICANCiAgICAvLyBNYWtlIHN1cmUgdGV4dGFyZWEgaXMgb24gdG9wIGFuZCBoYXMgdHJhbnNwYXJlbnQgYmFja2dyb3VuZCBhbmQgdGV4dA0KICAgIHRleHRhcmVhLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsNCiAgICB0ZXh0YXJlYS5zdHlsZS56SW5kZXggPSAnMic7DQogICAgdGV4dGFyZWEuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCc7DQogICAgdGV4dGFyZWEuc3R5bGUuY29sb3IgPSAndHJhbnNwYXJlbnQnOw0KICAgIHRleHRhcmVhLnN0eWxlLmNhcmV0Q29sb3IgPSAnI2ZmZmZmZic7DQogICAgDQogICAgLy8gRGlzYWJsZSBicm93c2VyIHNwZWxsIGNoZWNraW5nIGZvciBjb2RlDQogICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdzcGVsbGNoZWNrJywgJ2ZhbHNlJyk7DQogICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7DQogICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdhdXRvY29ycmVjdCcsICdvZmYnKTsNCiAgICB0ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2F1dG9jYXBpdGFsaXplJywgJ29mZicpOw0KICAgIA0KICAgIC8vIFdyYXAgdGV4dGFyZWEgaW4gY29udGFpbmVyDQogICAgZWRpdG9yV3JhcHBlci5pbnNlcnRCZWZvcmUoaGlnaGxpZ2h0Q29udGFpbmVyLCB0ZXh0YXJlYSk7DQogICAgaGlnaGxpZ2h0Q29udGFpbmVyLmFwcGVuZENoaWxkKGhpZ2hsaWdodGVkQmFja2Ryb3ApOw0KICAgIGhpZ2hsaWdodENvbnRhaW5lci5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7DQogICAgDQogICAgdGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvciA9IGhpZ2hsaWdodGVkQmFja2Ryb3A7DQogICAgdGV4dEVkaXRvci5oaWdobGlnaHRDb250YWluZXIgPSBoaWdobGlnaHRDb250YWluZXI7DQogICAgdGV4dEVkaXRvci5vcmlnaW5hbFRleHRhcmVhU3R5bGVzID0gb3JpZ2luYWxTdHlsZXM7DQogICAgdGV4dEVkaXRvci5zeW50YXhIaWdobGlnaHRpbmdFbmFibGVkID0gdHJ1ZTsNCiAgICANCiAgICAvLyBTZXQgaW5pdGlhbCBjb250ZW50DQogICAgdXBkYXRlSGlnaGxpZ2h0ZWRDb250ZW50KCk7DQogICAgDQogICAgLy8gU2V0IHVwIHNpbXBsZSBldmVudCBoYW5kbGVycyBmb3IgdGhlIHRleHRhcmVhIChub3QgdGhlIGJhY2tkcm9wKQ0KICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlU2ltcGxlSW5wdXQpOw0KICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHN5bmNCYWNrZHJvcFNjcm9sbCk7DQogICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUhpZ2hsaWdodEtleURvd24pOw0KICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlSGlnaGxpZ2h0Q2xpY2spOw0KICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlSGlnaGxpZ2h0Rm9jdXMpOw0KICAgIA0KfQ0KDQoNCi8vIFVwZGF0ZSBoaWdobGlnaHRlZCBjb250ZW50DQpmdW5jdGlvbiB1cGRhdGVIaWdobGlnaHRlZENvbnRlbnQoKSB7DQogICAgaWYgKCF0ZXh0RWRpdG9yLmhpZ2hsaWdodGVkRWRpdG9yIHx8ICF0ZXh0RWRpdG9yLnByaXNtTG9hZGVkKSByZXR1cm47DQogICAgDQogICAgY29uc3QgY29udGVudCA9IHRleHRFZGl0b3IudGV4dGFyZWEudmFsdWU7DQogICAgY29uc3QgbGFuZ3VhZ2UgPSBnZXRGaWxlTGFuZ3VhZ2UodGV4dEVkaXRvci5maWxlUGF0aCk7DQogICAgDQogICAgaWYgKCFsYW5ndWFnZSkgew0KICAgICAgICAvLyBObyBsYW5ndWFnZSBkZXRlY3RlZCwgdXNlIHBsYWluIHRleHQNCiAgICAgICAgdGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvci50ZXh0Q29udGVudCA9IGNvbnRlbnQ7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgLy8gQXBwbHkgc3ludGF4IGhpZ2hsaWdodGluZyB0byBiYWNrZHJvcA0KICAgIGNvbnN0IGhpZ2hsaWdodGVkQ29udGVudCA9IFByaXNtLmhpZ2hsaWdodChjb250ZW50LCBQcmlzbS5sYW5ndWFnZXNbbGFuZ3VhZ2VdLCBsYW5ndWFnZSk7DQogICAgdGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvci5pbm5lckhUTUwgPSBoaWdobGlnaHRlZENvbnRlbnQ7DQogICAgDQogICAgLy8gU3luYyBzY3JvbGwgcG9zaXRpb24NCiAgICBzeW5jQmFja2Ryb3BTY3JvbGwoKTsNCiAgICANCn0NCg0KLy8gRW5hYmxlIHN5bnRheCBoaWdobGlnaHRpbmcgZm9yIHN1cHBvcnRlZCBmaWxlcw0KYXN5bmMgZnVuY3Rpb24gZW5hYmxlU3ludGF4SGlnaGxpZ2h0aW5nKCkgew0KICAgIGlmICghdGV4dEVkaXRvci5zZXR0aW5ncy5zeW50YXhIaWdobGlnaHRpbmcpIHsNCiAgICAgICAgY2xlYW51cEhpZ2hsaWdodGVkRWRpdG9yKCk7DQogICAgICAgIHRleHRFZGl0b3Iuc3ludGF4SGlnaGxpZ2h0aW5nRW5hYmxlZCA9IGZhbHNlOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIA0KICAgIGNvbnN0IGxhbmd1YWdlID0gZ2V0RmlsZUxhbmd1YWdlKHRleHRFZGl0b3IuZmlsZVBhdGgpOw0KICAgIA0KICAgIGlmIChsYW5ndWFnZSkgew0KICAgICAgICBpZiAoIXRleHRFZGl0b3IucHJpc21Mb2FkZWQpIHsNCiAgICAgICAgICAgIGF3YWl0IGxvYWRQcmlzbUpTKCk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmICghdGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvcikgew0KICAgICAgICAgICAgY3JlYXRlSGlnaGxpZ2h0ZWRFZGl0b3IoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgdGV4dEVkaXRvci5zeW50YXhIaWdobGlnaHRpbmdFbmFibGVkID0gdHJ1ZTsNCiAgICB9IGVsc2Ugew0KICAgICAgICAvLyBEaXNhYmxlIGhpZ2hsaWdodGluZyBmb3IgdW5zdXBwb3J0ZWQgZmlsZXMNCiAgICAgICAgY2xlYW51cEhpZ2hsaWdodGVkRWRpdG9yKCk7DQogICAgICAgIHRleHRFZGl0b3Iuc3ludGF4SGlnaGxpZ2h0aW5nRW5hYmxlZCA9IGZhbHNlOw0KICAgIH0NCn0NCg0KLy8gSGFuZGxlIHNpbXBsZSBpbnB1dCBmb3IgYmFja2Ryb3AgYXBwcm9hY2gNCmZ1bmN0aW9uIGhhbmRsZVNpbXBsZUlucHV0KCkgew0KICAgIC8vIFVwZGF0ZSBsaW5lIG51bWJlcnMgYW5kIHN0YXR1cyBpbW1lZGlhdGVseQ0KICAgIHVwZGF0ZUxpbmVOdW1iZXJzKCk7DQogICAgdXBkYXRlU3RhdHVzKCk7DQogICAgbWFya0FzTW9kaWZpZWQoKTsNCiAgICANCiAgICAvLyBJbW1lZGlhdGUgaGlnaGxpZ2h0aW5nIHVwZGF0ZSBmb3IgcmVzcG9uc2l2ZSBmZWVsDQogICAgdXBkYXRlSGlnaGxpZ2h0ZWRDb250ZW50KCk7DQp9DQoNCi8vIEhhbmRsZSBrZXkgZXZlbnRzIHRoYXQgbWlnaHQgY2hhbmdlIGNvbnRlbnQNCmZ1bmN0aW9uIGhhbmRsZUhpZ2hsaWdodEtleURvd24oZSkgew0KICAgIC8vIEZvciBrZXlzIHRoYXQgbW9kaWZ5IGNvbnRlbnQsIHVwZGF0ZSBoaWdobGlnaHRpbmcgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGV2ZW50DQogICAgaWYgKGUua2V5ID09PSAnVGFiJyB8fCBlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJ0JhY2tzcGFjZScgfHwgZS5rZXkgPT09ICdEZWxldGUnKSB7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgdXBkYXRlSGlnaGxpZ2h0ZWRDb250ZW50KCk7DQogICAgICAgIH0sIDApOyAvLyBVcGRhdGUgb24gbmV4dCB0aWNrIGFmdGVyIHRoZSBrZXkgZXZlbnQgaXMgcHJvY2Vzc2VkDQogICAgfQ0KfQ0KDQovLyBIYW5kbGUgY2xpY2sgZXZlbnRzIChjdXJzb3IgcG9zaXRpb24gY2hhbmdlcykNCmZ1bmN0aW9uIGhhbmRsZUhpZ2hsaWdodENsaWNrKCkgew0KICAgIC8vIFN5bmMgc2Nyb2xsIHBvc2l0aW9uIHdoZW4gdXNlciBjbGlja3MNCiAgICBzeW5jQmFja2Ryb3BTY3JvbGwoKTsNCn0NCg0KLy8gSGFuZGxlIGZvY3VzIGV2ZW50cw0KZnVuY3Rpb24gaGFuZGxlSGlnaGxpZ2h0Rm9jdXMoKSB7DQogICAgLy8gRW5zdXJlIGhpZ2hsaWdodGluZyBpcyBpbiBzeW5jIHdoZW4gdGV4dGFyZWEgZ2V0cyBmb2N1cw0KICAgIHVwZGF0ZUhpZ2hsaWdodGVkQ29udGVudCgpOw0KICAgIHN5bmNCYWNrZHJvcFNjcm9sbCgpOw0KfQ0KDQovLyBTeW5jIGJhY2tkcm9wIHNjcm9sbCB3aXRoIHRleHRhcmVhDQpmdW5jdGlvbiBzeW5jQmFja2Ryb3BTY3JvbGwoKSB7DQogICAgaWYgKHRleHRFZGl0b3IuaGlnaGxpZ2h0ZWRFZGl0b3IpIHsNCiAgICAgICAgdGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvci5zY3JvbGxUb3AgPSB0ZXh0RWRpdG9yLnRleHRhcmVhLnNjcm9sbFRvcDsNCiAgICAgICAgdGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvci5zY3JvbGxMZWZ0ID0gdGV4dEVkaXRvci50ZXh0YXJlYS5zY3JvbGxMZWZ0Ow0KICAgIH0NCn0NCg0KLy8gQ2xlYW4gdXAgaGlnaGxpZ2h0ZWQgZWRpdG9yDQpmdW5jdGlvbiBjbGVhbnVwSGlnaGxpZ2h0ZWRFZGl0b3IoKSB7DQogICAgaWYgKHRleHRFZGl0b3IuaGlnaGxpZ2h0Q29udGFpbmVyKSB7DQogICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgdGV4dGFyZWEgc3R5bGVzDQogICAgICAgIGlmICh0ZXh0RWRpdG9yLm9yaWdpbmFsVGV4dGFyZWFTdHlsZXMpIHsNCiAgICAgICAgICAgIGNvbnN0IHRleHRhcmVhID0gdGV4dEVkaXRvci50ZXh0YXJlYTsNCiAgICAgICAgICAgIHRleHRhcmVhLnN0eWxlLnBvc2l0aW9uID0gdGV4dEVkaXRvci5vcmlnaW5hbFRleHRhcmVhU3R5bGVzLnBvc2l0aW9uOw0KICAgICAgICAgICAgdGV4dGFyZWEuc3R5bGUuYmFja2dyb3VuZCA9IHRleHRFZGl0b3Iub3JpZ2luYWxUZXh0YXJlYVN0eWxlcy5iYWNrZ3JvdW5kOw0KICAgICAgICAgICAgdGV4dGFyZWEuc3R5bGUuY29sb3IgPSB0ZXh0RWRpdG9yLm9yaWdpbmFsVGV4dGFyZWFTdHlsZXMuY29sb3I7DQogICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZS56SW5kZXggPSB0ZXh0RWRpdG9yLm9yaWdpbmFsVGV4dGFyZWFTdHlsZXMuekluZGV4Ow0KICAgICAgICAgICAgdGV4dGFyZWEuc3R5bGUuY2FyZXRDb2xvciA9IHRleHRFZGl0b3Iub3JpZ2luYWxUZXh0YXJlYVN0eWxlcy5jYXJldENvbG9yOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBSZW1vdmUgdGhlIGNvbnRhaW5lciBhbmQgcmVzdG9yZSB0ZXh0YXJlYSB0byBpdHMgb3JpZ2luYWwgcGFyZW50DQogICAgICAgIGNvbnN0IGVkaXRvcldyYXBwZXIgPSB0ZXh0RWRpdG9yLmhpZ2hsaWdodENvbnRhaW5lci5wYXJlbnRFbGVtZW50Ow0KICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IHRleHRFZGl0b3IudGV4dGFyZWE7DQogICAgICAgIA0KICAgICAgICAvLyBNb3ZlIHRleHRhcmVhIGJhY2sgdG8gaXRzIG9yaWdpbmFsIGxvY2F0aW9uDQogICAgICAgIGVkaXRvcldyYXBwZXIuaW5zZXJ0QmVmb3JlKHRleHRhcmVhLCB0ZXh0RWRpdG9yLmhpZ2hsaWdodENvbnRhaW5lcik7DQogICAgICAgIA0KICAgICAgICAvLyBSZW1vdmUgdGhlIGhpZ2hsaWdodCBjb250YWluZXINCiAgICAgICAgdGV4dEVkaXRvci5oaWdobGlnaHRDb250YWluZXIucmVtb3ZlKCk7DQogICAgICAgIA0KICAgICAgICAvLyBDbGVhciByZWZlcmVuY2VzDQogICAgICAgIHRleHRFZGl0b3IuaGlnaGxpZ2h0Q29udGFpbmVyID0gbnVsbDsNCiAgICAgICAgdGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvciA9IG51bGw7DQogICAgICAgIHRleHRFZGl0b3Iub3JpZ2luYWxUZXh0YXJlYVN0eWxlcyA9IG51bGw7DQogICAgfQ0KfQ0KDQovLyBUb2dnbGUgc3ludGF4IGhpZ2hsaWdodGluZw0KYXN5bmMgZnVuY3Rpb24gdG9nZ2xlU3ludGF4SGlnaGxpZ2h0aW5nKCkgew0KICAgIHRleHRFZGl0b3Iuc2V0dGluZ3Muc3ludGF4SGlnaGxpZ2h0aW5nID0gIXRleHRFZGl0b3Iuc2V0dGluZ3Muc3ludGF4SGlnaGxpZ2h0aW5nOw0KICAgIA0KICAgIC8vIFNhdmUgc2V0dGluZw0KICAgIHRyeSB7DQogICAgICAgIGF3YWl0IHN5cG5leEFQSS5zZXRTZXR0aW5nKCdTWU5UQVhfSElHSExJR0hUSU5HJywgdGV4dEVkaXRvci5zZXR0aW5ncy5zeW50YXhIaWdobGlnaHRpbmcpOw0KICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHN5bnRheCBoaWdobGlnaHRpbmcgc2V0dGluZzonLCBlcnJvcik7DQogICAgfQ0KICAgIA0KICAgIC8vIFVwZGF0ZSBVSQ0KICAgIGlmIChzeW50YXhIaWdobGlnaHRpbmdUb2dnbGUpIHsNCiAgICAgICAgc3ludGF4SGlnaGxpZ2h0aW5nVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRleHRFZGl0b3Iuc2V0dGluZ3Muc3ludGF4SGlnaGxpZ2h0aW5nKTsNCiAgICB9DQogICAgDQogICAgLy8gQXBwbHkgb3IgZGlzYWJsZSBoaWdobGlnaHRpbmcNCiAgICBpZiAodGV4dEVkaXRvci5zZXR0aW5ncy5zeW50YXhIaWdobGlnaHRpbmcpIHsNCiAgICAgICAgYXdhaXQgZW5hYmxlU3ludGF4SGlnaGxpZ2h0aW5nKCk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgLy8gRGlzYWJsZSBoaWdobGlnaHRpbmcNCiAgICAgICAgY2xlYW51cEhpZ2hsaWdodGVkRWRpdG9yKCk7DQogICAgICAgIHRleHRFZGl0b3Iuc3ludGF4SGlnaGxpZ2h0aW5nRW5hYmxlZCA9IGZhbHNlOw0KICAgIH0NCiAgICANCiAgICBzeXBuZXhBUEkuc2hvd05vdGlmaWNhdGlvbigNCiAgICAgICAgYFN5bnRheCBoaWdobGlnaHRpbmcgJHt0ZXh0RWRpdG9yLnNldHRpbmdzLnN5bnRheEhpZ2hsaWdodGluZyA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9YCwNCiAgICAgICAgJ2luZm8nDQogICAgKTsNCn0NCg0KDQovLyBTZXQgdXAgZXZlbnQgaGFuZGxlcnMNCmZ1bmN0aW9uIHNldHVwRXZlbnRIYW5kbGVycygpIHsNCiAgICAvLyBCdXR0b24gZXZlbnRzDQogICAgbmV3RmlsZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVOZXdGaWxlKTsNCiAgICBsb2FkRmlsZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsb2FkRmlsZSk7DQogICAgc2F2ZUZpbGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2F2ZUZpbGUpOw0KICAgIHNhdmVBc0ZpbGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2F2ZUFzRmlsZSk7DQogICAgd29yZFdyYXBUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlV29yZFdyYXApOw0KICAgIGxpbmVOdW1iZXJzVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZUxpbmVOdW1iZXJzKTsNCiAgICBzeW50YXhIaWdobGlnaHRpbmdUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU3ludGF4SGlnaGxpZ2h0aW5nKTsNCiAgICANCiAgICAvLyBUZXh0YXJlYSBldmVudHMNCiAgICB0ZXh0RWRpdG9yLnRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlVGV4dENoYW5nZSk7DQogICAgdGV4dEVkaXRvci50ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzeW5jU2Nyb2xsKTsNCiAgICB0ZXh0RWRpdG9yLnRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTsNCiAgICANCg0KICAgIA0KICAgIC8vIFdpbmRvdyBldmVudHMNCiAgICBzeXBuZXhBUEkuZ2V0QXBwV2luZG93KCkuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgaGFuZGxlQmVmb3JlVW5sb2FkKTsNCn0NCg0KDQoNCi8vIEhhbmRsZSBrZXlib2FyZCBzaG9ydGN1dHMNCmZ1bmN0aW9uIGhhbmRsZUtleURvd24oZSkgew0KICAgIC8vIEN0cmwvQ21kICsgUzogU2F2ZQ0KICAgIGlmICgoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgZS5rZXkgPT09ICdzJyAmJiAhZS5zaGlmdEtleSkgew0KICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgIHNhdmVGaWxlKCk7DQogICAgfQ0KICAgIA0KICAgIC8vIEN0cmwvQ21kICsgU2hpZnQgKyBTOiBTYXZlIEFzDQogICAgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSAnUycpIHsNCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICBzYXZlQXNGaWxlKCk7DQogICAgfQ0KICAgIA0KICAgIC8vIEN0cmwvQ21kICsgTjogTmV3IGZpbGUNCiAgICBpZiAoKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmIGUua2V5ID09PSAnbicpIHsNCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICBjcmVhdGVOZXdGaWxlKCk7DQogICAgfQ0KICAgIA0KICAgIC8vIEN0cmwvQ21kICsgTzogTG9hZCBmaWxlDQogICAgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBlLmtleSA9PT0gJ28nKSB7DQogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgbG9hZEZpbGUoKTsNCiAgICB9DQogICAgDQogICAgLy8gVGFiIGhhbmRsaW5nDQogICAgaWYgKGUua2V5ID09PSAnVGFiJykgew0KICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgIGNvbnN0IHN0YXJ0ID0gdGV4dEVkaXRvci50ZXh0YXJlYS5zZWxlY3Rpb25TdGFydDsNCiAgICAgICAgY29uc3QgZW5kID0gdGV4dEVkaXRvci50ZXh0YXJlYS5zZWxlY3Rpb25FbmQ7DQogICAgICAgIGNvbnN0IHNwYWNlcyA9ICcgJy5yZXBlYXQodGV4dEVkaXRvci5zZXR0aW5ncy50YWJTaXplKTsNCiAgICAgICAgDQogICAgICAgIHRleHRFZGl0b3IudGV4dGFyZWEudmFsdWUgPSANCiAgICAgICAgICAgIHRleHRFZGl0b3IudGV4dGFyZWEudmFsdWUuc3Vic3RyaW5nKDAsIHN0YXJ0KSArIA0KICAgICAgICAgICAgc3BhY2VzICsgDQogICAgICAgICAgICB0ZXh0RWRpdG9yLnRleHRhcmVhLnZhbHVlLnN1YnN0cmluZyhlbmQpOw0KICAgICAgICANCiAgICAgICAgdGV4dEVkaXRvci50ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCA9IHRleHRFZGl0b3IudGV4dGFyZWEuc2VsZWN0aW9uRW5kID0gc3RhcnQgKyBzcGFjZXMubGVuZ3RoOw0KICAgICAgICANCiAgICAgICAgLy8gTWFudWFsbHkgdHJpZ2dlciBjb250ZW50IHVwZGF0ZSBzaW5jZSB3ZSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQNCiAgICAgICAgdXBkYXRlTGluZU51bWJlcnMoKTsNCiAgICAgICAgbWFya0FzTW9kaWZpZWQoKTsNCiAgICAgICAgaWYgKHRleHRFZGl0b3Iuc3ludGF4SGlnaGxpZ2h0aW5nRW5hYmxlZCkgew0KICAgICAgICAgICAgdXBkYXRlSGlnaGxpZ2h0ZWRDb250ZW50KCk7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCg0KLy8gVG9nZ2xlIHdvcmQgd3JhcA0KZnVuY3Rpb24gdG9nZ2xlV29yZFdyYXAoKSB7DQogICAgdGV4dEVkaXRvci53b3JkV3JhcEVuYWJsZWQgPSAhdGV4dEVkaXRvci53b3JkV3JhcEVuYWJsZWQ7DQogICAgdGV4dEVkaXRvci50ZXh0YXJlYS5jbGFzc0xpc3QudG9nZ2xlKCd3b3JkLXdyYXAnLCB0ZXh0RWRpdG9yLndvcmRXcmFwRW5hYmxlZCk7DQogICAgDQogICAgLy8gVXBkYXRlIGhpZ2hsaWdodGVkIGVkaXRvciBpZiBpdCBleGlzdHMNCiAgICBpZiAodGV4dEVkaXRvci5oaWdobGlnaHRlZEVkaXRvcikgew0KICAgICAgICB0ZXh0RWRpdG9yLmhpZ2hsaWdodGVkRWRpdG9yLnN0eWxlLndvcmRXcmFwID0gdGV4dEVkaXRvci53b3JkV3JhcEVuYWJsZWQgPyAnYnJlYWstd29yZCcgOiAnbm9ybWFsJzsNCiAgICB9DQogICAgDQogICAgaWYgKHdvcmRXcmFwVG9nZ2xlKSB7DQogICAgICAgIHdvcmRXcmFwVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRleHRFZGl0b3Iud29yZFdyYXBFbmFibGVkKTsNCiAgICB9DQogICAgDQogICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oDQogICAgICAgIGBXb3JkIHdyYXAgJHt0ZXh0RWRpdG9yLndvcmRXcmFwRW5hYmxlZCA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9YCwNCiAgICAgICAgJ2luZm8nDQogICAgKTsNCn0NCg0KLy8gVG9nZ2xlIGxpbmUgbnVtYmVycw0KZnVuY3Rpb24gdG9nZ2xlTGluZU51bWJlcnMoKSB7DQogICAgdGV4dEVkaXRvci5saW5lTnVtYmVyc0VuYWJsZWQgPSAhdGV4dEVkaXRvci5saW5lTnVtYmVyc0VuYWJsZWQ7DQogICAgdGV4dEVkaXRvci5saW5lTnVtYmVycy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCAhdGV4dEVkaXRvci5saW5lTnVtYmVyc0VuYWJsZWQpOw0KICAgIA0KICAgIGlmIChsaW5lTnVtYmVyc1RvZ2dsZSkgew0KICAgICAgICBsaW5lTnVtYmVyc1RvZ2dsZS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCB0ZXh0RWRpdG9yLmxpbmVOdW1iZXJzRW5hYmxlZCk7DQogICAgfQ0KICAgIA0KICAgIGlmICh0ZXh0RWRpdG9yLmxpbmVOdW1iZXJzRW5hYmxlZCkgew0KICAgICAgICB1cGRhdGVMaW5lTnVtYmVycygpOw0KICAgIH0NCiAgICANCiAgICBzeXBuZXhBUEkuc2hvd05vdGlmaWNhdGlvbigNCiAgICAgICAgYExpbmUgbnVtYmVycyAke3RleHRFZGl0b3IubGluZU51bWJlcnNFbmFibGVkID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ31gLA0KICAgICAgICAnaW5mbycNCiAgICApOw0KfQ0KDQoNCi8vIEhhbmRsZSBiZWZvcmUgdW5sb2FkDQpmdW5jdGlvbiBoYW5kbGVCZWZvcmVVbmxvYWQoZSkgew0KICAgIGlmICh0ZXh0RWRpdG9yLmlzTW9kaWZpZWQpIHsNCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICBlLnJldHVyblZhbHVlID0gJ1lvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcy4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlPyc7DQogICAgICAgIHJldHVybiBlLnJldHVyblZhbHVlOw0KICAgIH0NCn0NCg0KDQovLyBUZXh0IEVkaXRvciBBcHANCg0KLy8gR2xvYmFsIHZhcmlhYmxlcw0KbGV0IHRleHRFZGl0b3IgPSB7DQogICAgdGV4dGFyZWE6IG51bGwsDQogICAgbGluZU51bWJlcnM6IG51bGwsDQogICAgZmlsZVBhdGg6IG51bGwsDQogICAgb3JpZ2luYWxDb250ZW50OiAnJywNCiAgICBpc01vZGlmaWVkOiBmYWxzZSwNCiAgICB3b3JkV3JhcEVuYWJsZWQ6IGZhbHNlLA0KICAgIGxpbmVOdW1iZXJzRW5hYmxlZDogdHJ1ZSwNCiAgICBzZXR0aW5nczoge30sDQogICAgLy8gU3ludGF4IGhpZ2hsaWdodGluZw0KICAgIHByaXNtTG9hZGVkOiBmYWxzZSwNCiAgICBzeW50YXhIaWdobGlnaHRpbmdFbmFibGVkOiBmYWxzZSwNCiAgICBoaWdobGlnaHRlZEVkaXRvcjogbnVsbCwNCiAgICBoaWdobGlnaHRDb250YWluZXI6IG51bGwsDQogICAgb3JpZ2luYWxUZXh0YXJlYVN0eWxlczogbnVsbCwNCiAgICBkZWJvdW5jZVRpbWVyOiBudWxsLA0KICAgIC8vIEN1cnNvciBwb3NpdGlvbiB0cmFja2luZw0KICAgIGN1cnNvclBvc2l0aW9uOiAwDQp9Ow0KDQovLyBET00gZWxlbWVudHMNCmxldCBuZXdGaWxlQnRuLCBsb2FkRmlsZUJ0biwgc2F2ZUZpbGVCdG4sIHNhdmVBc0ZpbGVCdG47DQpsZXQgY3VycmVudEZpbGVuYW1lRWwsIHdvcmRXcmFwVG9nZ2xlLCBsaW5lTnVtYmVyc1RvZ2dsZSwgc3ludGF4SGlnaGxpZ2h0aW5nVG9nZ2xlOw0KbGV0IG1vZGlmaWVkU3RhdHVzRWw7DQoNCi8vIEluaXRpYWxpemUgd2hlbiBET00gaXMgcmVhZHkNCmFzeW5jIGZ1bmN0aW9uIGluaXRUZXh0RWRpdG9yKCkgew0KICAgIA0KICAgIC8vIENoZWNrIGlmIFN5cG5leEFQSSBpcyBhdmFpbGFibGUNCiAgICBpZiAodHlwZW9mIHN5cG5leEFQSSA9PT0gJ3VuZGVmaW5lZCcgfHwgIXN5cG5leEFQSSkgew0KICAgICAgICBjb25zb2xlLndhcm4oJ1N5cG5leEFQSSBub3QgYXZhaWxhYmxlIC0gcnVubmluZyBpbiBzdGFuZGFsb25lIG1vZGUnKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIA0KICAgIC8vIFRlc3QgaWYgYXBwIGNvbnRhaW5lciBleGlzdHMNCiAgICBjb25zdCBhcHBDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwLWNvbnRhaW5lcicpOw0KICAgIGlmIChhcHBDb250YWluZXIpIHsNCiAgICB9DQogICAgDQogICAgLy8gR2V0IERPTSBlbGVtZW50cw0KICAgIHRleHRFZGl0b3IudGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1lZGl0b3InKTsNCiAgICB0ZXh0RWRpdG9yLmxpbmVOdW1iZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmUtbnVtYmVycycpOw0KICAgIA0KICAgIG5ld0ZpbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LWZpbGUnKTsNCiAgICBsb2FkRmlsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkLWZpbGUnKTsNCiAgICBzYXZlRmlsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlLWZpbGUnKTsNCiAgICBzYXZlQXNGaWxlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtYXMtZmlsZScpOw0KICAgIGN1cnJlbnRGaWxlbmFtZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQtZmlsZW5hbWUnKTsNCiAgICB3b3JkV3JhcFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JkLXdyYXAtdG9nZ2xlJyk7DQogICAgbGluZU51bWJlcnNUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGluZS1udW1iZXJzLXRvZ2dsZScpOw0KICAgIHN5bnRheEhpZ2hsaWdodGluZ1RvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeW50YXgtaGlnaGxpZ2h0aW5nLXRvZ2dsZScpOw0KICAgIA0KICAgIG1vZGlmaWVkU3RhdHVzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kaWZpZWQtc3RhdHVzJyk7DQogICAgDQogICAgLy8gQ3JpdGljYWwgZWxlbWVudCBjaGVja3MNCiAgICBpZiAoIXRleHRFZGl0b3IudGV4dGFyZWEpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcignVGV4dCBlZGl0b3IgdGV4dGFyZWEgbm90IGZvdW5kJyk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgaWYgKCF0ZXh0RWRpdG9yLmxpbmVOdW1iZXJzKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xpbmUgbnVtYmVycyBlbGVtZW50IG5vdCBmb3VuZCcpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIA0KICAgIA0KICAgIC8vIExvYWQgc2V0dGluZ3MgKFdBSVQgZm9yIHRoZW0gdG8gY29tcGxldGUpDQogICAgYXdhaXQgbG9hZFNldHRpbmdzKCk7DQogICAgDQogICAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzDQogICAgc2V0dXBFdmVudEhhbmRsZXJzKCk7DQogICAgDQogICAgLy8gSW5pdGlhbGl6ZSBlZGl0b3Igc3RhdGUNCiAgICBpbml0aWFsaXplRWRpdG9yKCk7DQogICAgDQogICAgLy8gU2V0IGluaXRpYWwgYnV0dG9uIHN0YXRlcw0KICAgIGlmIChzeW50YXhIaWdobGlnaHRpbmdUb2dnbGUpIHsNCiAgICAgICAgc3ludGF4SGlnaGxpZ2h0aW5nVG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRleHRFZGl0b3Iuc2V0dGluZ3Muc3ludGF4SGlnaGxpZ2h0aW5nKTsNCiAgICB9DQogICAgDQogICAgLy8gVGV4dCBFZGl0b3IgbG9hZGVkIHN1Y2Nlc3NmdWxseSAobm8gbm90aWZpY2F0aW9uIG5lZWRlZCkNCiAgICANCiAgICAvLyBDaGVjayBmb3IgcGVuZGluZyBpbnRlbnRzIEFGVEVSIGV2ZXJ5dGhpbmcgaXMgZnVsbHkgaW5pdGlhbGl6ZWQNCiAgICBjaGVja0ZvckFwcEludGVudCgpOw0KICAgIA0KfQ0KDQovLyBDaGVjayBmb3IgYXBwIGludGVudHMgKGUuZy4sIGZpbGUgdG8gb3BlbiBmcm9tIFZGUykNCmFzeW5jIGZ1bmN0aW9uIGNoZWNrRm9yQXBwSW50ZW50KCkgew0KICAgIHRyeSB7DQogICAgICAgIC8vIFJlYWQgaW50ZW50IGZyb20gdXNlciBwcmVmZXJlbmNlcyAod2hlcmUgaXQncyBzdG9yZWQpDQogICAgICAgIGNvbnN0IGludGVudERhdGEgPSBhd2FpdCBzeXBuZXhBUEkuZ2V0UHJlZmVyZW5jZShzeXBuZXhBUEkuZ2V0QXBwSWQoKSwgJ19wZW5kaW5nX2ludGVudCcsIG51bGwpOw0KICAgICAgICANCiAgICAgICAgaWYgKGludGVudERhdGEgJiYgaW50ZW50RGF0YS5hY3Rpb24gPT09ICdvcGVuX2ZpbGUnKSB7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIENsZWFyIHRoZSBpbnRlbnQgaW1tZWRpYXRlbHkgYWZ0ZXIgcmVhZGluZyBpdCwgcmVnYXJkbGVzcyBvZiBzdWNjZXNzL2ZhaWx1cmUNCiAgICAgICAgICAgIGF3YWl0IHN5cG5leEFQSS5zZXRQcmVmZXJlbmNlKHN5cG5leEFQSS5nZXRBcHBJZCgpLCAnX3BlbmRpbmdfaW50ZW50JywgbnVsbCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGZpbGVEYXRhID0gaW50ZW50RGF0YS5kYXRhOw0KICAgICAgICAgICAgaWYgKGZpbGVEYXRhICYmIGZpbGVEYXRhLmZpbGVQYXRoKSB7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gVXNlIGV4aXN0aW5nIGZpbGUgbG9hZGluZyBsb2dpYyBpbnN0ZWFkIG9mIGR1cGxpY2F0aW5nIGl0DQogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEZpbGVCeVBhdGgoZmlsZURhdGEuZmlsZVBhdGgpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RleHQgRWRpdG9yOiBJbnZhbGlkIGZpbGUgZGF0YSBpbiBpbnRlbnQ6JywgZmlsZURhdGEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICB9DQogICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcignVGV4dCBFZGl0b3I6IEVycm9yIGNoZWNraW5nIGZvciBhcHAgaW50ZW50OicsIGVycm9yKTsNCiAgICB9DQp9DQoNCg0KDQoNCg0KDQovLyBSZXBsYWNlIHRoZSBvcmlnaW5hbCBpbml0VGV4dEVkaXRvciBjYWxsDQppZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7DQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXRUZXh0RWRpdG9yKTsNCn0gZWxzZSB7DQogICAgLy8gRE9NIGlzIGFscmVhZHkgbG9hZGVkDQogICAgaW5pdFRleHRFZGl0b3IoKTsNCn0gPC9zY3JpcHQ+"
  },
  "package_info": {
    "format_version": "1.0",
    "created_at": "2025-08-16T03:39:53.035909",
    "packaged_by": "Sypnex OS App Packager",
    "source_directory": "C:\\Users\\bruce\\OneDrive\\Desktop\\AI Research\\sypnex-os-apps\\official\\text_editor"
  }
}