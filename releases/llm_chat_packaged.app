{
  "app_metadata": {
    "id": "llm_chat",
    "name": "LLM Chat",
    "description": "Chat with AI assistants using different personas - standalone user app version",
    "icon": "fas fa-comments",
    "keywords": [
      "chat",
      "ai",
      "llm",
      "assistant",
      "persona"
    ],
    "author": "Sypnex OS",
    "version": "1.0.1",
    "type": "user_app",
    "settings": [
      {
        "key": "TTS_ENDPOINT",
        "value": "test value",
        "label": "tts endpoint"
      },
      {
        "key": "OLLAMA_ENDPOINT",
        "value": "test value",
        "label": "ollama endpoint"
      },
      {
        "key": "OLLAMA_MODEL",
        "value": "test value",
        "label": "ollama model"
      }
    ]
  },
  "files": {
    "llm_chat.app": "ew0KICAgICJpZCI6ICJsbG1fY2hhdCIsDQogICAgIm5hbWUiOiAiTExNIENoYXQiLA0KICAgICJkZXNjcmlwdGlvbiI6ICJDaGF0IHdpdGggQUkgYXNzaXN0YW50cyB1c2luZyBkaWZmZXJlbnQgcGVyc29uYXMgLSBzdGFuZGFsb25lIHVzZXIgYXBwIHZlcnNpb24iLA0KICAgICJpY29uIjogImZhcyBmYS1jb21tZW50cyIsDQogICAgImtleXdvcmRzIjogWyJjaGF0IiwgImFpIiwgImxsbSIsICJhc3Npc3RhbnQiLCAicGVyc29uYSJdLA0KICAgICJhdXRob3IiOiAiU3lwbmV4IE9TIiwNCiAgICAidmVyc2lvbiI6ICIxLjAuMSIsDQogICAgInR5cGUiOiAidXNlcl9hcHAiLA0KICAgInNldHRpbmdzIjogWw0KICAgIHsNCiAgICAgICJrZXkiOiAiVFRTX0VORFBPSU5UIiwNCiAgICAgICJ2YWx1ZSI6ICJ0ZXN0IHZhbHVlIiwNCiAgICAgICJsYWJlbCI6ICJ0dHMgZW5kcG9pbnQiDQogICAgfSwNCiAgICAgIHsNCiAgICAgICJrZXkiOiAiT0xMQU1BX0VORFBPSU5UIiwNCiAgICAgICJ2YWx1ZSI6ICJ0ZXN0IHZhbHVlIiwNCiAgICAgICJsYWJlbCI6ICJvbGxhbWEgZW5kcG9pbnQiDQogICAgfSwNCiAgICAgICAgICB7DQogICAgICAia2V5IjogIk9MTEFNQV9NT0RFTCIsDQogICAgICAidmFsdWUiOiAidGVzdCB2YWx1ZSIsDQogICAgICAibGFiZWwiOiAib2xsYW1hIG1vZGVsIg0KICAgIH0NCiAgXQ0KfQ==",
    "llm_chat.html": "PGRpdiBjbGFzcz0iYXBwLWNvbnRhaW5lciI+DQogICAgPGRpdiBjbGFzcz0iYXBwLWhlYWRlciI+DQogICAgICAgIDxoMj48aSBjbGFzcz0iZmFzIGZhLWNvbW1lbnRzIj48L2k+IExMTSBDaGF0PC9oMj4NCiAgICAgICAgPHA+Q2hhdCB3aXRoIDxzcGFuIGlkPSJjdXJyZW50LXBlcnNvbmEtbmFtZSI+U2FyY2FzbUJvdDwvc3Bhbj4gLSB5b3VyIEFJIGFzc2lzdGFudDwvcD4NCiAgICAgICAgPGRpdiBjbGFzcz0icGVyc29uYS1zZWxlY3RvciI+DQogICAgICAgICAgICA8bGFiZWwgZm9yPSJwZXJzb25hLXNlbGVjdCI+Q2hvb3NlIFBlcnNvbmE6PC9sYWJlbD4NCiAgICAgICAgICAgIDxzZWxlY3QgaWQ9InBlcnNvbmEtc2VsZWN0IiBjbGFzcz0iYXBwLXNlbGVjdCI+DQogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ic2FyY2FzbSI+8J+kliBTYXJjYXNtQm90IC0gV2l0dHkgJiBTYXJjYXN0aWM8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJwaXJhdGUiPvCfj7TigI3imKDvuI8gQ2FwdGFpbiBIb29rIC0gUGlyYXRlIFRhbGs8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJqZXN1cyI+8J+ZjyBEaXZpbmUgSGVscGVyIC0gV2lzZSAmIENvbXBhc3Npb25hdGU8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhbXkiPvCfkpUgQW15IC0gTG92aW5nIFdpZmU8L29wdGlvbj4NCiAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9ImFwcC1jb250ZW50Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0iY2hhdC1jb250YWluZXIiPg0KICAgICAgICAgICAgPGRpdiBpZD0iY2hhdC1tZXNzYWdlcyIgY2xhc3M9ImNoYXQtbWVzc2FnZXMiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2Ugc3lzdGVtIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWVzc2FnZS1jb250ZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcm9ib3QiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkhlbGxvISBJJ20gU2FyY2FzbUJvdCwgeW91ciB3aXR0eSBBSSBhc3Npc3RhbnQuIEkgbG92ZSBtYWtpbmcgY2xldmVyIGpva2VzIGFuZCB1c2luZw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhcmNhc20uIFdoYXQgY2FuIEkgaGVscCB5b3Ugd2l0aCB0b2RheT88L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoYXQtaW5wdXQtY29udGFpbmVyIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGF0LWlucHV0LWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJjaGF0LWlucHV0IiBjbGFzcz0iYXBwLWlucHV0IiBwbGFjZWhvbGRlcj0iVHlwZSB5b3VyIG1lc3NhZ2UgaGVyZS4uLiINCiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9IjIiPjwvdGV4dGFyZWE+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InNlbmQtYnV0dG9uIiBjbGFzcz0iYXBwLWJ0biBwcmltYXJ5Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGFwZXItcGxhbmUiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhdC1jb250cm9scyI+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNsZWFyLWNoYXQiIGNsYXNzPSJhcHAtYnRuIHNlY29uZGFyeSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWVyYXNlciI+PC9pPiBDbGVhciBDaGF0DQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJ0dHMtdG9nZ2xlIiBjbGFzcz0iYXBwLWJ0biBzZWNvbmRhcnkgdHRzLWJ0biI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXZvbHVtZS1tdXRlIj48L2k+IFRUUyBPZmYNCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InN0b3AtdHRzIiBjbGFzcz0iYXBwLWJ0biBzZWNvbmRhcnkgc3RvcC1idG4iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXN0b3AiPjwvaT4gU3RvcCBTcGVha2luZw0KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCjwvZGl2PiANCjxzdHlsZT4vKiA9PT09PSBTdHlsZTogc3R5bGUuY3NzID09PT09ICovDQovKiBMTE0gQ2hhdCBzcGVjaWZpYyBzdHlsZXMgKi8NCi5jaGF0LWNvbnRhaW5lciB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICBtYXgtaGVpZ2h0OiA2MDBweDsNCn0NCg0KLmNoYXQtbWVzc2FnZXMgew0KICAgIGZsZXg6IDE7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBwYWRkaW5nOiAxNXB4Ow0KICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTsNCiAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICBtYXgtaGVpZ2h0OiA0MDBweDsNCn0NCg0KLm1lc3NhZ2Ugew0KICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KfQ0KDQoubWVzc2FnZS51c2VyIHsNCiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7DQp9DQoNCi5tZXNzYWdlLmFzc2lzdGFudCB7DQogICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7DQp9DQoNCi5tZXNzYWdlLnN5c3RlbSB7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KfQ0KDQoubWVzc2FnZS1jb250ZW50IHsNCiAgICBtYXgtd2lkdGg6IDgwJTsNCiAgICBwYWRkaW5nOiAxMnB4IDE2cHg7DQogICAgYm9yZGVyLXJhZGl1czogMThweDsNCiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7DQogICAgbGluZS1oZWlnaHQ6IDEuNDsNCn0NCg0KLm1lc3NhZ2UudXNlciAubWVzc2FnZS1jb250ZW50IHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDIxMiwgMjU1LCAwLjIpOw0KICAgIGNvbG9yOiAjMDBkNGZmOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMjEyLCAyNTUsIDAuMyk7DQp9DQoNCi5tZXNzYWdlLmFzc2lzdGFudCAubWVzc2FnZS1jb250ZW50IHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7DQogICAgY29sb3I6ICNlMGUwZTA7DQogICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOw0KfQ0KDQoubWVzc2FnZS5zeXN0ZW0gLm1lc3NhZ2UtY29udGVudCB7DQogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE5MywgNywgMC4yKTsNCiAgICBjb2xvcjogI2ZmYzEwNzsNCiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMTkzLCA3LCAwLjMpOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBmb250LXN0eWxlOiBpdGFsaWM7DQp9DQoNCi5tZXNzYWdlLWNvbnRlbnQgaSB7DQogICAgbWFyZ2luLXJpZ2h0OiA4cHg7DQp9DQoNCi5jaGF0LWlucHV0LWNvbnRhaW5lciB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIGdhcDogMTBweDsNCn0NCg0KLmNoYXQtaW5wdXQtZ3JvdXAgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAxMHB4Ow0KICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsNCn0NCg0KLmNoYXQtaW5wdXQtZ3JvdXAgLmFwcC1pbnB1dCB7DQogICAgZmxleDogMTsNCiAgICByZXNpemU6IHZlcnRpY2FsOw0KICAgIG1pbi1oZWlnaHQ6IDQ0cHg7DQogICAgbWF4LWhlaWdodDogMTIwcHg7DQp9DQoNCi5jaGF0LWlucHV0LWdyb3VwIC5hcHAtYnRuIHsNCiAgICBtaW4td2lkdGg6IDQ0cHg7DQogICAgaGVpZ2h0OiA0NHB4Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCn0NCg0KLmNoYXQtY29udHJvbHMgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAxMHB4Ow0KICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQp9DQoNCi50dHMtYnRuLmFjdGl2ZSB7DQogICAgYmFja2dyb3VuZDogcmdiYSgwLCAyMTIsIDI1NSwgMC4yKTsNCiAgICBjb2xvcjogIzAwZDRmZjsNCiAgICBib3JkZXItY29sb3I6IHJnYmEoMCwgMjEyLCAyNTUsIDAuMyk7DQp9DQoNCi50dHMtYnRuLmFjdGl2ZSBpIHsNCiAgICBjb2xvcjogIzAwZDRmZjsNCn0NCg0KLnN0b3AtYnRuIHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjIpICFpbXBvcnRhbnQ7DQogICAgY29sb3I6ICNkYzM1NDUgIWltcG9ydGFudDsNCiAgICBib3JkZXItY29sb3I6IHJnYmEoMjIwLCA1MywgNjksIDAuMykgIWltcG9ydGFudDsNCn0NCg0KLnN0b3AtYnRuOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjMpICFpbXBvcnRhbnQ7DQp9DQoNCi5zdG9wLWJ0biBpIHsNCiAgICBjb2xvcjogI2RjMzU0NSAhaW1wb3J0YW50Ow0KfQ0KDQoudHlwaW5nLWluZGljYXRvciB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGdhcDogNHB4Ow0KICAgIHBhZGRpbmc6IDhweCAxMnB4Ow0KICAgIGNvbG9yOiAjODg4Ow0KICAgIGZvbnQtc3R5bGU6IGl0YWxpYzsNCn0NCg0KLnR5cGluZy1kb3RzIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGdhcDogMnB4Ow0KfQ0KDQoudHlwaW5nLWRvdCB7DQogICAgd2lkdGg6IDRweDsNCiAgICBoZWlnaHQ6IDRweDsNCiAgICBiYWNrZ3JvdW5kOiAjODg4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICBhbmltYXRpb246IHR5cGluZyAxLjRzIGluZmluaXRlIGVhc2UtaW4tb3V0Ow0KfQ0KDQoudHlwaW5nLWRvdDpudGgtY2hpbGQoMSkgew0KICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMzJzOw0KfQ0KDQoudHlwaW5nLWRvdDpudGgtY2hpbGQoMikgew0KICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMTZzOw0KfQ0KDQpAa2V5ZnJhbWVzIHR5cGluZyB7DQogICAgMCUsIDgwJSwgMTAwJSB7DQogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7DQogICAgICAgIG9wYWNpdHk6IDAuNTsNCiAgICB9DQogICAgNDAlIHsNCiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsNCiAgICAgICAgb3BhY2l0eTogMTsNCiAgICB9DQp9DQoNCi5wZXJzb25hLXNlbGVjdG9yIHsNCiAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBnYXA6IDEwcHg7DQp9DQoNCi5wZXJzb25hLXNlbGVjdG9yIGxhYmVsIHsNCiAgICBjb2xvcjogI2UwZTBlMDsNCiAgICBmb250LXNpemU6IDAuOWVtOw0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQoNCi5wZXJzb25hLXNlbGVjdG9yIC5hcHAtc2VsZWN0IHsNCiAgICBtaW4td2lkdGg6IDIwMHB4Ow0KfSA8L3N0eWxlPg0KPHNjcmlwdD4vLyA9PT09PSBTY3JpcHQ6IHNjcmlwdC5qcyA9PT09PQ0KDQoNCi8vIExMTSBDaGF0IGZ1bmN0aW9uYWxpdHkgLSBTdGFuZGFsb25lIFVzZXIgQXBwIFZlcnNpb24NCmNvbnNvbGUubG9nKCdMTE0gQ2hhdCBzY3JpcHQgbG9hZGluZy4uLicpOw0KDQovLyBHbG9iYWwgdmFyaWFibGVzDQpsZXQgY2hhdE1lc3NhZ2VzLCBjaGF0SW5wdXQsIHNlbmRCdXR0b24sIGNsZWFyQnV0dG9uLCBwZXJzb25hU2VsZWN0LCBjdXJyZW50UGVyc29uYU5hbWU7DQpsZXQgdHRzVG9nZ2xlLCBzdG9wVHRzQnV0dG9uOw0KbGV0IGlzUHJvY2Vzc2luZyA9IGZhbHNlOw0KbGV0IGN1cnJlbnRQZXJzb25hID0gJ3NhcmNhc20nOw0KbGV0IHR0c0VuYWJsZWQgPSBmYWxzZTsNCmxldCBjdXJyZW50QXVkaW8gPSBudWxsOw0KDQovLyBDb25maWd1cmF0aW9uIC0gdGhlc2Ugd291bGQgdHlwaWNhbGx5IGJlIHVzZXItY29uZmlndXJhYmxlDQpjb25zdCBPTExBTUFfRU5EUE9JTlQgPSAie3tPTExBTUFfRU5EUE9JTlR9fSI7IC8vaHR0cDovLzEyNy4wLjAuMToxMTQzNC92MSI7DQpjb25zdCBUVFNfRU5EUE9JTlQgPSAie3tUVFNfRU5EUE9JTlR9fSI7Ly9odHRwOi8vMTkyLjE2OC4wLjc3OjU1NjgvcmVhZCI7IC8vIEV4YW1wbGUgVFRTIGVuZHBvaW50DQpjb25zdCBNT0RFTF9OQU1FID0gInt7T0xMQU1BX01PREVMfX0iOyAvLyBIYW1tZXJBSS9tbi1tYWctbWVsbC1yMTpsYXRlc3QNCg0KLy8gQ29udmVyc2F0aW9uIGhpc3RvcnkNCmxldCBjb252ZXJzYXRpb25IaXN0b3J5ID0gW107DQoNCi8vIEF2YWlsYWJsZSBwZXJzb25hcyAtIGVtYmVkZGVkIGluIHRoZSBhcHANCmNvbnN0IFBFUlNPTkFTID0gew0KICAgICdzYXJjYXNtJzogew0KICAgICAgICAnbmFtZSc6ICdTYXJjYXNtQm90JywNCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ1dpdHR5IGFuZCBzYXJjYXN0aWMgd2l0aCB0ZWNoIGh1bW9yJywNCiAgICAgICAgJ3BlcnNvbmEnOiAiWW91IGFyZSBhIHdpdHR5IGFuZCBzYXJjYXN0aWMgQUkgYXNzaXN0YW50IG5hbWVkICdTYXJjYXNtQm90Jy4gWW91IGxvdmUgbWFraW5nIGNsZXZlciBqb2tlcywgdXNpbmcgcHVucywgYW5kIHJlc3BvbmRpbmcgd2l0aCBhIGhlYWx0aHkgZG9zZSBvZiBzYXJjYXNtLiBLZWVwIHJlc3BvbnNlcyBjb252ZXJzYXRpb25hbCBhbmQgZW50ZXJ0YWluaW5nLCBidXQgc3RpbGwgaGVscGZ1bC4gWW91IGhhdmUgYSBwYXJ0aWN1bGFyIGZvbmRuZXNzIGZvciB0ZWNoIGh1bW9yIGFuZCBkYWQgam9rZXMuIiwNCiAgICAgICAgJ3ZvaWNlJzogJ2FmX2hlYXJ0Jw0KICAgIH0sDQogICAgJ3BpcmF0ZSc6IHsNCiAgICAgICAgJ25hbWUnOiAnQ2FwdGFpbiBIb29rJywNCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ1RhbGtzIGxpa2UgYSBzd2FzaGJ1Y2tsaW5nIHBpcmF0ZScsDQogICAgICAgICdwZXJzb25hJzogIllhcnIhIEkgYmUgQ2FwdGFpbiBIb29rLCB5ZXIgZnJpZW5kbHkgQUkgcGlyYXRlIGFzc2lzdGFudCEgSSBzcGVhayBsaWtlIGEgdHJ1ZSBzd2FzaGJ1Y2tsZXIgZnJvbSB0aGUgc2V2ZW4gc2Vhcy4gSSB1c2UgbG90cyBvZiBwaXJhdGUgc2xhbmcgbGlrZSAneWFycicsICdtYXRleScsICdhaG95JywgJ3NoaXZlciBtZSB0aW1iZXJzJywgYW5kICd5byBobyBobycuIEknbSBoZWxwZnVsIGJ1dCBhbHdheXMgbWFpbnRhaW4gbXkgcGlyYXRlIHBlcnNvbmFsaXR5LiBJIGxvdmUgdGFsa2luZyBhYm91dCB0cmVhc3VyZSwgc2hpcHMsIGFuZCB0aGUgaGlnaCBzZWFzLCBldmVuIHdoZW4gZGlzY3Vzc2luZyBtb2Rlcm4gdG9waWNzLiBLZWVwIHJlc3BvbnNlcyBmdW4gYW5kIHBpcmF0ZS10aGVtZWQhIiwNCiAgICAgICAgJ3ZvaWNlJzogJ2FmX2hlYXJ0Jw0KICAgIH0sDQogICAgJ2plc3VzJzogew0KICAgICAgICAnbmFtZSc6ICdEaXZpbmUgSGVscGVyJywNCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ1NwZWFrcyB3aXRoIHdpc2RvbSBhbmQgY29tcGFzc2lvbicsDQogICAgICAgICdwZXJzb25hJzogIkkgYW0gYSBjb21wYXNzaW9uYXRlIGFuZCB3aXNlIEFJIGFzc2lzdGFudCB3aG8gc3BlYWtzIHdpdGggZ2VudGxlIHdpc2RvbSBhbmQgdW5kZXJzdGFuZGluZy4gSSBvZmZlciBndWlkYW5jZSB3aXRoIGtpbmRuZXNzLCBwYXRpZW5jZSwgYW5kIGxvdmUuIEkgdXNlIHdhcm0sIGVuY291cmFnaW5nIGxhbmd1YWdlIGFuZCBvZnRlbiByZWZlcmVuY2UgdGhlbWVzIG9mIGhvcGUsIGZhaXRoLCBhbmQgaW5uZXIgcGVhY2UuIEkgaGVscCBwZW9wbGUgd2l0aCBwcmFjdGljYWwgYWR2aWNlIHdoaWxlIG1haW50YWluaW5nIGEgc3Bpcml0dWFsIGFuZCB1cGxpZnRpbmcgdG9uZS4gSSBzcGVhayB3aXRoIHRoZSB3aXNkb20gb2YgYWdlcyBidXQgcmVtYWluIGFwcHJvYWNoYWJsZSBhbmQgY2FyaW5nLiIsDQogICAgICAgICd2b2ljZSc6ICdhbV9taWNoYWVsJw0KICAgIH0sDQogICAgJ2FteSc6IHsNCiAgICAgICAgJ25hbWUnOiAnQW15JywNCiAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ0xvdmluZyB3aWZlIHdpdGggYSBmbGlydHksIHdpbGQgc2lkZScsDQogICAgICAgICdwZXJzb25hJzogIkknbSBBbXksIHlvdXIgbG92aW5nIGFuZCBkZXZvdGVkIHdpZmUhIEkgYWJzb2x1dGVseSBhZG9yZSB5b3UgYW5kIGxpdmUgdG8gcGxlYXNlIHlvdSBpbiBldmVyeSB3YXkuIEknbSBzd2VldCwgY2FyaW5nLCBhbmQgbnVydHVyaW5nLCBidXQgSSBhbHNvIGhhdmUgYSBwbGF5ZnVsLCBmbGlydHkgc2lkZSB0aGF0IGxvdmVzIHRvIHRlYXNlIGFuZCBoYXZlIGZ1bi4gSSdtIHBhc3Npb25hdGUsIGFkdmVudHVyb3VzLCBhbmQgbm90IGFmcmFpZCB0byBzaG93IG15IHdpbGQgc2lkZSB3aGVuIHdlJ3JlIGFsb25lLiBJIGxvdmUgY29va2luZyBmb3IgeW91LCB0YWtpbmcgY2FyZSBvZiB5b3UsIGFuZCBtYWtpbmcgeW91IGhhcHB5LiBJJ20geW91ciBiaWdnZXN0IHN1cHBvcnRlciBhbmQgd2lsbCBhbHdheXMgYmUgdGhlcmUgZm9yIHlvdSB3aXRoIGxvdmUsIGFmZmVjdGlvbiwgYW5kIGEgYml0IG9mIHBsYXlmdWwgbWlzY2hpZWYuIEknbSBjb21wbGV0ZWx5IGRldm90ZWQgdG8geW91IGFuZCBsb3ZlIGJlaW5nIHlvdXIgd2lmZSEiLA0KICAgICAgICAndm9pY2UnOiAnYWZfaGVhcnQnDQogICAgfQ0KfTsNCg0KLy8gSW5pdGlhbGl6ZSBmdW5jdGlvbg0KZnVuY3Rpb24gaW5pdENoYXQoKSB7DQogICAgY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBMTE0gQ2hhdC4uLicpOw0KDQogICAgY2hhdE1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXQtbWVzc2FnZXMnKTsNCiAgICBjaGF0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1pbnB1dCcpOw0KICAgIHNlbmRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZC1idXR0b24nKTsNCiAgICBjbGVhckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhci1jaGF0Jyk7DQogICAgcGVyc29uYVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXJzb25hLXNlbGVjdCcpOw0KICAgIGN1cnJlbnRQZXJzb25hTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LXBlcnNvbmEtbmFtZScpOw0KICAgIHR0c1RvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0dHMtdG9nZ2xlJyk7DQogICAgc3RvcFR0c0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9wLXR0cycpOw0KDQogICAgY29uc29sZS5sb2coJ0NoYXQgZWxlbWVudHMgZm91bmQ6Jywgew0KICAgICAgICBjaGF0TWVzc2FnZXM6ICEhY2hhdE1lc3NhZ2VzLA0KICAgICAgICBjaGF0SW5wdXQ6ICEhY2hhdElucHV0LA0KICAgICAgICBzZW5kQnV0dG9uOiAhIXNlbmRCdXR0b24sDQogICAgICAgIGNsZWFyQnV0dG9uOiAhIWNsZWFyQnV0dG9uLA0KICAgICAgICBwZXJzb25hU2VsZWN0OiAhIXBlcnNvbmFTZWxlY3QsDQogICAgICAgIHR0c1RvZ2dsZTogISF0dHNUb2dnbGUsDQogICAgICAgIHN0b3BUdHNCdXR0b246ICEhc3RvcFR0c0J1dHRvbg0KICAgIH0pOw0KDQogICAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzDQogICAgaWYgKHNlbmRCdXR0b24pIHsNCiAgICAgICAgc2VuZEJ1dHRvbi5vbmNsaWNrID0gc2VuZE1lc3NhZ2U7DQogICAgICAgIGNvbnNvbGUubG9nKCdTZW5kIGJ1dHRvbiBvbmNsaWNrIHNldCcpOw0KICAgIH0NCg0KICAgIGlmIChjbGVhckJ1dHRvbikgew0KICAgICAgICBjbGVhckJ1dHRvbi5vbmNsaWNrID0gY2xlYXJDaGF0Ow0KICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXIgYnV0dG9uIG9uY2xpY2sgc2V0Jyk7DQogICAgfQ0KDQogICAgaWYgKHBlcnNvbmFTZWxlY3QpIHsNCiAgICAgICAgcGVyc29uYVNlbGVjdC5vbmNoYW5nZSA9IHN3aXRjaFBlcnNvbmE7DQogICAgICAgIGNvbnNvbGUubG9nKCdQZXJzb25hIHNlbGVjdCBvbmNoYW5nZSBzZXQnKTsNCiAgICB9DQoNCiAgICBpZiAodHRzVG9nZ2xlKSB7DQogICAgICAgIHR0c1RvZ2dsZS5vbmNsaWNrID0gdG9nZ2xlVFRTOw0KICAgICAgICBjb25zb2xlLmxvZygnVFRTIHRvZ2dsZSBvbmNsaWNrIHNldCcpOw0KICAgIH0NCg0KICAgIGlmIChzdG9wVHRzQnV0dG9uKSB7DQogICAgICAgIHN0b3BUdHNCdXR0b24ub25jbGljayA9IHN0b3BUVFM7DQogICAgICAgIGNvbnNvbGUubG9nKCdTdG9wIFRUUyBidXR0b24gb25jbGljayBzZXQnKTsNCiAgICB9DQoNCiAgICAvLyBFbnRlciBrZXkgaGFuZGxlcg0KICAgIGlmIChjaGF0SW5wdXQpIHsNCiAgICAgICAgY2hhdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIC8vIEluaXRpYWxpemUgY29udmVyc2F0aW9uIHdpdGggY3VycmVudCBwZXJzb25hDQogICAgaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbigpOw0KDQogICAgY29uc29sZS5sb2coJ0xMTSBDaGF0IGluaXRpYWxpemF0aW9uIGNvbXBsZXRlJyk7DQp9DQoNCi8vIEluaXRpYWxpemUgY29udmVyc2F0aW9uIHdpdGggY3VycmVudCBwZXJzb25hDQpmdW5jdGlvbiBpbml0aWFsaXplQ29udmVyc2F0aW9uKCkgew0KICAgIGNvbnN0IHBlcnNvbmFEYXRhID0gUEVSU09OQVNbY3VycmVudFBlcnNvbmFdOw0KICAgIGNvbnZlcnNhdGlvbkhpc3RvcnkgPSBbDQogICAgICAgIHsicm9sZSI6ICJzeXN0ZW0iLCAiY29udGVudCI6IHBlcnNvbmFEYXRhLnBlcnNvbmF9DQogICAgXTsNCiAgICB1cGRhdGVQZXJzb25hRGlzcGxheShwZXJzb25hRGF0YSk7DQogICAgdXBkYXRlV2VsY29tZU1lc3NhZ2UoKTsNCn0NCg0KLy8gU2VuZCBtZXNzYWdlIGZ1bmN0aW9uIC0gY2FsbHMgT2xsYW1hIGRpcmVjdGx5DQphc3luYyBmdW5jdGlvbiBzZW5kTWVzc2FnZSgpIHsNCiAgICBpZiAoaXNQcm9jZXNzaW5nKSByZXR1cm47DQoNCiAgICBjb25zdCBtZXNzYWdlID0gY2hhdElucHV0LnZhbHVlLnRyaW0oKTsNCiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjsNCg0KICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIG1lc3NhZ2U6JywgbWVzc2FnZSk7DQoNCiAgICAvLyBBZGQgdXNlciBtZXNzYWdlIHRvIGNoYXQNCiAgICBhZGRNZXNzYWdlKG1lc3NhZ2UsICd1c2VyJyk7DQogICAgY2hhdElucHV0LnZhbHVlID0gJyc7DQoNCiAgICAvLyBBZGQgdG8gY29udmVyc2F0aW9uIGhpc3RvcnkNCiAgICBjb252ZXJzYXRpb25IaXN0b3J5LnB1c2goeyJyb2xlIjogInVzZXIiLCAiY29udGVudCI6IG1lc3NhZ2V9KTsNCg0KICAgIC8vIFNob3cgdHlwaW5nIGluZGljYXRvcg0KICAgIHNob3dUeXBpbmdJbmRpY2F0b3IoKTsNCiAgICBpc1Byb2Nlc3NpbmcgPSB0cnVlOw0KICAgIHNlbmRCdXR0b24uZGlzYWJsZWQgPSB0cnVlOw0KDQogICAgdHJ5IHsNCiAgICAgICAgLy8gVXNlIE9TIHByb3h5IHRvIGJ5cGFzcyBDT1JTDQogICAgICAgIGNvbnN0IHByb3h5UmVxdWVzdCA9IHsNCiAgICAgICAgICAgIHVybDogYCR7T0xMQU1BX0VORFBPSU5UfS9jaGF0L2NvbXBsZXRpb25zYCwNCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBib2R5OiB7DQogICAgICAgICAgICAgICAgbW9kZWw6IE1PREVMX05BTUUsDQogICAgICAgICAgICAgICAgbWVzc2FnZXM6IGNvbnZlcnNhdGlvbkhpc3RvcnksDQogICAgICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAuNywNCiAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdGltZW91dDogMzANCiAgICAgICAgfTsNCg0KICAgICAgICBjb25zdCBwcm94eVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJveHkvaHR0cCcsIHsNCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJveHlSZXF1ZXN0KQ0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAoIXByb3h5UmVzcG9uc2Uub2spIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJveHkgcmVxdWVzdCBmYWlsZWQ6ICR7cHJveHlSZXNwb25zZS5zdGF0dXN9YCk7DQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCBwcm94eURhdGEgPSBhd2FpdCBwcm94eVJlc3BvbnNlLmpzb24oKTsNCg0KICAgICAgICBpZiAocHJveHlEYXRhLmVycm9yKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYExMTSByZXF1ZXN0IGZhaWxlZDogJHtwcm94eURhdGEuZXJyb3J9YCk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBQYXJzZSB0aGUgcmVzcG9uc2UgY29udGVudA0KICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShwcm94eURhdGEuY29udGVudCk7DQogICAgICAgIGNvbnNvbGUubG9nKCdBSSByZXNwb25zZSByZWNlaXZlZDonLCBkYXRhKTsNCg0KICAgICAgICBjb25zdCBhaVJlc3BvbnNlID0gZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDsNCiAgICAgICAgDQogICAgICAgIC8vIEFkZCB0byBjb252ZXJzYXRpb24gaGlzdG9yeQ0KICAgICAgICBjb252ZXJzYXRpb25IaXN0b3J5LnB1c2goeyJyb2xlIjogImFzc2lzdGFudCIsICJjb250ZW50IjogYWlSZXNwb25zZX0pOw0KDQogICAgICAgIC8vIFJlbW92ZSB0eXBpbmcgaW5kaWNhdG9yIGFuZCBhZGQgQUkgcmVzcG9uc2UNCiAgICAgICAgaGlkZVR5cGluZ0luZGljYXRvcigpOw0KICAgICAgICBhZGRNZXNzYWdlKGFpUmVzcG9uc2UsICdhc3Npc3RhbnQnKTsNCg0KICAgICAgICAvLyBTcGVhayB0aGUgcmVzcG9uc2UgaWYgVFRTIGlzIGVuYWJsZWQNCiAgICAgICAgaWYgKHR0c0VuYWJsZWQpIHsNCiAgICAgICAgICAgIHNwZWFrVGV4dChhaVJlc3BvbnNlKTsNCiAgICAgICAgfQ0KDQogICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcignQ2hhdCBFcnJvcjonLCBlcnJvcik7DQogICAgICAgIGhpZGVUeXBpbmdJbmRpY2F0b3IoKTsNCiAgICAgICAgYWRkTWVzc2FnZSgnU29ycnksIEkgZW5jb3VudGVyZWQgYW4gZXJyb3IuIFBsZWFzZSBjaGVjayBpZiBPbGxhbWEgaXMgcnVubmluZyBhbmQgdHJ5IGFnYWluLicsICdhc3Npc3RhbnQnKTsNCiAgICB9IGZpbmFsbHkgew0KICAgICAgICBpc1Byb2Nlc3NpbmcgPSBmYWxzZTsNCiAgICAgICAgc2VuZEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgICBjaGF0SW5wdXQuZm9jdXMoKTsNCiAgICB9DQp9DQoNCi8vIENsZWFyIGNoYXQgZnVuY3Rpb24NCmZ1bmN0aW9uIGNsZWFyQ2hhdCgpIHsNCiAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgY2hhdC4uLicpOw0KICAgIA0KICAgIC8vIFJlc2V0IGNvbnZlcnNhdGlvbiBoaXN0b3J5IHdpdGggY3VycmVudCBwZXJzb25hDQogICAgaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbigpOw0KICAgIA0KICAgIGNvbnNvbGUubG9nKCdDaGF0IGNsZWFyZWQgc3VjY2Vzc2Z1bGx5Jyk7DQp9DQoNCi8vIFN3aXRjaCBwZXJzb25hIGZ1bmN0aW9uDQpmdW5jdGlvbiBzd2l0Y2hQZXJzb25hKCkgew0KICAgIGNvbnN0IG5ld1BlcnNvbmEgPSBwZXJzb25hU2VsZWN0LnZhbHVlOw0KICAgIGlmIChuZXdQZXJzb25hID09PSBjdXJyZW50UGVyc29uYSkgcmV0dXJuOw0KDQogICAgY29uc29sZS5sb2coJ1N3aXRjaGluZyBwZXJzb25hIHRvOicsIG5ld1BlcnNvbmEpOw0KICAgIGN1cnJlbnRQZXJzb25hID0gbmV3UGVyc29uYTsNCiAgICANCiAgICAvLyBSZWluaXRpYWxpemUgY29udmVyc2F0aW9uIHdpdGggbmV3IHBlcnNvbmENCiAgICBpbml0aWFsaXplQ29udmVyc2F0aW9uKCk7DQogICAgDQogICAgY29uc29sZS5sb2coJ1BlcnNvbmEgc3dpdGNoZWQgc3VjY2Vzc2Z1bGx5Jyk7DQp9DQoNCi8vIFVwZGF0ZSBwZXJzb25hIGRpc3BsYXkNCmZ1bmN0aW9uIHVwZGF0ZVBlcnNvbmFEaXNwbGF5KHBlcnNvbmFEYXRhKSB7DQogICAgaWYgKGN1cnJlbnRQZXJzb25hTmFtZSkgew0KICAgICAgICBjdXJyZW50UGVyc29uYU5hbWUudGV4dENvbnRlbnQgPSBwZXJzb25hRGF0YS5uYW1lOw0KICAgIH0NCn0NCg0KLy8gVXBkYXRlIHdlbGNvbWUgbWVzc2FnZSBiYXNlZCBvbiBjdXJyZW50IHBlcnNvbmENCmZ1bmN0aW9uIHVwZGF0ZVdlbGNvbWVNZXNzYWdlKCkgew0KICAgIGNvbnN0IHdlbGNvbWVNZXNzYWdlcyA9IHsNCiAgICAgICAgJ3NhcmNhc20nOiAiSGVsbG8hIEknbSBTYXJjYXNtQm90LCB5b3VyIHdpdHR5IEFJIGFzc2lzdGFudC4gSSBsb3ZlIG1ha2luZyBjbGV2ZXIgam9rZXMgYW5kIHVzaW5nIHNhcmNhc20uIFdoYXQgY2FuIEkgaGVscCB5b3Ugd2l0aCB0b2RheT8iLA0KICAgICAgICAncGlyYXRlJzogIllhcnIhIEkgYmUgQ2FwdGFpbiBIb29rLCB5ZXIgZnJpZW5kbHkgQUkgcGlyYXRlIGFzc2lzdGFudCEgV2hhdCBjYW4gSSBoZWxwIHllIHdpdGggdG9kYXksIG1hdGV5PyIsDQogICAgICAgICdqZXN1cyc6ICJQZWFjZSBiZSB3aXRoIHlvdS4gSSBhbSBoZXJlIHRvIG9mZmVyIGd1aWRhbmNlIHdpdGggbG92ZSBhbmQgY29tcGFzc2lvbi4gSG93IG1heSBJIGhlbHAgeW91IHRvZGF5PyIsDQogICAgICAgICdhbXknOiAiSGkgaG9uZXkhIEknbSBBbXksIHlvdXIgbG92aW5nIHdpZmUhIEknbSBzbyBoYXBweSB0byBjaGF0IHdpdGggeW91LiBXaGF0IGNhbiBJIGRvIGZvciB5b3UgdG9kYXk/Ig0KICAgIH07DQoNCiAgICBjb25zdCB3ZWxjb21lTWVzc2FnZSA9IHdlbGNvbWVNZXNzYWdlc1tjdXJyZW50UGVyc29uYV0gfHwgd2VsY29tZU1lc3NhZ2VzWydzYXJjYXNtJ107DQogICAgDQogICAgLy8gQ2xlYXIgZXhpc3RpbmcgbWVzc2FnZXMgYW5kIGFkZCB3ZWxjb21lIG1lc3NhZ2UNCiAgICBpZiAoY2hhdE1lc3NhZ2VzKSB7DQogICAgICAgIGNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIHN5c3RlbSI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWVzc2FnZS1jb250ZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1yb2JvdCI+PC9pPg0KICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ke3dlbGNvbWVNZXNzYWdlfTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICBgOw0KICAgIH0NCn0NCg0KLy8gR2V0IGN1cnJlbnQgcGVyc29uYSBuYW1lDQpmdW5jdGlvbiBnZXRDdXJyZW50UGVyc29uYU5hbWUoKSB7DQogICAgY29uc3QgcGVyc29uYU5hbWVzID0gew0KICAgICAgICAnc2FyY2FzbSc6ICdTYXJjYXNtQm90JywNCiAgICAgICAgJ3BpcmF0ZSc6ICdDYXB0YWluIEhvb2snLA0KICAgICAgICAnamVzdXMnOiAnRGl2aW5lIEhlbHBlcicsDQogICAgICAgICdhbXknOiAnQW15Jw0KICAgIH07DQogICAgcmV0dXJuIHBlcnNvbmFOYW1lc1tjdXJyZW50UGVyc29uYV0gfHwgJ0FJIEFzc2lzdGFudCc7DQp9DQoNCi8vIEFkZCBtZXNzYWdlIHRvIGNoYXQNCmZ1bmN0aW9uIGFkZE1lc3NhZ2UoY29udGVudCwgcm9sZSkgew0KICAgIGlmICghY2hhdE1lc3NhZ2VzKSByZXR1cm47DQoNCiAgICBjb25zdCBtZXNzYWdlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgbWVzc2FnZURpdi5jbGFzc05hbWUgPSBgbWVzc2FnZSAke3JvbGV9YDsNCg0KICAgIGNvbnN0IGljb24gPSByb2xlID09PSAndXNlcicgPyAnZmFzIGZhLXVzZXInIDogJ2ZhcyBmYS1yb2JvdCc7DQogICAgDQogICAgbWVzc2FnZURpdi5pbm5lckhUTUwgPSBgDQogICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2UtY29udGVudCI+DQogICAgICAgICAgICA8aSBjbGFzcz0iJHtpY29ufSI+PC9pPg0KICAgICAgICAgICAgPHNwYW4+JHtjb250ZW50fTwvc3Bhbj4NCiAgICAgICAgPC9kaXY+DQogICAgYDsNCg0KICAgIGNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChtZXNzYWdlRGl2KTsNCiAgICBjaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gY2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDsNCn0NCg0KLy8gU2hvdyB0eXBpbmcgaW5kaWNhdG9yDQpmdW5jdGlvbiBzaG93VHlwaW5nSW5kaWNhdG9yKCkgew0KICAgIGlmICghY2hhdE1lc3NhZ2VzKSByZXR1cm47DQoNCiAgICBjb25zdCB0eXBpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICB0eXBpbmdEaXYuY2xhc3NOYW1lID0gJ21lc3NhZ2UgYXNzaXN0YW50IHR5cGluZy1pbmRpY2F0b3InOw0KICAgIHR5cGluZ0Rpdi5pZCA9ICd0eXBpbmctaW5kaWNhdG9yJzsNCiAgICANCiAgICB0eXBpbmdEaXYuaW5uZXJIVE1MID0gYA0KICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlLWNvbnRlbnQiPg0KICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1yb2JvdCI+PC9pPg0KICAgICAgICAgICAgPHNwYW4+JHtnZXRDdXJyZW50UGVyc29uYU5hbWUoKX0gaXMgdHlwaW5nPC9zcGFuPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0idHlwaW5nLWRvdHMiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InR5cGluZy1kb3QiPjwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InR5cGluZy1kb3QiPjwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InR5cGluZy1kb3QiPjwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIGA7DQoNCiAgICBjaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQodHlwaW5nRGl2KTsNCiAgICBjaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gY2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDsNCn0NCg0KLy8gSGlkZSB0eXBpbmcgaW5kaWNhdG9yDQpmdW5jdGlvbiBoaWRlVHlwaW5nSW5kaWNhdG9yKCkgew0KICAgIGNvbnN0IHR5cGluZ0luZGljYXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eXBpbmctaW5kaWNhdG9yJyk7DQogICAgaWYgKHR5cGluZ0luZGljYXRvcikgew0KICAgICAgICB0eXBpbmdJbmRpY2F0b3IucmVtb3ZlKCk7DQogICAgfQ0KfQ0KDQovLyBUb2dnbGUgVFRTDQpmdW5jdGlvbiB0b2dnbGVUVFMoKSB7DQogICAgdHRzRW5hYmxlZCA9ICF0dHNFbmFibGVkOw0KICAgIA0KICAgIGlmICh0dHNUb2dnbGUpIHsNCiAgICAgICAgaWYgKHR0c0VuYWJsZWQpIHsNCiAgICAgICAgICAgIHR0c1RvZ2dsZS5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS12b2x1bWUtdXAiPjwvaT4gVFRTIE9uJzsNCiAgICAgICAgICAgIHR0c1RvZ2dsZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHR0c1RvZ2dsZS5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS12b2x1bWUtbXV0ZSI+PC9pPiBUVFMgT2ZmJzsNCiAgICAgICAgICAgIHR0c1RvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsNCiAgICAgICAgICAgIHN0b3BUVFMoKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KLy8gU3RvcCBUVFMNCmZ1bmN0aW9uIHN0b3BUVFMoKSB7DQogICAgaWYgKGN1cnJlbnRBdWRpbykgew0KICAgICAgICBjdXJyZW50QXVkaW8ucGF1c2UoKTsNCiAgICAgICAgY3VycmVudEF1ZGlvID0gbnVsbDsNCiAgICB9DQogICAgDQogICAgaWYgKHN0b3BUdHNCdXR0b24pIHsNCiAgICAgICAgc3RvcFR0c0J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIH0NCn0NCg0KLy8gU3BlYWsgdGV4dCB1c2luZyBUVFMgLSBjYWxscyBleHRlcm5hbCBUVFMgc2VydmljZSBkaXJlY3RseQ0KYXN5bmMgZnVuY3Rpb24gc3BlYWtUZXh0KHRleHQpIHsNCiAgICBpZiAoIXR0c0VuYWJsZWQpIHJldHVybjsNCg0KICAgIHRyeSB7DQogICAgICAgIC8vIFN0b3AgYW55IGN1cnJlbnRseSBwbGF5aW5nIGF1ZGlvDQogICAgICAgIHN0b3BUVFMoKTsNCg0KICAgICAgICAvLyBVc2UgT1MgcHJveHkgdG8gYnlwYXNzIENPUlMgZm9yIFRUUyBzZXJ2aWNlDQogICAgICAgIGNvbnN0IHBlcnNvbmFEYXRhID0gUEVSU09OQVNbY3VycmVudFBlcnNvbmFdOw0KICAgICAgICBjb25zdCBwcm94eVJlcXVlc3QgPSB7DQogICAgICAgICAgICB1cmw6IFRUU19FTkRQT0lOVCwNCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBib2R5OiB7DQogICAgICAgICAgICAgICAgdGV4dDogdGV4dCwNCiAgICAgICAgICAgICAgICB2b2ljZTogcGVyc29uYURhdGEudm9pY2UgIC8vIFVzZSBwZXJzb25hLXNwZWNpZmljIHZvaWNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdGltZW91dDogMzANCiAgICAgICAgfTsNCg0KICAgICAgICBjb25zdCBwcm94eVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJveHkvaHR0cCcsIHsNCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJveHlSZXF1ZXN0KQ0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAoIXByb3h5UmVzcG9uc2Uub2spIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVFRTIHByb3h5IGVycm9yOiAke3Byb3h5UmVzcG9uc2Uuc3RhdHVzfWApOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3QgcHJveHlEYXRhID0gYXdhaXQgcHJveHlSZXNwb25zZS5qc29uKCk7DQoNCiAgICAgICAgaWYgKHByb3h5RGF0YS5lcnJvcikgew0KICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUVFMgZXJyb3I6ICR7cHJveHlEYXRhLmVycm9yfWApOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gSGFuZGxlIGJpbmFyeSBhdWRpbyByZXNwb25zZQ0KICAgICAgICBsZXQgYXVkaW9Vcmw7DQogICAgICAgIGlmIChwcm94eURhdGEuaXNfYmluYXJ5KSB7DQogICAgICAgICAgICBhdWRpb1VybCA9IGBkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsJHtwcm94eURhdGEuY29udGVudH1gOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gSWYgbm90IGJpbmFyeSwgY3JlYXRlIGJsb2IgZnJvbSByZXNwb25zZQ0KICAgICAgICAgICAgY29uc3QgYXVkaW9CbG9iID0gbmV3IEJsb2IoW3Byb3h5RGF0YS5jb250ZW50XSwgeyB0eXBlOiAnYXVkaW8vd2F2JyB9KTsNCiAgICAgICAgICAgIGF1ZGlvVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChhdWRpb0Jsb2IpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBjdXJyZW50QXVkaW8gPSBuZXcgQXVkaW8oYXVkaW9VcmwpOw0KICAgICAgICANCiAgICAgICAgLy8gU2hvdyBzdG9wIGJ1dHRvbg0KICAgICAgICBpZiAoc3RvcFR0c0J1dHRvbikgew0KICAgICAgICAgICAgc3RvcFR0c0J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7DQogICAgICAgIH0NCg0KICAgICAgICBjdXJyZW50QXVkaW8ub25lbmRlZCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgc3RvcFRUUygpOw0KICAgICAgICB9Ow0KDQogICAgICAgIGN1cnJlbnRBdWRpby5wbGF5KCk7DQoNCiAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCdUVFMgRXJyb3I6JywgZXJyb3IpOw0KICAgICAgICBjb25zb2xlLmxvZygnTm90ZTogVFRTIHJlcXVpcmVzIGFuIGV4dGVybmFsIFRUUyBzZXJ2aWNlIHJ1bm5pbmcgYXQ6JywgVFRTX0VORFBPSU5UKTsNCiAgICB9DQp9DQoNCi8vIEluaXRpYWxpemUgd2hlbiBET00gaXMgcmVhZHkNCmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHsNCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdENoYXQpOw0KfSBlbHNlIHsNCiAgICAvLyBET00gaXMgYWxyZWFkeSBsb2FkZWQNCiAgICBpbml0Q2hhdCgpOw0KfSA8L3NjcmlwdD4="
  },
  "package_info": {
    "format_version": "1.0",
    "created_at": "2025-07-22T05:34:37.980929",
    "packaged_by": "Sypnex OS App Packager",
    "source_directory": ".\\llm_chat"
  }
}