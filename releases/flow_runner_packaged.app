{
  "app_metadata": {
    "id": "flow_runner",
    "name": "Flow Runner",
    "description": "Background workflow execution manager with job monitoring and control",
    "icon": "fas fa-cogs",
    "keywords": [
      "workflow",
      "automation",
      "jobs",
      "background",
      "execution",
      "monitor"
    ],
    "author": "Sypnex OS",
    "version": "1.0.0",
    "type": "user_app",
    "scripts": [
      "main.js"
    ],
    "styles": [
      "style.css"
    ],
    "settings": [
      {
        "key": "FLOW_RUNNER_API",
        "name": "Flow Runner API",
        "type": "string",
        "value": "http://127.0.0.1:8080",
        "description": "Flow Runner API URL"
      },
      {
        "key": "SYPNEX_OS_API",
        "name": "Sypnex OS API",
        "type": "string",
        "value": "http://127.0.0.1:5000",
        "description": "Sypnex OS Runner API URL"
      }
    ]
  },
  "files": {
    "flow_runner.app": "ew0KICAiaWQiOiAiZmxvd19ydW5uZXIiLA0KICAibmFtZSI6ICJGbG93IFJ1bm5lciIsDQogICJkZXNjcmlwdGlvbiI6ICJCYWNrZ3JvdW5kIHdvcmtmbG93IGV4ZWN1dGlvbiBtYW5hZ2VyIHdpdGggam9iIG1vbml0b3JpbmcgYW5kIGNvbnRyb2wiLA0KICAiaWNvbiI6ICJmYXMgZmEtY29ncyIsDQogICJrZXl3b3JkcyI6IFsid29ya2Zsb3ciLCAiYXV0b21hdGlvbiIsICJqb2JzIiwgImJhY2tncm91bmQiLCAiZXhlY3V0aW9uIiwgIm1vbml0b3IiXSwNCiAgImF1dGhvciI6ICJTeXBuZXggT1MiLA0KICAidmVyc2lvbiI6ICIxLjAuMCIsDQogICJ0eXBlIjogInVzZXJfYXBwIiwNCiAgInNjcmlwdHMiOiBbIm1haW4uanMiXSwNCiAgInN0eWxlcyI6IFsic3R5bGUuY3NzIl0sDQogICJzZXR0aW5ncyI6IFt7DQogICAgICAia2V5IjogIkZMT1dfUlVOTkVSX0FQSSIsDQogICAgICAibmFtZSI6ICJGbG93IFJ1bm5lciBBUEkiLA0KICAgICAgInR5cGUiOiAic3RyaW5nIiwNCiAgICAgICJ2YWx1ZSI6ICJodHRwOi8vMTI3LjAuMC4xOjgwODAiLA0KICAgICAgImRlc2NyaXB0aW9uIjogIkZsb3cgUnVubmVyIEFQSSBVUkwiDQogICAgfSx7DQogICAgICAia2V5IjogIlNZUE5FWF9PU19BUEkiLA0KICAgICAgIm5hbWUiOiAiU3lwbmV4IE9TIEFQSSIsDQogICAgICAidHlwZSI6ICJzdHJpbmciLA0KICAgICAgInZhbHVlIjogImh0dHA6Ly8xMjcuMC4wLjE6NTAwMCIsDQogICAgICAiZGVzY3JpcHRpb24iOiAiU3lwbmV4IE9TIFJ1bm5lciBBUEkgVVJMIg0KICAgIH1dDQp9DQo=",
    "flow_runner.html": "PGRpdiBjbGFzcz0iYXBwLWNvbnRhaW5lciI+DQogICAgPGRpdiBjbGFzcz0iYXBwLWhlYWRlciI+DQogICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1jb250ZW50Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci10ZXh0Ij4NCiAgICAgICAgICAgICAgICA8aDI+PGkgY2xhc3M9ImZhcyBmYS1jb2dzIj48L2k+IEZsb3cgUnVubmVyPC9oMj4NCiAgICAgICAgICAgICAgICA8cD5Nb25pdG9yIGFuZCBtYW5hZ2UgYmFja2dyb3VuZCB3b3JrZmxvdyBleGVjdXRpb248L3A+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1jb250cm9scyI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdHMtZGlzcGxheSI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJqb2Itc3RhdHMiIGNsYXNzPSJzdGF0cy10ZXh0Ij5Mb2FkaW5nIHN0YXRzLi4uPC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InJlZnJlc2gtam9icyIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3luYy1hbHQiPjwvaT4gUmVmcmVzaA0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InN1Ym1pdC1qb2IiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4gU3VibWl0IEpvYg0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiBjbGFzcz0iYXBwLWNvbnRlbnQiPg0KICAgICAgICA8IS0tIExvYWRpbmcgU3RhdGUgLS0+DQogICAgICAgIDxkaXYgaWQ9ImxvYWRpbmctc3RhdGUiIGNsYXNzPSJsb2FkaW5nLXN0YXRlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvYWRpbmctc3Bpbm5lciI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1zcGlubmVyIGZhLXNwaW4iPjwvaT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPHA+TG9hZGluZyBqb2JzLi4uPC9wPg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8IS0tIEVycm9yIFN0YXRlIC0tPg0KICAgICAgICA8ZGl2IGlkPSJlcnJvci1zdGF0ZSIgY2xhc3M9ImVycm9yLXN0YXRlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXJyb3ItaWNvbiI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSI+PC9pPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8cCBpZD0iZXJyb3ItbWVzc2FnZSI+RmFpbGVkIHRvIGxvYWQgam9iczwvcD4NCiAgICAgICAgICAgIDxidXR0b24gaWQ9InJldHJ5LWJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXJlZG8iPjwvaT4gUmV0cnkNCiAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8IS0tIEpvYnMgR3JpZCAtLT4NCiAgICAgICAgPGRpdiBpZD0iam9icy1jb250YWluZXIiIGNsYXNzPSJqb2JzLWNvbnRhaW5lciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4NCiAgICAgICAgICAgIDxkaXYgaWQ9ImpvYnMtZ3JpZCIgY2xhc3M9ImpvYnMtZ3JpZCI+DQogICAgICAgICAgICAgICAgPCEtLSBKb2JzIHdpbGwgYmUgcG9wdWxhdGVkIGR5bmFtaWNhbGx5IC0tPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDwhLS0gRW1wdHkgU3RhdGUgLS0+DQogICAgICAgIDxkaXYgaWQ9ImVtcHR5LXN0YXRlIiBjbGFzcz0iZW1wdHktc3RhdGUiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJlbXB0eS1pY29uIj4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRhc2tzIj48L2k+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxoMz5ObyBKb2JzIEZvdW5kPC9oMz4NCiAgICAgICAgICAgIDxwPk5vIHdvcmtmbG93IGpvYnMgaGF2ZSBiZWVuIHN1Ym1pdHRlZCB5ZXQuPC9wPg0KICAgICAgICAgICAgPGJ1dHRvbiBpZD0iZW1wdHktc3VibWl0LWpvYiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+IFN1Ym1pdCBZb3VyIEZpcnN0IEpvYg0KICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBKb2IgU3VibWlzc2lvbiBNb2RhbCAtLT4NCiAgICA8ZGl2IGlkPSJqb2Itc3VibWl0LW1vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDM+PGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+IFN1Ym1pdCBOZXcgSm9iPC9oMz4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjbG9zZS1tb2RhbCIgY2xhc3M9Im1vZGFsLWNsb3NlIj4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10aW1lcyI+PC9pPg0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8Zm9ybSBpZD0iam9iLWZvcm0iPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IndvcmtmbG93LXBhdGgiPldvcmtmbG93IFBhdGg6PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0id29ya2Zsb3ctcGF0aCIgY2xhc3M9ImZvcm0tY29udHJvbCIgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9Ii9wYXRoL3RvL3dvcmtmbG93Lmpzb24iIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJmb3JtLWhlbHAiPlBhdGggdG8gdGhlIHdvcmtmbG93IEpTT04gZmlsZSAoVkZTIHBhdGgpPC9zbWFsbD4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ic3lwbmV4LW9zLXVybCI+U3lwbmV4IE9TIFVSTDo8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzeXBuZXgtb3MtdXJsIiBjbGFzcz0iZm9ybS1jb250cm9sIiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT0ie3tTWVBORVhfT1NfQVBJfX0iIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJmb3JtLWhlbHAiPlVSTCBvZiB0aGUgU3lwbmV4IE9TIGluc3RhbmNlPC9zbWFsbD4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNhbmNlbC1zdWJtaXQiIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSI+Q2FuY2VsPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybS1zdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4gU3VibWl0IEpvYg0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBKb2IgRGV0YWlscyBNb2RhbCAtLT4NCiAgICA8ZGl2IGlkPSJqb2ItZGV0YWlscy1tb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IG1vZGFsLWxhcmdlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+DQogICAgICAgICAgICAgICAgPGgzPjxpIGNsYXNzPSJmYXMgZmEtaW5mby1jaXJjbGUiPjwvaT4gSm9iIERldGFpbHM8L2gzPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNsb3NlLWRldGFpbHMtbW9kYWwiIGNsYXNzPSJtb2RhbC1jbG9zZSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdGltZXMiPjwvaT4NCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+DQogICAgICAgICAgICAgICAgPGRpdiBpZD0iam9iLWRldGFpbHMtY29udGVudCI+DQogICAgICAgICAgICAgICAgICAgIDwhLS0gSm9iIGRldGFpbHMgd2lsbCBiZSBwb3B1bGF0ZWQgZHluYW1pY2FsbHkgLS0+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY2xvc2UtZGV0YWlscyIgY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5Ij5DbG9zZTwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQoNCjxzdHlsZT4vKiA9PT09PSBTdHlsZTogc3R5bGUuY3NzID09PT09ICovDQovKiBGbG93IFJ1bm5lciBBcHAgU3R5bGVzICovDQouYXBwLWNvbnRhaW5lciB7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCn0NCg0KLmFwcC1oZWFkZXIgew0KICAgIHBhZGRpbmc6IDIwcHg7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjEpKTsNCn0NCg0KLmhlYWRlci1jb250ZW50IHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0Ow0KICAgIGdhcDogMjBweDsNCiAgICBmbGV4LXdyYXA6IHdyYXA7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNCi5oZWFkZXItdGV4dCB7DQogICAgZmxleDogMCAxIGF1dG87DQp9DQoNCi5oZWFkZXItdGV4dCBoMiB7DQogICAgbWFyZ2luOiAwIDAgOHB4IDA7DQogICAgZm9udC13ZWlnaHQ6IDYwMDsNCn0NCg0KLmhlYWRlci10ZXh0IHAgew0KICAgIG1hcmdpbjogMDsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnksIHJnYmEoMjU1LDI1NSwyNTUsMC43KSk7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KfQ0KDQouaGVhZGVyLWNvbnRyb2xzIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgZ2FwOiAxNXB4Ow0KICAgIG1hcmdpbi1sZWZ0OiBhdXRvOw0KICAgIGZsZXg6IDAgMCBhdXRvOw0KfQ0KDQouc3RhdHMtZGlzcGxheSB7DQogICAgcGFkZGluZzogOHB4IDEycHg7DQogICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KSk7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjEpKTsNCn0NCg0KLnN0YXRzLXRleHQgew0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnksIHJnYmEoMjU1LDI1NSwyNTUsMC44KSk7DQogICAgZm9udC13ZWlnaHQ6IDUwMDsNCn0NCg0KLmFwcC1jb250ZW50IHsNCiAgICBmbGV4OiAxOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KDQovKiBTdGF0ZXMgKi8NCi5sb2FkaW5nLXN0YXRlLA0KLmVycm9yLXN0YXRlLA0KLmVtcHR5LXN0YXRlIHsNCiAgICBmbGV4OiAxOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBwYWRkaW5nOiA0MHB4Ow0KfQ0KDQoubG9hZGluZy1zcGlubmVyIGkgew0KICAgIGZvbnQtc2l6ZTogMnJlbTsNCiAgICBjb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yLCAjNGE5MGUyKTsNCiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Ow0KfQ0KDQouZXJyb3ItaWNvbiBpIHsNCiAgICBmb250LXNpemU6IDNyZW07DQogICAgY29sb3I6IHZhcigtLWVycm9yLWNvbG9yLCAjZTc0YzNjKTsNCiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Ow0KfQ0KDQouZW1wdHktaWNvbiBpIHsNCiAgICBmb250LXNpemU6IDNyZW07DQogICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuNSkpOw0KICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQp9DQoNCi5lbXB0eS1zdGF0ZSBoMyB7DQogICAgbWFyZ2luOiAwIDAgMTBweCAwOw0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnksIHJnYmEoMjU1LDI1NSwyNTUsMC45KSk7DQp9DQoNCi5lbXB0eS1zdGF0ZSBwIHsNCiAgICBtYXJnaW46IDAgMCAyMHB4IDA7DQogICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuNykpOw0KfQ0KDQovKiBKb2JzIENvbnRhaW5lciAqLw0KLmpvYnMtY29udGFpbmVyIHsNCiAgICBmbGV4OiAxOw0KICAgIG92ZXJmbG93LXk6IGF1dG87DQogICAgcGFkZGluZzogMjBweDsNCn0NCg0KLmpvYnMtZ3JpZCB7DQogICAgZGlzcGxheTogZ3JpZDsNCiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzNTBweCwgMWZyKSk7DQogICAgZ2FwOiAyMHB4Ow0KICAgIG1heC13aWR0aDogMTAwJTsNCn0NCg0KLyogSm9iIENhcmQgKi8NCi5qb2ItY2FyZCB7DQogICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KSk7DQogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yLCByZ2JhKDI1NSwyNTUsMjU1LDAuMSkpOw0KICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgcGFkZGluZzogMjBweDsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOw0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KDQouam9iLWNhcmQ6aG92ZXIgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtaG92ZXIsIHJnYmEoMjU1LDI1NSwyNTUsMC4wOCkpOw0KICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yLCAjNGE5MGUyKTsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7DQogICAgYm94LXNoYWRvdzogMCA4cHggMjVweCByZ2JhKDAsMCwwLDAuMik7DQp9DQoNCi5qb2ItaGVhZGVyIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQp9DQoNCi5qb2ItdGl0bGUgew0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgZm9udC1zaXplOiAxNnB4Ow0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnksIHJnYmEoMjU1LDI1NSwyNTUsMC45KSk7DQogICAgbWFyZ2luOiAwOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBnYXA6IDhweDsNCn0NCg0KLmpvYi1pZCB7DQogICAgZm9udC1zaXplOiAxMXB4Ow0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjYpKTsNCiAgICBmb250LWZhbWlseTogbW9ub3NwYWNlOw0KICAgIG1hcmdpbi10b3A6IDRweDsNCn0NCg0KLmpvYi1zdGF0dXMgew0KICAgIHBhZGRpbmc6IDRweCA4cHg7DQogICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgIGZvbnQtc2l6ZTogMTFweDsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4Ow0KfQ0KDQouam9iLXN0YXR1cy5xdWV1ZWQgew0KICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAxOTMsIDcsIDAuMik7DQogICAgY29sb3I6ICNmZmMxMDc7DQogICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE5MywgNywgMC4zKTsNCn0NCg0KLmpvYi1zdGF0dXMucnVubmluZyB7DQogICAgYmFja2dyb3VuZDogcmdiYSgwLCAxMjMsIDI1NSwgMC4yKTsNCiAgICBjb2xvcjogIzAwN2JmZjsNCiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDEyMywgMjU1LCAwLjMpOw0KfQ0KDQouam9iLXN0YXR1cy5jb21wbGV0ZWQgew0KICAgIGJhY2tncm91bmQ6IHJnYmEoNDAsIDE2NywgNjksIDAuMik7DQogICAgY29sb3I6ICMyOGE3NDU7DQogICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg0MCwgMTY3LCA2OSwgMC4zKTsNCn0NCg0KLmpvYi1zdGF0dXMuZmFpbGVkIHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjIpOw0KICAgIGNvbG9yOiAjZGMzNTQ1Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjIwLCA1MywgNjksIDAuMyk7DQp9DQoNCi5qb2Itc3RhdHVzLmNhbmNlbGxlZCB7DQogICAgYmFja2dyb3VuZDogcmdiYSgxMDgsIDExNywgMTI1LCAwLjIpOw0KICAgIGNvbG9yOiAjNmM3NTdkOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTA4LCAxMTcsIDEyNSwgMC4zKTsNCn0NCg0KLmpvYi1kZXRhaWxzIHsNCiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Ow0KfQ0KDQouam9iLWRldGFpbC1yb3cgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgbWFyZ2luLWJvdHRvbTogOHB4Ow0KICAgIGZvbnQtc2l6ZTogMTNweDsNCn0NCg0KLmpvYi1kZXRhaWwtbGFiZWwgew0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjcpKTsNCiAgICBmb250LXdlaWdodDogNTAwOw0KfQ0KDQouam9iLWRldGFpbC12YWx1ZSB7DQogICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjkpKTsNCiAgICBmb250LWZhbWlseTogbW9ub3NwYWNlOw0KICAgIGZvbnQtc2l6ZTogMTJweDsNCn0NCg0KLmpvYi13b3JrZmxvdy1wYXRoIHsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICM0YTkwZTIpOw0KfQ0KDQouam9iLWFjdGlvbnMgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiA4cHg7DQogICAgZmxleC13cmFwOiB3cmFwOw0KfQ0KDQouam9iLWFjdGlvbnMgLmJ0biB7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIHBhZGRpbmc6IDZweCAxMnB4Ow0KICAgIGZsZXg6IDE7DQogICAgbWluLXdpZHRoOiA4MHB4Ow0KfQ0KDQovKiBCdXR0b25zICovDQouYnRuIHsNCiAgICBwYWRkaW5nOiA4cHggMTZweDsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBmb250LXdlaWdodDogNTAwOw0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOw0KICAgIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgZ2FwOiA2cHg7DQogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KfQ0KDQouYnRuOmhvdmVyIHsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7DQogICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMik7DQp9DQoNCi5idG4tcHJpbWFyeSB7DQogICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LWNvbG9yLCAjNGE5MGUyKTsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQoNCi5idG4tc3VjY2VzcyB7DQogICAgYmFja2dyb3VuZDogIzI4YTc0NTsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQoNCi5idG4tZGFuZ2VyIHsNCiAgICBiYWNrZ3JvdW5kOiAjZGMzNTQ1Ow0KICAgIGNvbG9yOiB3aGl0ZTsNCn0NCg0KLmJ0bi1zZWNvbmRhcnkgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSk7DQogICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjkpKTsNCiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4yKSk7DQp9DQoNCi5idG4taW5mbyB7DQogICAgYmFja2dyb3VuZDogIzE3YTJiODsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQoNCi5idG46ZGlzYWJsZWQgew0KICAgIG9wYWNpdHk6IDAuNTsNCiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOw0KICAgIHRyYW5zZm9ybTogbm9uZTsNCn0NCg0KLmJ0bjpkaXNhYmxlZDpob3ZlciB7DQogICAgdHJhbnNmb3JtOiBub25lOw0KICAgIGJveC1zaGFkb3c6IG5vbmU7DQp9DQoNCi8qIE1vZGFsIFN0eWxlcyAqLw0KLm1vZGFsIHsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgdG9wOiAwOw0KICAgIGxlZnQ6IDA7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC43KTsNCiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgei1pbmRleDogMTAwMDsNCn0NCg0KLm1vZGFsLWNvbnRlbnQgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtY29sb3IsIHJnYmEoMzAsMzAsMzAsMC45NSkpOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjIpKTsNCiAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgIG1heC13aWR0aDogNTAwcHg7DQogICAgd2lkdGg6IDkwJTsNCiAgICBtYXgtaGVpZ2h0OiA4MHZoOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOw0KICAgIGJveC1zaGFkb3c6IDAgMjBweCA2MHB4IHJnYmEoMCwwLDAsMC41KTsNCn0NCg0KLm1vZGFsLWxhcmdlIHsNCiAgICBtYXgtd2lkdGg6IDgwMHB4Ow0KfQ0KDQoubW9kYWwtaGVhZGVyIHsNCiAgICBwYWRkaW5nOiAyMHB4Ow0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSk7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCn0NCg0KLm1vZGFsLWhlYWRlciBoMyB7DQogICAgbWFyZ2luOiAwOw0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGdhcDogOHB4Ow0KfQ0KDQoubW9kYWwtY2xvc2Ugew0KICAgIGJhY2tncm91bmQ6IG5vbmU7DQogICAgYm9yZGVyOiBub25lOw0KICAgIGZvbnQtc2l6ZTogMThweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuNykpOw0KICAgIHBhZGRpbmc6IDRweDsNCiAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCn0NCg0KLm1vZGFsLWNsb3NlOmhvdmVyIHsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuOSkpOw0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtaG92ZXIsIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSk7DQp9DQoNCi5tb2RhbC1ib2R5IHsNCiAgICBwYWRkaW5nOiAyMHB4Ow0KICAgIG1heC1oZWlnaHQ6IDUwdmg7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCn0NCg0KLm1vZGFsLWZvb3RlciB7DQogICAgcGFkZGluZzogMjBweDsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yLCByZ2JhKDI1NSwyNTUsMjU1LDAuMSkpOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAxMHB4Ow0KICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQp9DQoNCi8qIEZvcm0gU3R5bGVzICovDQouZm9ybS1ncm91cCB7DQogICAgbWFyZ2luLWJvdHRvbTogMjBweDsNCn0NCg0KLmZvcm0tZ3JvdXAgbGFiZWwgew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIG1hcmdpbi1ib3R0b206IDZweDsNCiAgICBmb250LXdlaWdodDogNTAwOw0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnksIHJnYmEoMjU1LDI1NSwyNTUsMC45KSk7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KfQ0KDQouZm9ybS1jb250cm9sIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yLCByZ2JhKDI1NSwyNTUsMjU1LDAuMikpOw0KICAgIGJvcmRlci1yYWRpdXM6IDZweDsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWNvbG9yLCByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpKTsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuOSkpOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOw0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoNCi5mb3JtLWNvbnRyb2w6Zm9jdXMgew0KICAgIG91dGxpbmU6IG5vbmU7DQogICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICM0YTkwZTIpOw0KICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDc0LCAxNDQsIDIyNiwgMC4yKTsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWhvdmVyLCByZ2JhKDI1NSwyNTUsMjU1LDAuMDgpKTsNCn0NCg0KLmZvcm0taGVscCB7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjYpKTsNCiAgICBtYXJnaW4tdG9wOiA0cHg7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQoNCi8qIEpvYiBEZXRhaWxzIFN0eWxlcyAqLw0KLmpvYi1kZXRhaWxzLWNvbnRlbnQgew0KICAgIGRpc3BsYXk6IGdyaWQ7DQogICAgZ2FwOiAyMHB4Ow0KfQ0KDQouZGV0YWlsLXNlY3Rpb24gew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4wMykpOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjA4KSk7DQogICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgIHBhZGRpbmc6IDE1cHg7DQp9DQoNCi5kZXRhaWwtc2VjdGlvbiBoNCB7DQogICAgbWFyZ2luOiAwIDAgMTJweCAwOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICM0YTkwZTIpOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBnYXA6IDZweDsNCn0NCg0KLmRldGFpbC1ncmlkIHsNCiAgICBkaXNwbGF5OiBncmlkOw0KICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byAxZnI7DQogICAgZ2FwOiA4cHggMTZweDsNCiAgICBmb250LXNpemU6IDEzcHg7DQp9DQoNCi5kZXRhaWwtbGFiZWwgew0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjcpKTsNCiAgICBmb250LXdlaWdodDogNTAwOw0KfQ0KDQouZGV0YWlsLXZhbHVlIHsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuOSkpOw0KICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7DQogICAgd29yZC1icmVhazogYnJlYWstYWxsOw0KfQ0KDQoub3V0cHV0LWNvbnRhaW5lciB7DQogICAgYmFja2dyb3VuZDogdmFyKC0tY29kZS1iZywgcmdiYSgwLDAsMCwwLjMpKTsNCiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSk7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIHBhZGRpbmc6IDEycHg7DQogICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgbWF4LWhlaWdodDogMjAwcHg7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7DQogICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjkpKTsNCiAgICBsaW5lLWhlaWdodDogMS40Ow0KfQ0KDQoubm8tb3V0cHV0IHsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnksIHJnYmEoMjU1LDI1NSwyNTUsMC41KSk7DQogICAgZm9udC1zdHlsZTogaXRhbGljOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBwYWRkaW5nOiAyMHB4Ow0KfQ0KDQovKiBSZXNwb25zaXZlIERlc2lnbiAqLw0KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7DQogICAgLmhlYWRlci1jb250ZW50IHsNCiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7DQogICAgICAgIGdhcDogMTVweDsNCiAgICB9DQogICAgDQogICAgLmhlYWRlci1jb250cm9scyB7DQogICAgICAgIG1hcmdpbi1sZWZ0OiAwOw0KICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgfQ0KICAgIA0KICAgIC5qb2JzLWdyaWQgew0KICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsNCiAgICB9DQogICAgDQogICAgLm1vZGFsLWNvbnRlbnQgew0KICAgICAgICB3aWR0aDogOTUlOw0KICAgICAgICBtYXJnaW46IDEwcHg7DQogICAgfQ0KICAgIA0KICAgIC5qb2ItYWN0aW9ucyB7DQogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgfQ0KICAgIA0KICAgIC5qb2ItYWN0aW9ucyAuYnRuIHsNCiAgICAgICAgZmxleDogbm9uZTsNCiAgICB9DQp9DQoNCi8qIEFuaW1hdGlvbiBmb3IgbmV3IGpvYnMgKi8NCkBrZXlmcmFtZXMgc2xpZGVJbiB7DQogICAgZnJvbSB7DQogICAgICAgIG9wYWNpdHk6IDA7DQogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsNCiAgICB9DQogICAgdG8gew0KICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7DQogICAgfQ0KfQ0KDQouam9iLWNhcmQubmV3IHsNCiAgICBhbmltYXRpb246IHNsaWRlSW4gMC4zcyBlYXNlLW91dDsNCn0NCjwvc3R5bGU+DQo8c2NyaXB0Pi8vID09PT09IFNjcmlwdDogbWFpbi5qcyA9PT09PQ0KDQoNCi8vIEZsb3cgUnVubmVyIEFwcCBmdW5jdGlvbmFsaXR5DQpjbGFzcyBGbG93UnVubmVyIHsNCiAgICBjb25zdHJ1Y3RvcigpIHsNCiAgICAgICAgdGhpcy5qb2JzID0gbmV3IE1hcCgpOw0KICAgICAgICB0aGlzLnN0YXRzID0ge307DQogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMuZmxvd1J1bm5lclVybCA9ICd7e0ZMT1dfUlVOTkVSX0FQSX19JzsgLy8gV2lsbCBiZSB0ZW1wbGF0ZWQgYnkgU3lwbmV4IE9TDQogICAgICAgIHRoaXMucmVmcmVzaEludGVydmFsID0gbnVsbDsNCiAgICAgICAgDQogICAgICAgIHRoaXMuaW5pdCgpOw0KICAgIH0NCg0KICAgIGFzeW5jIGluaXQoKSB7DQogICAgICAgIC8vIENoZWNrIGlmIFN5cG5leEFQSSBpcyBhdmFpbGFibGUNCiAgICAgICAgaWYgKHR5cGVvZiBzeXBuZXhBUEkgIT09ICd1bmRlZmluZWQnICYmIHN5cG5leEFQSSkgew0KICAgICAgICAgICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7DQogICAgICAgICAgICB0aGlzLnN0YXJ0QXV0b1JlZnJlc2goKTsNCiAgICAgICAgICAgIHRoaXMubG9hZEpvYnMoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N5cG5leEFQSSBub3QgYXZhaWxhYmxlJyk7DQogICAgICAgICAgICB0aGlzLnNob3dFcnJvcignU3lwbmV4QVBJIG5vdCBhdmFpbGFibGUuIEZsb3cgUnVubmVyIGNhbm5vdCBmdW5jdGlvbiBwcm9wZXJseS4nKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7DQogICAgICAgIC8vIFJlZnJlc2ggYnV0dG9uDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZyZXNoLWpvYnMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMubG9hZEpvYnMoKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gU3VibWl0IGpvYiBidXR0b25zDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQtam9iJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLnNob3dKb2JTdWJtaXRNb2RhbCgpOw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXB0eS1zdWJtaXQtam9iJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLnNob3dKb2JTdWJtaXRNb2RhbCgpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBSZXRyeSBidXR0b24NCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JldHJ5LWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5sb2FkSm9icygpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBNb2RhbCBjb250cm9scw0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW9kYWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuaGlkZUpvYlN1Ym1pdE1vZGFsKCk7DQogICAgICAgIH0pOw0KICAgICAgICANCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbC1zdWJtaXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuaGlkZUpvYlN1Ym1pdE1vZGFsKCk7DQogICAgICAgIH0pOw0KICAgICAgICANCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm0tc3VibWl0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLnN1Ym1pdE5ld0pvYigpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBKb2IgZGV0YWlscyBtb2RhbA0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtZGV0YWlscy1tb2RhbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5oaWRlSm9iRGV0YWlsc01vZGFsKCk7DQogICAgICAgIH0pOw0KICAgICAgICANCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLWRldGFpbHMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuaGlkZUpvYkRldGFpbHNNb2RhbCgpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBDbG9zZSBtb2RhbHMgd2hlbiBjbGlja2luZyBvdXRzaWRlDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2Itc3VibWl0LW1vZGFsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gew0KICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmlkID09PSAnam9iLXN1Ym1pdC1tb2RhbCcpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmhpZGVKb2JTdWJtaXRNb2RhbCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2ItZGV0YWlscy1tb2RhbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICAgICAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gJ2pvYi1kZXRhaWxzLW1vZGFsJykgew0KICAgICAgICAgICAgICAgIHRoaXMuaGlkZUpvYkRldGFpbHNNb2RhbCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBGb3JtIHN1Ym1pdA0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9iLWZvcm0nKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4gew0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgdGhpcy5zdWJtaXROZXdKb2IoKTsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgc3RhcnRBdXRvUmVmcmVzaCgpIHsNCiAgICAgICAgLy8gUmVmcmVzaCBldmVyeSA1IHNlY29uZHMNCiAgICAgICAgdGhpcy5yZWZyZXNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRKb2JzKGZhbHNlKTsgLy8gRG9uJ3Qgc2hvdyBsb2FkaW5nIHN0YXRlIGZvciBhdXRvLXJlZnJlc2gNCiAgICAgICAgfSwgNTAwMCk7DQogICAgfQ0KDQogICAgc3RvcEF1dG9SZWZyZXNoKCkgew0KICAgICAgICBpZiAodGhpcy5yZWZyZXNoSW50ZXJ2YWwpIHsNCiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWZyZXNoSW50ZXJ2YWwpOw0KICAgICAgICAgICAgdGhpcy5yZWZyZXNoSW50ZXJ2YWwgPSBudWxsOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgYXN5bmMgbG9hZEpvYnMoc2hvd0xvYWRpbmcgPSB0cnVlKSB7DQogICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykgcmV0dXJuOw0KDQogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsNCg0KICAgICAgICBpZiAoc2hvd0xvYWRpbmcpIHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAvLyBMb2FkIGpvYnMgYW5kIHN0YXRzIGluIHBhcmFsbGVsDQogICAgICAgICAgICBjb25zdCBbam9ic1Jlc3BvbnNlLCBzdGF0c1Jlc3BvbnNlXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgICAgICAgICB0aGlzLmZldGNoSm9icygpLA0KICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hTdGF0cygpDQogICAgICAgICAgICBdKTsNCg0KICAgICAgICAgICAgdGhpcy5qb2JzID0gam9ic1Jlc3BvbnNlOw0KICAgICAgICAgICAgdGhpcy5zdGF0cyA9IHN0YXRzUmVzcG9uc2U7DQoNCiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdHMoKTsNCg0KICAgICAgICAgICAgaWYgKHRoaXMuam9icy5zaXplID09PSAwKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93RW1wdHkoKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJKb2JzKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgam9iczonLCBlcnJvcik7DQogICAgICAgICAgICB0aGlzLnNob3dFcnJvcihgRmFpbGVkIHRvIGxvYWQgam9iczogJHtlcnJvci5tZXNzYWdlfWApOw0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGFzeW5jIGZldGNoSm9icygpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3lwbmV4QVBJLnByb3h5R0VUKGAke3RoaXMuZmxvd1J1bm5lclVybH0vYXBpL2pvYnNgKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBmb3JtYXRzDQogICAgICAgICAgICBsZXQgam9ic0RhdGE7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIElmIHJlc3BvbnNlIGhhcyBjb250ZW50IGZpZWxkLCBwYXJzZSBpdCBhcyBKU09ODQogICAgICAgICAgICBpZiAocmVzcG9uc2UuY29udGVudCkgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIGpvYnNEYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5jb250ZW50KTsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHBhcnNlIGpvYnMgcmVzcG9uc2UgY29udGVudCBhcyBKU09OOicsIGUpOw0KICAgICAgICAgICAgICAgICAgICBqb2JzRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7DQogICAgICAgICAgICAgICAgLy8gRm9ybWF0OiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgam9iczogWy4uLl0gfSB9DQogICAgICAgICAgICAgICAgam9ic0RhdGEgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5qb2JzKSB7DQogICAgICAgICAgICAgICAgLy8gRm9ybWF0OiB7IGpvYnM6IFsuLi5dIH0NCiAgICAgICAgICAgICAgICBqb2JzRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlKSkgew0KICAgICAgICAgICAgICAgIC8vIEZvcm1hdDogWy4uLl0NCiAgICAgICAgICAgICAgICBqb2JzRGF0YSA9IHsgam9iczogcmVzcG9uc2UgfTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gQXNzdW1lIHRoZSByZXNwb25zZSBpdHNlbGYgaXMgdGhlIGRhdGENCiAgICAgICAgICAgICAgICBqb2JzRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgIGNvbnN0IGpvYnNNYXAgPSBuZXcgTWFwKCk7DQogICAgICAgICAgICBpZiAoam9ic0RhdGEgJiYgam9ic0RhdGEuam9icyAmJiBBcnJheS5pc0FycmF5KGpvYnNEYXRhLmpvYnMpKSB7DQogICAgICAgICAgICAgICAgam9ic0RhdGEuam9icy5mb3JFYWNoKGpvYiA9PiB7DQogICAgICAgICAgICAgICAgICAgIGpvYnNNYXAuc2V0KGpvYi5pZCwgam9iKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShqb2JzRGF0YSkpIHsNCiAgICAgICAgICAgICAgICAvLyBJZiBqb2JzRGF0YSBpcyBkaXJlY3RseSBhbiBhcnJheSBvZiBqb2JzDQogICAgICAgICAgICAgICAgam9ic0RhdGEuZm9yRWFjaChqb2IgPT4gew0KICAgICAgICAgICAgICAgICAgICBqb2JzTWFwLnNldChqb2IuaWQsIGpvYik7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBqb2JzTWFwOw0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgam9iczonLCBlcnJvcik7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBqb2JzOiAke2Vycm9yLm1lc3NhZ2V9YCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyBmZXRjaFN0YXRzKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzeXBuZXhBUEkucHJveHlHRVQoYCR7dGhpcy5mbG93UnVubmVyVXJsfS9hcGkvc3RhdHNgKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBmb3JtYXRzDQogICAgICAgICAgICBsZXQgc3RhdHNEYXRhOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBJZiByZXNwb25zZSBoYXMgY29udGVudCBmaWVsZCwgcGFyc2UgaXQgYXMgSlNPTg0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvbnRlbnQpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBzdGF0c0RhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbnRlbnQpOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2Ugc3RhdHMgcmVzcG9uc2UgY29udGVudCBhcyBKU09OOicsIGUpOw0KICAgICAgICAgICAgICAgICAgICBzdGF0c0RhdGEgPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkgew0KICAgICAgICAgICAgICAgIC8vIEZvcm1hdDogeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IHRvdGFsX2pvYnM6IDAsIC4uLiB9IH0NCiAgICAgICAgICAgICAgICBzdGF0c0RhdGEgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS50b3RhbF9qb2JzICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAvLyBGb3JtYXQ6IHsgdG90YWxfam9iczogMCwgcXVldWVkOiAwLCAuLi4gfQ0KICAgICAgICAgICAgICAgIHN0YXRzRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBBc3N1bWUgdGhlIHJlc3BvbnNlIGl0c2VsZiBpcyB0aGUgZGF0YQ0KICAgICAgICAgICAgICAgIHN0YXRzRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gc3RhdHNEYXRhIHx8IHsNCiAgICAgICAgICAgICAgICB0b3RhbF9qb2JzOiAwLA0KICAgICAgICAgICAgICAgIHF1ZXVlZDogMCwNCiAgICAgICAgICAgICAgICBydW5uaW5nOiAwLA0KICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogMCwNCiAgICAgICAgICAgICAgICBmYWlsZWQ6IDAsDQogICAgICAgICAgICAgICAgY2FuY2VsbGVkOiAwDQogICAgICAgICAgICB9Ow0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3RhdHM6JywgZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICB0b3RhbF9qb2JzOiAwLA0KICAgICAgICAgICAgICAgIHF1ZXVlZDogMCwNCiAgICAgICAgICAgICAgICBydW5uaW5nOiAwLA0KICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogMCwNCiAgICAgICAgICAgICAgICBmYWlsZWQ6IDAsDQogICAgICAgICAgICAgICAgY2FuY2VsbGVkOiAwDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgdXBkYXRlU3RhdHMoKSB7DQogICAgICAgIGNvbnN0IHN0YXRzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2Itc3RhdHMnKTsNCiAgICAgICAgaWYgKHN0YXRzRWxlbWVudCAmJiB0aGlzLnN0YXRzKSB7DQogICAgICAgICAgICBjb25zdCB7IHF1ZXVlZCA9IDAsIHJ1bm5pbmcgPSAwLCBjb21wbGV0ZWQgPSAwLCBmYWlsZWQgPSAwLCBjYW5jZWxsZWQgPSAwIH0gPSB0aGlzLnN0YXRzOw0KICAgICAgICAgICAgc3RhdHNFbGVtZW50LnRleHRDb250ZW50ID0gYFE6JHtxdWV1ZWR9IFI6JHtydW5uaW5nfSBDOiR7Y29tcGxldGVkfSBGOiR7ZmFpbGVkfSBYOiR7Y2FuY2VsbGVkfWA7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZW5kZXJKb2JzKCkgew0KICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9icy1ncmlkJyk7DQogICAgICAgIGNvbnN0IGpvYnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9icy1jb250YWluZXInKTsNCiAgICAgICAgDQogICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIGNvbnRlbnQNCiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOw0KICAgICAgICANCiAgICAgICAgLy8gU29ydCBqb2JzIGJ5IGNyZWF0ZWQgZGF0ZSAobmV3ZXN0IGZpcnN0KQ0KICAgICAgICBjb25zdCBzb3J0ZWRKb2JzID0gQXJyYXkuZnJvbSh0aGlzLmpvYnMudmFsdWVzKCkpLnNvcnQoKGEsIGIpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShiLmNyZWF0ZWRfYXQpIC0gbmV3IERhdGUoYS5jcmVhdGVkX2F0KTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgc29ydGVkSm9icy5mb3JFYWNoKGpvYiA9PiB7DQogICAgICAgICAgICBjb25zdCBqb2JDYXJkID0gdGhpcy5jcmVhdGVKb2JDYXJkKGpvYik7DQogICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoam9iQ2FyZCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHRoaXMuc2hvd0pvYnMoKTsNCiAgICB9DQoNCiAgICBjcmVhdGVKb2JDYXJkKGpvYikgew0KICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgIGNhcmQuY2xhc3NOYW1lID0gJ2pvYi1jYXJkJzsNCiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8ZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItdGl0bGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jb2ciPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5nZXRKb2JEaXNwbGF5TmFtZShqb2Iud29ya2Zsb3dfcGF0aCl9DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItaWQiPiR7am9iLmlkfTwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImpvYi1zdGF0dXMgJHtqb2Iuc3RhdHVzfSI+JHtqb2Iuc3RhdHVzfTwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICANCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImpvYi1kZXRhaWxzIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItZGV0YWlsLXJvdyI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLWxhYmVsIj5Xb3JrZmxvdzo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLXZhbHVlIGpvYi13b3JrZmxvdy1wYXRoIj4ke2pvYi53b3JrZmxvd19wYXRofTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItZGV0YWlsLXJvdyI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLWxhYmVsIj5DcmVhdGVkOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImpvYi1kZXRhaWwtdmFsdWUiPiR7dGhpcy5mb3JtYXREYXRlVGltZShqb2IuY3JlYXRlZF9hdCl9PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICR7am9iLnN0YXJ0ZWRfYXQgPyBgDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iam9iLWRldGFpbC1yb3ciPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iam9iLWRldGFpbC1sYWJlbCI+U3RhcnRlZDo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLXZhbHVlIj4ke3RoaXMuZm9ybWF0RGF0ZVRpbWUoam9iLnN0YXJ0ZWRfYXQpfTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICBgIDogJyd9DQogICAgICAgICAgICAgICAgJHtqb2IuY29tcGxldGVkX2F0ID8gYA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImpvYi1kZXRhaWwtcm93Ij4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImpvYi1kZXRhaWwtbGFiZWwiPkNvbXBsZXRlZDo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLXZhbHVlIj4ke3RoaXMuZm9ybWF0RGF0ZVRpbWUoam9iLmNvbXBsZXRlZF9hdCl9PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIGAgOiAnJ30NCiAgICAgICAgICAgICAgICAke2pvYi5zdGFydGVkX2F0ICYmICFqb2IuY29tcGxldGVkX2F0ID8gYA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImpvYi1kZXRhaWwtcm93Ij4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImpvYi1kZXRhaWwtbGFiZWwiPkR1cmF0aW9uOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImpvYi1kZXRhaWwtdmFsdWUiPiR7dGhpcy5jYWxjdWxhdGVEdXJhdGlvbihqb2Iuc3RhcnRlZF9hdCl9PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIGAgOiAnJ30NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1pbmZvIGJ0bi1kZXRhaWxzIiBkYXRhLWpvYi1pZD0iJHtqb2IuaWR9Ij4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1pbmZvLWNpcmNsZSI+PC9pPiBEZXRhaWxzDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgJHtqb2Iuc3RhdHVzID09PSAncnVubmluZycgfHwgam9iLnN0YXR1cyA9PT0gJ3F1ZXVlZCcgPyBgDQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLWNhbmNlbCIgZGF0YS1qb2ItaWQ9IiR7am9iLmlkfSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3RvcCI+PC9pPiBDYW5jZWwNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICBgIDogJyd9DQogICAgICAgICAgICAgICAgJHtqb2Iuc3RhdHVzID09PSAnY29tcGxldGVkJyB8fCBqb2Iuc3RhdHVzID09PSAnZmFpbGVkJyB8fCBqb2Iuc3RhdHVzID09PSAnY2FuY2VsbGVkJyA/IGANCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tZGVsZXRlIiBkYXRhLWpvYi1pZD0iJHtqb2IuaWR9Ij4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiBEZWxldGUNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICBgIDogJyd9DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgYDsNCg0KICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBqb2IgYWN0aW9ucw0KICAgICAgICBjb25zdCBkZXRhaWxzQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuYnRuLWRldGFpbHMnKTsNCiAgICAgICAgZGV0YWlsc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0pvYkRldGFpbHMoam9iLmlkKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuYnRuLWNhbmNlbCcpOw0KICAgICAgICBpZiAoY2FuY2VsQnRuKSB7DQogICAgICAgICAgICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxKb2Ioam9iLmlkKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuYnRuLWRlbGV0ZScpOw0KICAgICAgICBpZiAoZGVsZXRlQnRuKSB7DQogICAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVKb2Ioam9iLmlkKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGNhcmQ7DQogICAgfQ0KDQogICAgZ2V0Sm9iRGlzcGxheU5hbWUod29ya2Zsb3dQYXRoKSB7DQogICAgICAgIC8vIEV4dHJhY3QgZmlsZW5hbWUgZnJvbSBwYXRoDQogICAgICAgIGNvbnN0IHBhcnRzID0gd29ya2Zsb3dQYXRoLnNwbGl0KCcvJyk7DQogICAgICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSB8fCAnVW5rbm93biBXb3JrZmxvdyc7DQogICAgfQ0KDQogICAgZm9ybWF0RGF0ZVRpbWUoZGF0ZVN0cmluZykgew0KICAgICAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAnTi9BJzsNCiAgICAgICAgDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7DQogICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygpOw0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgcmV0dXJuIGRhdGVTdHJpbmc7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBjYWxjdWxhdGVEdXJhdGlvbihzdGFydFRpbWUpIHsNCiAgICAgICAgaWYgKCFzdGFydFRpbWUpIHJldHVybiAnTi9BJzsNCiAgICAgICAgDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKHN0YXJ0VGltZSk7DQogICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgY29uc3QgZGlmZk1zID0gbm93IC0gc3RhcnQ7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGRpZmZNcyAvIDYwMDAwKTsNCiAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChkaWZmTXMgJSA2MDAwMCkgLyAxMDAwKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3NlY29uZHN9c2A7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICByZXR1cm4gJ04vQSc7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyBjYW5jZWxKb2Ioam9iSWQpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3lwbmV4QVBJLnByb3h5REVMRVRFKGAke3RoaXMuZmxvd1J1bm5lclVybH0vYXBpL2pvYnMvJHtqb2JJZH1gKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBmb3JtYXRzDQogICAgICAgICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlOw0KICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBJZiByZXNwb25zZSBoYXMgY29udGVudCBmaWVsZCwgcGFyc2UgaXQgYXMgSlNPTg0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvbnRlbnQpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbnRlbnQpOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2UgY2FuY2VsIHJlc3BvbnNlIGNvbnRlbnQgYXMgSlNPTjonLCBlKTsNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBDaGVjayBmb3Igc3VjY2VzcyBpbmRpY2F0b3JzDQogICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gcmVzcG9uc2VEYXRhLnN1Y2Nlc3M7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5tZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIG1lc3NhZ2UsIGFzc3VtZSBzdWNjZXNzDQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5qb2JfaWQpIHsNCiAgICAgICAgICAgICAgICAvLyBJZiBqb2JfaWQgaXMgcmV0dXJuZWQsIGFzc3VtZSBzdWNjZXNzDQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1c19jb2RlID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXNfY29kZSA8IDMwMCkgew0KICAgICAgICAgICAgICAgIC8vIElmIEhUVFAgc3RhdHVzIGlzIDJ4eCwgYXNzdW1lIHN1Y2Nlc3MNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICBzeXBuZXhBUEkuc2hvd05vdGlmaWNhdGlvbihgSm9iICR7am9iSWR9IGNhbmNlbGxlZCBzdWNjZXNzZnVsbHlgLCAnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgIHRoaXMubG9hZEpvYnMoZmFsc2UpOyAvLyBSZWZyZXNoIGpvYnMgd2l0aG91dCBsb2FkaW5nIHN0YXRlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZURhdGEuZXJyb3IgfHwgcmVzcG9uc2UuY29udGVudCB8fCAnRmFpbGVkIHRvIGNhbmNlbCBqb2InKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbmNlbGxpbmcgam9iOicsIGVycm9yKTsNCiAgICAgICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKGBGYWlsZWQgdG8gY2FuY2VsIGpvYjogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgYXN5bmMgZGVsZXRlSm9iKGpvYklkKSB7DQogICAgICAgIC8vIFNob3cgY29uZmlybWF0aW9uIGRpYWxvZw0KICAgICAgICBpZiAoIWNvbmZpcm0oYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwZXJtYW5lbnRseSBkZWxldGUgam9iICR7am9iSWR9P2ApKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzeXBuZXhBUEkucHJveHlERUxFVEUoYCR7dGhpcy5mbG93UnVubmVyVXJsfS9hcGkvam9icy8ke2pvYklkfS9kZWxldGVgKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBmb3JtYXRzDQogICAgICAgICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlOw0KICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBJZiByZXNwb25zZSBoYXMgY29udGVudCBmaWVsZCwgcGFyc2UgaXQgYXMgSlNPTg0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvbnRlbnQpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbnRlbnQpOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2UgZGVsZXRlIHJlc3BvbnNlIGNvbnRlbnQgYXMgSlNPTjonLCBlKTsNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBDaGVjayBmb3Igc3VjY2VzcyBpbmRpY2F0b3JzDQogICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gcmVzcG9uc2VEYXRhLnN1Y2Nlc3M7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5tZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIG1lc3NhZ2UsIGFzc3VtZSBzdWNjZXNzDQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5qb2JfaWQpIHsNCiAgICAgICAgICAgICAgICAvLyBJZiBqb2JfaWQgaXMgcmV0dXJuZWQsIGFzc3VtZSBzdWNjZXNzDQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1c19jb2RlID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXNfY29kZSA8IDMwMCkgew0KICAgICAgICAgICAgICAgIC8vIElmIEhUVFAgc3RhdHVzIGlzIDJ4eCwgYXNzdW1lIHN1Y2Nlc3MNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICBzeXBuZXhBUEkuc2hvd05vdGlmaWNhdGlvbihgSm9iICR7am9iSWR9IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5YCwgJ3N1Y2Nlc3MnKTsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRKb2JzKGZhbHNlKTsgLy8gUmVmcmVzaCBqb2JzIHdpdGhvdXQgbG9hZGluZyBzdGF0ZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2VEYXRhLmVycm9yIHx8IHJlc3BvbnNlLmNvbnRlbnQgfHwgJ0ZhaWxlZCB0byBkZWxldGUgam9iJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBqb2I6JywgZXJyb3IpOw0KICAgICAgICAgICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oYEZhaWxlZCB0byBkZWxldGUgam9iOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBzaG93Sm9iRGV0YWlscyhqb2JJZCkgew0KICAgICAgICBjb25zdCBqb2IgPSB0aGlzLmpvYnMuZ2V0KGpvYklkKTsNCiAgICAgICAgaWYgKCFqb2IpIHsNCiAgICAgICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKCdKb2Igbm90IGZvdW5kJywgJ2Vycm9yJyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYi1kZXRhaWxzLWNvbnRlbnQnKTsNCiAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXRhaWwtc2VjdGlvbiI+DQogICAgICAgICAgICAgICAgPGg0PjxpIGNsYXNzPSJmYXMgZmEtaW5mby1jaXJjbGUiPjwvaT4gSm9iIEluZm9ybWF0aW9uPC9oND4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXRhaWwtZ3JpZCI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtbGFiZWwiPklEOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRldGFpbC12YWx1ZSI+JHtqb2IuaWR9PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLWxhYmVsIj5TdGF0dXM6PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLXZhbHVlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2Itc3RhdHVzICR7am9iLnN0YXR1c30iPiR7am9iLnN0YXR1c308L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRldGFpbC1sYWJlbCI+V29ya2Zsb3cgUGF0aDo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtdmFsdWUiPiR7am9iLndvcmtmbG93X3BhdGh9PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLWxhYmVsIj5TeXBuZXggT1MgVVJMOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRldGFpbC12YWx1ZSI+JHtqb2Iuc3lwbmV4X29zX3VybH08L3NwYW4+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLXNlY3Rpb24iPg0KICAgICAgICAgICAgICAgIDxoND48aSBjbGFzcz0iZmFzIGZhLWNsb2NrIj48L2k+IFRpbWluZzwvaDQ+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLWdyaWQiPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLWxhYmVsIj5DcmVhdGVkOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRldGFpbC12YWx1ZSI+JHt0aGlzLmZvcm1hdERhdGVUaW1lKGpvYi5jcmVhdGVkX2F0KX08L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtbGFiZWwiPlN0YXJ0ZWQ6PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLXZhbHVlIj4ke3RoaXMuZm9ybWF0RGF0ZVRpbWUoam9iLnN0YXJ0ZWRfYXQpIHx8ICdOb3Qgc3RhcnRlZCd9PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLWxhYmVsIj5Db21wbGV0ZWQ6PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLXZhbHVlIj4ke3RoaXMuZm9ybWF0RGF0ZVRpbWUoam9iLmNvbXBsZXRlZF9hdCkgfHwgJ05vdCBjb21wbGV0ZWQnfTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICAke2pvYi5lcnJvciA/IGANCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRldGFpbC1zZWN0aW9uIj4NCiAgICAgICAgICAgICAgICA8aDQ+PGkgY2xhc3M9ImZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSI+PC9pPiBFcnJvcjwvaDQ+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3V0cHV0LWNvbnRhaW5lciI+JHtqb2IuZXJyb3J9PC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIGAgOiAnJ30NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLXNlY3Rpb24iPg0KICAgICAgICAgICAgICAgIDxoND48aSBjbGFzcz0iZmFzIGZhLXRlcm1pbmFsIj48L2k+IE91dHB1dDwvaDQ+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3V0cHV0LWNvbnRhaW5lciI+DQogICAgICAgICAgICAgICAgICAgICR7am9iLm91dHB1dCA/IGpvYi5vdXRwdXQgOiAnPGRpdiBjbGFzcz0ibm8tb3V0cHV0Ij5ObyBvdXRwdXQgYXZhaWxhYmxlPC9kaXY+J30NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICBgOw0KDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2ItZGV0YWlscy1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgfQ0KDQogICAgc2hvd0pvYlN1Ym1pdE1vZGFsKCkgew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9iLXN1Ym1pdC1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JrZmxvdy1wYXRoJykuZm9jdXMoKTsNCiAgICB9DQoNCiAgICBoaWRlSm9iU3VibWl0TW9kYWwoKSB7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2Itc3VibWl0LW1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYi1mb3JtJykucmVzZXQoKTsNCiAgICB9DQoNCiAgICBoaWRlSm9iRGV0YWlsc01vZGFsKCkgew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9iLWRldGFpbHMtbW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIH0NCg0KICAgIGFzeW5jIHN1Ym1pdE5ld0pvYigpIHsNCiAgICAgICAgY29uc3Qgd29ya2Zsb3dQYXRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmtmbG93LXBhdGgnKS52YWx1ZS50cmltKCk7DQogICAgICAgIGNvbnN0IHN5cG5leE9zVXJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5cG5leC1vcy11cmwnKS52YWx1ZS50cmltKCk7DQoNCiAgICAgICAgaWYgKCF3b3JrZmxvd1BhdGggfHwgIXN5cG5leE9zVXJsKSB7DQogICAgICAgICAgICBzeXBuZXhBUEkuc2hvd05vdGlmaWNhdGlvbignUGxlYXNlIGZpbGwgaW4gYWxsIHJlcXVpcmVkIGZpZWxkcycsICdlcnJvcicpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm0tc3VibWl0Jyk7DQogICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IHN1Ym1pdEJ0bi5pbm5lckhUTUw7DQogICAgICAgIA0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlDQogICAgICAgICAgICBzdWJtaXRCdG4uZGlzYWJsZWQgPSB0cnVlOw0KICAgICAgICAgICAgc3VibWl0QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXNwaW5uZXIgZmEtc3BpbiI+PC9pPiBTdWJtaXR0aW5nLi4uJzsNCg0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzeXBuZXhBUEkucHJveHlKU09OKGAke3RoaXMuZmxvd1J1bm5lclVybH0vYXBpL2pvYnNgLCB7DQogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd19wYXRoOiB3b3JrZmxvd1BhdGgsDQogICAgICAgICAgICAgICAgICAgIHN5cG5leF9vc191cmw6IHN5cG5leE9zVXJsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcmVzcG9uc2UgZm9ybWF0cw0KICAgICAgICAgICAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTsNCiAgICAgICAgICAgIGxldCByZXNwb25zZURhdGEgPSByZXNwb25zZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gSWYgcmVzcG9uc2UgaGFzIGNvbnRlbnQgZmllbGQsIHBhcnNlIGl0IGFzIEpTT04NCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb250ZW50KSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5jb250ZW50KTsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHBhcnNlIHJlc3BvbnNlIGNvbnRlbnQgYXMgSlNPTjonLCBlKTsNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBDaGVjayBmb3Igc3VjY2VzcyBpbmRpY2F0b3JzDQogICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gcmVzcG9uc2VEYXRhLnN1Y2Nlc3M7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5qb2JfaWQgfHwgcmVzcG9uc2VEYXRhLmlkKSB7DQogICAgICAgICAgICAgICAgLy8gSWYgam9iX2lkIG9yIGlkIGlzIHJldHVybmVkLCBhc3N1bWUgc3VjY2Vzcw0KICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEuY3JlYXRlZF9hdCkgew0KICAgICAgICAgICAgICAgIC8vIElmIGNyZWF0ZWRfYXQgaXMgcHJlc2VudCwgYXNzdW1lIHN1Y2Nlc3MNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzX2NvZGUgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1c19jb2RlIDwgMzAwKSB7DQogICAgICAgICAgICAgICAgLy8gSWYgSFRUUCBzdGF0dXMgaXMgMnh4LCBhc3N1bWUgc3VjY2Vzcw0KICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgIGNvbnN0IGpvYklkID0gcmVzcG9uc2VEYXRhLmpvYl9pZCB8fCByZXNwb25zZURhdGEuaWQgfHwgJ3Vua25vd24nOw0KICAgICAgICAgICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKGBKb2IgJHtqb2JJZH0gc3VibWl0dGVkIHN1Y2Nlc3NmdWxseSFgLCAnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgIHRoaXMuaGlkZUpvYlN1Ym1pdE1vZGFsKCk7DQogICAgICAgICAgICAgICAgdGhpcy5sb2FkSm9icyhmYWxzZSk7IC8vIFJlZnJlc2ggam9icyB3aXRob3V0IGxvYWRpbmcgc3RhdGUNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5lcnJvciB8fCByZXNwb25zZS5jb250ZW50IHx8ICdGYWlsZWQgdG8gc3VibWl0IGpvYicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3VibWl0dGluZyBqb2I6JywgZXJyb3IpOw0KICAgICAgICAgICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oYEZhaWxlZCB0byBzdWJtaXQgam9iOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICAvLyBSZXN0b3JlIGJ1dHRvbiBzdGF0ZQ0KICAgICAgICAgICAgc3VibWl0QnRuLmRpc2FibGVkID0gZmFsc2U7DQogICAgICAgICAgICBzdWJtaXRCdG4uaW5uZXJIVE1MID0gb3JpZ2luYWxUZXh0Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgc2hvd0xvYWRpbmcoKSB7DQogICAgICAgIHRoaXMuaGlkZUFsbFZpZXdzKCk7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLXN0YXRlJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICB9DQoNCiAgICBzaG93RXJyb3IobWVzc2FnZSkgew0KICAgICAgICB0aGlzLmhpZGVBbGxWaWV3cygpOw0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3ItbWVzc2FnZScpLnRleHRDb250ZW50ID0gbWVzc2FnZTsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yLXN0YXRlJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICB9DQoNCiAgICBzaG93RW1wdHkoKSB7DQogICAgICAgIHRoaXMuaGlkZUFsbFZpZXdzKCk7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXB0eS1zdGF0ZScpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgfQ0KDQogICAgc2hvd0pvYnMoKSB7DQogICAgICAgIHRoaXMuaGlkZUFsbFZpZXdzKCk7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2JzLWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgfQ0KDQogICAgaGlkZUFsbFZpZXdzKCkgew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZy1zdGF0ZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvci1zdGF0ZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXB0eS1zdGF0ZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2JzLWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgfQ0KfQ0KDQovLyBJbml0aWFsaXplIHRoZSBGbG93IFJ1bm5lciBhcHANCmNvbnN0IGZsb3dSdW5uZXIgPSBuZXcgRmxvd1J1bm5lcigpOw0KPC9zY3JpcHQ+"
  },
  "package_info": {
    "format_version": "1.0",
    "created_at": "2025-07-28T06:41:24.820923",
    "packaged_by": "Sypnex OS App Packager",
    "source_directory": ".\\flow_runner"
  }
}