{
  "app_metadata": {
    "id": "flow_runner",
    "name": "Flow Runner",
    "description": "Background workflow execution manager with job monitoring and control",
    "icon": "fas fa-cogs",
    "keywords": [
      "workflow",
      "automation",
      "jobs",
      "background",
      "execution",
      "monitor"
    ],
    "author": "Sypnex OS",
    "version": "1.0.1",
    "type": "user_app",
    "scripts": [
      "main.js"
    ],
    "styles": [
      "style.css"
    ],
    "settings": []
  },
  "files": {
    "flow_runner.app": "ew0KICAiaWQiOiAiZmxvd19ydW5uZXIiLA0KICAibmFtZSI6ICJGbG93IFJ1bm5lciIsDQogICJkZXNjcmlwdGlvbiI6ICJCYWNrZ3JvdW5kIHdvcmtmbG93IGV4ZWN1dGlvbiBtYW5hZ2VyIHdpdGggam9iIG1vbml0b3JpbmcgYW5kIGNvbnRyb2wiLA0KICAiaWNvbiI6ICJmYXMgZmEtY29ncyIsDQogICJrZXl3b3JkcyI6IFsid29ya2Zsb3ciLCAiYXV0b21hdGlvbiIsICJqb2JzIiwgImJhY2tncm91bmQiLCAiZXhlY3V0aW9uIiwgIm1vbml0b3IiXSwNCiAgImF1dGhvciI6ICJTeXBuZXggT1MiLA0KICAidmVyc2lvbiI6ICIxLjAuMSIsDQogICJ0eXBlIjogInVzZXJfYXBwIiwNCiAgInNjcmlwdHMiOiBbIm1haW4uanMiXSwNCiAgInN0eWxlcyI6IFsic3R5bGUuY3NzIl0sDQogICJzZXR0aW5ncyI6IFtdDQp9DQo=",
    "flow_runner.html": "PGRpdiBjbGFzcz0iYXBwLWNvbnRhaW5lciI+DQogICAgPGRpdiBjbGFzcz0iYXBwLWhlYWRlciI+DQogICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1jb250ZW50Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci10ZXh0Ij4NCiAgICAgICAgICAgICAgICA8aDI+PGkgY2xhc3M9ImZhcyBmYS1jb2dzIj48L2k+IEZsb3cgUnVubmVyPC9oMj4NCiAgICAgICAgICAgICAgICA8cD5Nb25pdG9yIGFuZCBtYW5hZ2UgYmFja2dyb3VuZCB3b3JrZmxvdyBleGVjdXRpb248L3A+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1jb250cm9scyI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdHMtZGlzcGxheSI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJqb2Itc3RhdHMiIGNsYXNzPSJzdGF0cy10ZXh0Ij5Mb2FkaW5nIHN0YXRzLi4uPC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InJlZnJlc2gtam9icyIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3luYy1hbHQiPjwvaT4gUmVmcmVzaA0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InN1Ym1pdC1qb2IiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4gU3VibWl0IEpvYg0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiBjbGFzcz0iYXBwLWNvbnRlbnQiPg0KICAgICAgICA8IS0tIExvYWRpbmcgU3RhdGUgLS0+DQogICAgICAgIDxkaXYgaWQ9ImxvYWRpbmctc3RhdGUiIGNsYXNzPSJsb2FkaW5nLXN0YXRlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvYWRpbmctc3Bpbm5lciI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1zcGlubmVyIGZhLXNwaW4iPjwvaT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPHA+TG9hZGluZyBqb2JzLi4uPC9wPg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8IS0tIEVycm9yIFN0YXRlIC0tPg0KICAgICAgICA8ZGl2IGlkPSJlcnJvci1zdGF0ZSIgY2xhc3M9ImVycm9yLXN0YXRlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXJyb3ItaWNvbiI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSI+PC9pPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8cCBpZD0iZXJyb3ItbWVzc2FnZSI+RmFpbGVkIHRvIGxvYWQgam9iczwvcD4NCiAgICAgICAgICAgIDxidXR0b24gaWQ9InJldHJ5LWJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXJlZG8iPjwvaT4gUmV0cnkNCiAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8IS0tIEpvYnMgR3JpZCAtLT4NCiAgICAgICAgPGRpdiBpZD0iam9icy1jb250YWluZXIiIGNsYXNzPSJqb2JzLWNvbnRhaW5lciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4NCiAgICAgICAgICAgIDxkaXYgaWQ9ImpvYnMtZ3JpZCIgY2xhc3M9ImpvYnMtZ3JpZCI+DQogICAgICAgICAgICAgICAgPCEtLSBKb2JzIHdpbGwgYmUgcG9wdWxhdGVkIGR5bmFtaWNhbGx5IC0tPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDwhLS0gRW1wdHkgU3RhdGUgLS0+DQogICAgICAgIDxkaXYgaWQ9ImVtcHR5LXN0YXRlIiBjbGFzcz0iZW1wdHktc3RhdGUiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJlbXB0eS1pY29uIj4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRhc2tzIj48L2k+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxoMz5ObyBKb2JzIEZvdW5kPC9oMz4NCiAgICAgICAgICAgIDxwPk5vIHdvcmtmbG93IGpvYnMgaGF2ZSBiZWVuIHN1Ym1pdHRlZCB5ZXQuPC9wPg0KICAgICAgICAgICAgPGJ1dHRvbiBpZD0iZW1wdHktc3VibWl0LWpvYiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+IFN1Ym1pdCBZb3VyIEZpcnN0IEpvYg0KICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBKb2IgU3VibWlzc2lvbiBNb2RhbCAtLT4NCiAgICA8ZGl2IGlkPSJqb2Itc3VibWl0LW1vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDM+PGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+IFN1Ym1pdCBOZXcgSm9iPC9oMz4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjbG9zZS1tb2RhbCIgY2xhc3M9Im1vZGFsLWNsb3NlIj4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10aW1lcyI+PC9pPg0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8Zm9ybSBpZD0iam9iLWZvcm0iPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IndvcmtmbG93LXBhdGgiPldvcmtmbG93IFBhdGg6PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0id29ya2Zsb3ctcGF0aCIgY2xhc3M9ImZvcm0tY29udHJvbCIgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9Ii9wYXRoL3RvL3dvcmtmbG93Lmpzb24iIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJmb3JtLWhlbHAiPlBhdGggdG8gdGhlIHdvcmtmbG93IEpTT04gZmlsZSAoVkZTIHBhdGgpPC9zbWFsbD4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNhbmNlbC1zdWJtaXQiIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSI+Q2FuY2VsPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybS1zdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4gU3VibWl0IEpvYg0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBKb2IgRGV0YWlscyBNb2RhbCAtLT4NCiAgICA8ZGl2IGlkPSJqb2ItZGV0YWlscy1tb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IG1vZGFsLWxhcmdlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+DQogICAgICAgICAgICAgICAgPGgzPjxpIGNsYXNzPSJmYXMgZmEtaW5mby1jaXJjbGUiPjwvaT4gSm9iIERldGFpbHM8L2gzPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNsb3NlLWRldGFpbHMtbW9kYWwiIGNsYXNzPSJtb2RhbC1jbG9zZSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdGltZXMiPjwvaT4NCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+DQogICAgICAgICAgICAgICAgPGRpdiBpZD0iam9iLWRldGFpbHMtY29udGVudCI+DQogICAgICAgICAgICAgICAgICAgIDwhLS0gSm9iIGRldGFpbHMgd2lsbCBiZSBwb3B1bGF0ZWQgZHluYW1pY2FsbHkgLS0+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY2xvc2UtZGV0YWlscyIgY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5Ij5DbG9zZTwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQoNCjxzdHlsZT4vKiA9PT09PSBTdHlsZTogc3R5bGUuY3NzID09PT09ICovDQovKiBGbG93IFJ1bm5lciBBcHAgU3R5bGVzICovDQouYXBwLWNvbnRhaW5lciB7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCn0NCg0KLmFwcC1oZWFkZXIgew0KICAgIHBhZGRpbmc6IDIwcHg7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjEpKTsNCn0NCg0KLmhlYWRlci1jb250ZW50IHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0Ow0KICAgIGdhcDogMjBweDsNCiAgICBmbGV4LXdyYXA6IHdyYXA7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNCi5oZWFkZXItdGV4dCB7DQogICAgZmxleDogMCAxIGF1dG87DQp9DQoNCi5oZWFkZXItdGV4dCBoMiB7DQogICAgbWFyZ2luOiAwIDAgOHB4IDA7DQogICAgZm9udC13ZWlnaHQ6IDYwMDsNCn0NCg0KLmhlYWRlci10ZXh0IHAgew0KICAgIG1hcmdpbjogMDsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnksIHJnYmEoMjU1LDI1NSwyNTUsMC43KSk7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KfQ0KDQouaGVhZGVyLWNvbnRyb2xzIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgZ2FwOiAxNXB4Ow0KICAgIG1hcmdpbi1sZWZ0OiBhdXRvOw0KICAgIGZsZXg6IDAgMCBhdXRvOw0KfQ0KDQouc3RhdHMtZGlzcGxheSB7DQogICAgcGFkZGluZzogOHB4IDEycHg7DQogICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KSk7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjEpKTsNCn0NCg0KLnN0YXRzLXRleHQgew0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnksIHJnYmEoMjU1LDI1NSwyNTUsMC44KSk7DQogICAgZm9udC13ZWlnaHQ6IDUwMDsNCn0NCg0KLmFwcC1jb250ZW50IHsNCiAgICBmbGV4OiAxOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KDQovKiBTdGF0ZXMgKi8NCi5sb2FkaW5nLXN0YXRlLA0KLmVycm9yLXN0YXRlLA0KLmVtcHR5LXN0YXRlIHsNCiAgICBmbGV4OiAxOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBwYWRkaW5nOiA0MHB4Ow0KfQ0KDQoubG9hZGluZy1zcGlubmVyIGkgew0KICAgIGZvbnQtc2l6ZTogMnJlbTsNCiAgICBjb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yLCAjNGE5MGUyKTsNCiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Ow0KfQ0KDQouZXJyb3ItaWNvbiBpIHsNCiAgICBmb250LXNpemU6IDNyZW07DQogICAgY29sb3I6IHZhcigtLWVycm9yLWNvbG9yLCAjZTc0YzNjKTsNCiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Ow0KfQ0KDQouZW1wdHktaWNvbiBpIHsNCiAgICBmb250LXNpemU6IDNyZW07DQogICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuNSkpOw0KICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQp9DQoNCi5lbXB0eS1zdGF0ZSBoMyB7DQogICAgbWFyZ2luOiAwIDAgMTBweCAwOw0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnksIHJnYmEoMjU1LDI1NSwyNTUsMC45KSk7DQp9DQoNCi5lbXB0eS1zdGF0ZSBwIHsNCiAgICBtYXJnaW46IDAgMCAyMHB4IDA7DQogICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuNykpOw0KfQ0KDQovKiBKb2JzIENvbnRhaW5lciAqLw0KLmpvYnMtY29udGFpbmVyIHsNCiAgICBmbGV4OiAxOw0KICAgIG92ZXJmbG93LXk6IGF1dG87DQogICAgcGFkZGluZzogMjBweDsNCn0NCg0KLmpvYnMtZ3JpZCB7DQogICAgZGlzcGxheTogZ3JpZDsNCiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzNTBweCwgMWZyKSk7DQogICAgZ2FwOiAyMHB4Ow0KICAgIG1heC13aWR0aDogMTAwJTsNCn0NCg0KLyogSm9iIENhcmQgKi8NCi5qb2ItY2FyZCB7DQogICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KSk7DQogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yLCByZ2JhKDI1NSwyNTUsMjU1LDAuMSkpOw0KICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgcGFkZGluZzogMjBweDsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOw0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KDQouam9iLWNhcmQ6aG92ZXIgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtaG92ZXIsIHJnYmEoMjU1LDI1NSwyNTUsMC4wOCkpOw0KICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yLCAjNGE5MGUyKTsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7DQogICAgYm94LXNoYWRvdzogMCA4cHggMjVweCByZ2JhKDAsMCwwLDAuMik7DQp9DQoNCi5qb2ItaGVhZGVyIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQp9DQoNCi5qb2ItdGl0bGUgew0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgZm9udC1zaXplOiAxNnB4Ow0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnksIHJnYmEoMjU1LDI1NSwyNTUsMC45KSk7DQogICAgbWFyZ2luOiAwOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBnYXA6IDhweDsNCn0NCg0KLmpvYi1pZCB7DQogICAgZm9udC1zaXplOiAxMXB4Ow0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjYpKTsNCiAgICBmb250LWZhbWlseTogbW9ub3NwYWNlOw0KICAgIG1hcmdpbi10b3A6IDRweDsNCn0NCg0KLmpvYi1zdGF0dXMgew0KICAgIHBhZGRpbmc6IDRweCA4cHg7DQogICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgIGZvbnQtc2l6ZTogMTFweDsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4Ow0KfQ0KDQouam9iLXN0YXR1cy5xdWV1ZWQgew0KICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAxOTMsIDcsIDAuMik7DQogICAgY29sb3I6ICNmZmMxMDc7DQogICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE5MywgNywgMC4zKTsNCn0NCg0KLmpvYi1zdGF0dXMucnVubmluZyB7DQogICAgYmFja2dyb3VuZDogcmdiYSgwLCAxMjMsIDI1NSwgMC4yKTsNCiAgICBjb2xvcjogIzAwN2JmZjsNCiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDEyMywgMjU1LCAwLjMpOw0KfQ0KDQouam9iLXN0YXR1cy5jb21wbGV0ZWQgew0KICAgIGJhY2tncm91bmQ6IHJnYmEoNDAsIDE2NywgNjksIDAuMik7DQogICAgY29sb3I6ICMyOGE3NDU7DQogICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg0MCwgMTY3LCA2OSwgMC4zKTsNCn0NCg0KLmpvYi1zdGF0dXMuZmFpbGVkIHsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjIpOw0KICAgIGNvbG9yOiAjZGMzNTQ1Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjIwLCA1MywgNjksIDAuMyk7DQp9DQoNCi5qb2Itc3RhdHVzLmNhbmNlbGxlZCB7DQogICAgYmFja2dyb3VuZDogcmdiYSgxMDgsIDExNywgMTI1LCAwLjIpOw0KICAgIGNvbG9yOiAjNmM3NTdkOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTA4LCAxMTcsIDEyNSwgMC4zKTsNCn0NCg0KLmpvYi1kZXRhaWxzIHsNCiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Ow0KfQ0KDQouam9iLWRldGFpbC1yb3cgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgbWFyZ2luLWJvdHRvbTogOHB4Ow0KICAgIGZvbnQtc2l6ZTogMTNweDsNCn0NCg0KLmpvYi1kZXRhaWwtbGFiZWwgew0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjcpKTsNCiAgICBmb250LXdlaWdodDogNTAwOw0KfQ0KDQouam9iLWRldGFpbC12YWx1ZSB7DQogICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjkpKTsNCiAgICBmb250LWZhbWlseTogbW9ub3NwYWNlOw0KICAgIGZvbnQtc2l6ZTogMTJweDsNCn0NCg0KLmpvYi13b3JrZmxvdy1wYXRoIHsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICM0YTkwZTIpOw0KfQ0KDQouam9iLWFjdGlvbnMgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiA4cHg7DQogICAgZmxleC13cmFwOiB3cmFwOw0KfQ0KDQouam9iLWFjdGlvbnMgLmJ0biB7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIHBhZGRpbmc6IDZweCAxMnB4Ow0KICAgIGZsZXg6IDE7DQogICAgbWluLXdpZHRoOiA4MHB4Ow0KfQ0KDQovKiBCdXR0b25zICovDQouYnRuIHsNCiAgICBwYWRkaW5nOiA4cHggMTZweDsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBmb250LXdlaWdodDogNTAwOw0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOw0KICAgIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgZ2FwOiA2cHg7DQogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KfQ0KDQouYnRuOmhvdmVyIHsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7DQogICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMik7DQp9DQoNCi5idG4tcHJpbWFyeSB7DQogICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LWNvbG9yLCAjNGE5MGUyKTsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQoNCi5idG4tc3VjY2VzcyB7DQogICAgYmFja2dyb3VuZDogIzI4YTc0NTsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQoNCi5idG4tZGFuZ2VyIHsNCiAgICBiYWNrZ3JvdW5kOiAjZGMzNTQ1Ow0KICAgIGNvbG9yOiB3aGl0ZTsNCn0NCg0KLmJ0bi1zZWNvbmRhcnkgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSk7DQogICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjkpKTsNCiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4yKSk7DQp9DQoNCi5idG4taW5mbyB7DQogICAgYmFja2dyb3VuZDogIzE3YTJiODsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQoNCi5idG46ZGlzYWJsZWQgew0KICAgIG9wYWNpdHk6IDAuNTsNCiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOw0KICAgIHRyYW5zZm9ybTogbm9uZTsNCn0NCg0KLmJ0bjpkaXNhYmxlZDpob3ZlciB7DQogICAgdHJhbnNmb3JtOiBub25lOw0KICAgIGJveC1zaGFkb3c6IG5vbmU7DQp9DQoNCi8qIE1vZGFsIFN0eWxlcyAqLw0KLm1vZGFsIHsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgdG9wOiAwOw0KICAgIGxlZnQ6IDA7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC43KTsNCiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgei1pbmRleDogMTAwMDsNCn0NCg0KLm1vZGFsLWNvbnRlbnQgew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtY29sb3IsIHJnYmEoMzAsMzAsMzAsMC45NSkpOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjIpKTsNCiAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgIG1heC13aWR0aDogNTAwcHg7DQogICAgd2lkdGg6IDkwJTsNCiAgICBtYXgtaGVpZ2h0OiA4MHZoOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOw0KICAgIGJveC1zaGFkb3c6IDAgMjBweCA2MHB4IHJnYmEoMCwwLDAsMC41KTsNCn0NCg0KLm1vZGFsLWxhcmdlIHsNCiAgICBtYXgtd2lkdGg6IDgwMHB4Ow0KfQ0KDQoubW9kYWwtaGVhZGVyIHsNCiAgICBwYWRkaW5nOiAyMHB4Ow0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSk7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCn0NCg0KLm1vZGFsLWhlYWRlciBoMyB7DQogICAgbWFyZ2luOiAwOw0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGdhcDogOHB4Ow0KfQ0KDQoubW9kYWwtY2xvc2Ugew0KICAgIGJhY2tncm91bmQ6IG5vbmU7DQogICAgYm9yZGVyOiBub25lOw0KICAgIGZvbnQtc2l6ZTogMThweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuNykpOw0KICAgIHBhZGRpbmc6IDRweDsNCiAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCn0NCg0KLm1vZGFsLWNsb3NlOmhvdmVyIHsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuOSkpOw0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtaG92ZXIsIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSk7DQp9DQoNCi5tb2RhbC1ib2R5IHsNCiAgICBwYWRkaW5nOiAyMHB4Ow0KICAgIG1heC1oZWlnaHQ6IDUwdmg7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCn0NCg0KLm1vZGFsLWZvb3RlciB7DQogICAgcGFkZGluZzogMjBweDsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yLCByZ2JhKDI1NSwyNTUsMjU1LDAuMSkpOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAxMHB4Ow0KICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQp9DQoNCi8qIEZvcm0gU3R5bGVzICovDQouZm9ybS1ncm91cCB7DQogICAgbWFyZ2luLWJvdHRvbTogMjBweDsNCn0NCg0KLmZvcm0tZ3JvdXAgbGFiZWwgew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIG1hcmdpbi1ib3R0b206IDZweDsNCiAgICBmb250LXdlaWdodDogNTAwOw0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnksIHJnYmEoMjU1LDI1NSwyNTUsMC45KSk7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KfQ0KDQouZm9ybS1jb250cm9sIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yLCByZ2JhKDI1NSwyNTUsMjU1LDAuMikpOw0KICAgIGJvcmRlci1yYWRpdXM6IDZweDsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWNvbG9yLCByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpKTsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuOSkpOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOw0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoNCi5mb3JtLWNvbnRyb2w6Zm9jdXMgew0KICAgIG91dGxpbmU6IG5vbmU7DQogICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICM0YTkwZTIpOw0KICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDc0LCAxNDQsIDIyNiwgMC4yKTsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWhvdmVyLCByZ2JhKDI1NSwyNTUsMjU1LDAuMDgpKTsNCn0NCg0KLmZvcm0taGVscCB7DQogICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjYpKTsNCiAgICBtYXJnaW4tdG9wOiA0cHg7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQoNCi8qIEpvYiBEZXRhaWxzIFN0eWxlcyAqLw0KLmpvYi1kZXRhaWxzLWNvbnRlbnQgew0KICAgIGRpc3BsYXk6IGdyaWQ7DQogICAgZ2FwOiAyMHB4Ow0KfQ0KDQouZGV0YWlsLXNlY3Rpb24gew0KICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4wMykpOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjA4KSk7DQogICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgIHBhZGRpbmc6IDE1cHg7DQp9DQoNCi5kZXRhaWwtc2VjdGlvbiBoNCB7DQogICAgbWFyZ2luOiAwIDAgMTJweCAwOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICM0YTkwZTIpOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBnYXA6IDZweDsNCn0NCg0KLmRldGFpbC1ncmlkIHsNCiAgICBkaXNwbGF5OiBncmlkOw0KICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byAxZnI7DQogICAgZ2FwOiA4cHggMTZweDsNCiAgICBmb250LXNpemU6IDEzcHg7DQp9DQoNCi5kZXRhaWwtbGFiZWwgew0KICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjcpKTsNCiAgICBmb250LXdlaWdodDogNTAwOw0KfQ0KDQouZGV0YWlsLXZhbHVlIHsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5LCByZ2JhKDI1NSwyNTUsMjU1LDAuOSkpOw0KICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7DQogICAgd29yZC1icmVhazogYnJlYWstYWxsOw0KfQ0KDQoub3V0cHV0LWNvbnRhaW5lciB7DQogICAgYmFja2dyb3VuZDogdmFyKC0tY29kZS1iZywgcmdiYSgwLDAsMCwwLjMpKTsNCiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IsIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSk7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIHBhZGRpbmc6IDEycHg7DQogICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgbWF4LWhlaWdodDogMjAwcHg7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7DQogICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSwgcmdiYSgyNTUsMjU1LDI1NSwwLjkpKTsNCiAgICBsaW5lLWhlaWdodDogMS40Ow0KfQ0KDQoubm8tb3V0cHV0IHsNCiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnksIHJnYmEoMjU1LDI1NSwyNTUsMC41KSk7DQogICAgZm9udC1zdHlsZTogaXRhbGljOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBwYWRkaW5nOiAyMHB4Ow0KfQ0KDQovKiBSZXNwb25zaXZlIERlc2lnbiAqLw0KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7DQogICAgLmhlYWRlci1jb250ZW50IHsNCiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7DQogICAgICAgIGdhcDogMTVweDsNCiAgICB9DQogICAgDQogICAgLmhlYWRlci1jb250cm9scyB7DQogICAgICAgIG1hcmdpbi1sZWZ0OiAwOw0KICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgfQ0KICAgIA0KICAgIC5qb2JzLWdyaWQgew0KICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsNCiAgICB9DQogICAgDQogICAgLm1vZGFsLWNvbnRlbnQgew0KICAgICAgICB3aWR0aDogOTUlOw0KICAgICAgICBtYXJnaW46IDEwcHg7DQogICAgfQ0KICAgIA0KICAgIC5qb2ItYWN0aW9ucyB7DQogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgfQ0KICAgIA0KICAgIC5qb2ItYWN0aW9ucyAuYnRuIHsNCiAgICAgICAgZmxleDogbm9uZTsNCiAgICB9DQp9DQoNCi8qIEFuaW1hdGlvbiBmb3IgbmV3IGpvYnMgKi8NCkBrZXlmcmFtZXMgc2xpZGVJbiB7DQogICAgZnJvbSB7DQogICAgICAgIG9wYWNpdHk6IDA7DQogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsNCiAgICB9DQogICAgdG8gew0KICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7DQogICAgfQ0KfQ0KDQouam9iLWNhcmQubmV3IHsNCiAgICBhbmltYXRpb246IHNsaWRlSW4gMC4zcyBlYXNlLW91dDsNCn0NCjwvc3R5bGU+DQo8c2NyaXB0Pi8vID09PT09IFNjcmlwdDogbWFpbi5qcyA9PT09PQ0KDQoNCi8vIEZsb3cgUnVubmVyIEFwcCBmdW5jdGlvbmFsaXR5DQpjbGFzcyBGbG93UnVubmVyIHsNCiAgICBjb25zdHJ1Y3RvcigpIHsNCiAgICAgICAgdGhpcy5qb2JzID0gbmV3IE1hcCgpOw0KICAgICAgICB0aGlzLnN0YXRzID0ge307DQogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMuZmxvd1J1bm5lclVybCA9ICcvYXBpL2Zsb3ctcnVubmVyJzsgLy8gVXNlIFN5cG5leCBPUyBwcm94eSBlbmRwb2ludHMNCiAgICAgICAgdGhpcy5yZWZyZXNoSW50ZXJ2YWwgPSBudWxsOw0KICAgICAgICANCiAgICAgICAgdGhpcy5pbml0KCk7DQogICAgfQ0KDQogICAgYXN5bmMgaW5pdCgpIHsNCiAgICAgICAgLy8gQ2hlY2sgaWYgU3lwbmV4QVBJIGlzIGF2YWlsYWJsZQ0KICAgICAgICBpZiAodHlwZW9mIHN5cG5leEFQSSAhPT0gJ3VuZGVmaW5lZCcgJiYgc3lwbmV4QVBJKSB7DQogICAgICAgICAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTsNCiAgICAgICAgICAgIHRoaXMuc3RhcnRBdXRvUmVmcmVzaCgpOw0KICAgICAgICAgICAgdGhpcy5sb2FkSm9icygpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3lwbmV4QVBJIG5vdCBhdmFpbGFibGUnKTsNCiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKCdTeXBuZXhBUEkgbm90IGF2YWlsYWJsZS4gRmxvdyBSdW5uZXIgY2Fubm90IGZ1bmN0aW9uIHByb3Blcmx5LicpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgc2V0dXBFdmVudExpc3RlbmVycygpIHsNCiAgICAgICAgLy8gUmVmcmVzaCBidXR0b24NCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZnJlc2gtam9icycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5sb2FkSm9icygpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBTdWJtaXQgam9iIGJ1dHRvbnMNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdC1qb2InKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0pvYlN1Ym1pdE1vZGFsKCk7DQogICAgICAgIH0pOw0KICAgICAgICANCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcHR5LXN1Ym1pdC1qb2InKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0pvYlN1Ym1pdE1vZGFsKCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIFJldHJ5IGJ1dHRvbg0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV0cnktYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRKb2JzKCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIE1vZGFsIGNvbnRyb2xzDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1tb2RhbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5oaWRlSm9iU3VibWl0TW9kYWwoKTsNCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsLXN1Ym1pdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5oaWRlSm9iU3VibWl0TW9kYWwoKTsNCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybS1zdWJtaXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc3VibWl0TmV3Sm9iKCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIEpvYiBkZXRhaWxzIG1vZGFsDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1kZXRhaWxzLW1vZGFsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmhpZGVKb2JEZXRhaWxzTW9kYWwoKTsNCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtZGV0YWlscycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5oaWRlSm9iRGV0YWlsc01vZGFsKCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIENsb3NlIG1vZGFscyB3aGVuIGNsaWNraW5nIG91dHNpZGUNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYi1zdWJtaXQtbW9kYWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7DQogICAgICAgICAgICBpZiAoZS50YXJnZXQuaWQgPT09ICdqb2Itc3VibWl0LW1vZGFsJykgew0KICAgICAgICAgICAgICAgIHRoaXMuaGlkZUpvYlN1Ym1pdE1vZGFsKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICANCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYi1kZXRhaWxzLW1vZGFsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gew0KICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmlkID09PSAnam9iLWRldGFpbHMtbW9kYWwnKSB7DQogICAgICAgICAgICAgICAgdGhpcy5oaWRlSm9iRGV0YWlsc01vZGFsKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIEZvcm0gc3VibWl0DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2ItZm9ybScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7DQogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICB0aGlzLnN1Ym1pdE5ld0pvYigpOw0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBzdGFydEF1dG9SZWZyZXNoKCkgew0KICAgICAgICAvLyBSZWZyZXNoIGV2ZXJ5IDUgc2Vjb25kcw0KICAgICAgICB0aGlzLnJlZnJlc2hJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMubG9hZEpvYnMoZmFsc2UpOyAvLyBEb24ndCBzaG93IGxvYWRpbmcgc3RhdGUgZm9yIGF1dG8tcmVmcmVzaA0KICAgICAgICB9LCA1MDAwKTsNCiAgICB9DQoNCiAgICBzdG9wQXV0b1JlZnJlc2goKSB7DQogICAgICAgIGlmICh0aGlzLnJlZnJlc2hJbnRlcnZhbCkgew0KICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlZnJlc2hJbnRlcnZhbCk7DQogICAgICAgICAgICB0aGlzLnJlZnJlc2hJbnRlcnZhbCA9IG51bGw7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyBsb2FkSm9icyhzaG93TG9hZGluZyA9IHRydWUpIHsNCiAgICAgICAgaWYgKHRoaXMuaXNMb2FkaW5nKSByZXR1cm47DQoNCiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOw0KDQogICAgICAgIGlmIChzaG93TG9hZGluZykgew0KICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZygpOw0KICAgICAgICB9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIC8vIExvYWQgam9icyBhbmQgc3RhdHMgaW4gcGFyYWxsZWwNCiAgICAgICAgICAgIGNvbnN0IFtqb2JzUmVzcG9uc2UsIHN0YXRzUmVzcG9uc2VdID0gYXdhaXQgUHJvbWlzZS5hbGwoWw0KICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hKb2JzKCksDQogICAgICAgICAgICAgICAgdGhpcy5mZXRjaFN0YXRzKCkNCiAgICAgICAgICAgIF0pOw0KDQogICAgICAgICAgICB0aGlzLmpvYnMgPSBqb2JzUmVzcG9uc2U7DQogICAgICAgICAgICB0aGlzLnN0YXRzID0gc3RhdHNSZXNwb25zZTsNCg0KICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0cygpOw0KDQogICAgICAgICAgICBpZiAodGhpcy5qb2JzLnNpemUgPT09IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dFbXB0eSgpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckpvYnMoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBqb2JzOicsIGVycm9yKTsNCiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKGBGYWlsZWQgdG8gbG9hZCBqb2JzOiAke2Vycm9yLm1lc3NhZ2V9YCk7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgYXN5bmMgZmV0Y2hKb2JzKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzeXBuZXhBUEkucHJveHlHRVQoYCR7dGhpcy5mbG93UnVubmVyVXJsfS9qb2JzYCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcmVzcG9uc2UgZm9ybWF0cw0KICAgICAgICAgICAgbGV0IGpvYnNEYXRhOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBJZiByZXNwb25zZSBoYXMgY29udGVudCBmaWVsZCwgdXNlIGl0IGRpcmVjdGx5IGlmIGl0J3MgYW4gb2JqZWN0LCBvciBwYXJzZSBpdCBpZiBpdCdzIGEgc3RyaW5nDQogICAgICAgICAgICBpZiAocmVzcG9uc2UuY29udGVudCkgew0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2UuY29udGVudCA9PT0gJ29iamVjdCcpIHsNCiAgICAgICAgICAgICAgICAgICAgam9ic0RhdGEgPSByZXNwb25zZS5jb250ZW50Ow0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICBqb2JzRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UuY29udGVudCk7DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHBhcnNlIGpvYnMgcmVzcG9uc2UgY29udGVudCBhcyBKU09OOicsIGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgam9ic0RhdGEgPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7DQogICAgICAgICAgICAgICAgLy8gRm9ybWF0OiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgam9iczogWy4uLl0gfSB9DQogICAgICAgICAgICAgICAgam9ic0RhdGEgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5qb2JzKSB7DQogICAgICAgICAgICAgICAgLy8gRm9ybWF0OiB7IGpvYnM6IFsuLi5dIH0NCiAgICAgICAgICAgICAgICBqb2JzRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlKSkgew0KICAgICAgICAgICAgICAgIC8vIEZvcm1hdDogWy4uLl0NCiAgICAgICAgICAgICAgICBqb2JzRGF0YSA9IHsgam9iczogcmVzcG9uc2UgfTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gQXNzdW1lIHRoZSByZXNwb25zZSBpdHNlbGYgaXMgdGhlIGRhdGENCiAgICAgICAgICAgICAgICBqb2JzRGF0YSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgIGNvbnN0IGpvYnNNYXAgPSBuZXcgTWFwKCk7DQogICAgICAgICAgICBpZiAoam9ic0RhdGEgJiYgam9ic0RhdGEuam9icyAmJiBBcnJheS5pc0FycmF5KGpvYnNEYXRhLmpvYnMpKSB7DQogICAgICAgICAgICAgICAgam9ic0RhdGEuam9icy5mb3JFYWNoKGpvYiA9PiB7DQogICAgICAgICAgICAgICAgICAgIGpvYnNNYXAuc2V0KGpvYi5pZCwgam9iKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShqb2JzRGF0YSkpIHsNCiAgICAgICAgICAgICAgICAvLyBJZiBqb2JzRGF0YSBpcyBkaXJlY3RseSBhbiBhcnJheSBvZiBqb2JzDQogICAgICAgICAgICAgICAgam9ic0RhdGEuZm9yRWFjaChqb2IgPT4gew0KICAgICAgICAgICAgICAgICAgICBqb2JzTWFwLnNldChqb2IuaWQsIGpvYik7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBqb2JzTWFwOw0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgam9iczonLCBlcnJvcik7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBqb2JzOiAke2Vycm9yLm1lc3NhZ2V9YCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyBmZXRjaFN0YXRzKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzeXBuZXhBUEkucHJveHlHRVQoYCR7dGhpcy5mbG93UnVubmVyVXJsfS9zdGF0c2ApOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHMNCiAgICAgICAgICAgIGxldCBzdGF0c0RhdGE7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIElmIHJlc3BvbnNlIGhhcyBjb250ZW50IGZpZWxkLCB1c2UgaXQgZGlyZWN0bHkgaWYgaXQncyBhbiBvYmplY3QsIG9yIHBhcnNlIGl0IGlmIGl0J3MgYSBzdHJpbmcNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb250ZW50KSB7DQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5jb250ZW50ID09PSAnb2JqZWN0Jykgew0KICAgICAgICAgICAgICAgICAgICBzdGF0c0RhdGEgPSByZXNwb25zZS5jb250ZW50Ow0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzdGF0c0RhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwYXJzZSBzdGF0cyByZXNwb25zZSBjb250ZW50IGFzIEpTT046JywgZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBzdGF0c0RhdGEgPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7DQogICAgICAgICAgICAgICAgLy8gRm9ybWF0OiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgdG90YWxfam9iczogMCwgLi4uIH0gfQ0KICAgICAgICAgICAgICAgIHN0YXRzRGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnRvdGFsX2pvYnMgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIC8vIEZvcm1hdDogeyB0b3RhbF9qb2JzOiAwLCBxdWV1ZWQ6IDAsIC4uLiB9DQogICAgICAgICAgICAgICAgc3RhdHNEYXRhID0gcmVzcG9uc2U7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vIEFzc3VtZSB0aGUgcmVzcG9uc2UgaXRzZWxmIGlzIHRoZSBkYXRhDQogICAgICAgICAgICAgICAgc3RhdHNEYXRhID0gcmVzcG9uc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBzdGF0c0RhdGEgfHwgew0KICAgICAgICAgICAgICAgIHRvdGFsX2pvYnM6IDAsDQogICAgICAgICAgICAgICAgcXVldWVkOiAwLA0KICAgICAgICAgICAgICAgIHJ1bm5pbmc6IDAsDQogICAgICAgICAgICAgICAgY29tcGxldGVkOiAwLA0KICAgICAgICAgICAgICAgIGZhaWxlZDogMCwNCiAgICAgICAgICAgICAgICBjYW5jZWxsZWQ6IDANCiAgICAgICAgICAgIH07DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzdGF0czonLCBlcnJvcik7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHRvdGFsX2pvYnM6IDAsDQogICAgICAgICAgICAgICAgcXVldWVkOiAwLA0KICAgICAgICAgICAgICAgIHJ1bm5pbmc6IDAsDQogICAgICAgICAgICAgICAgY29tcGxldGVkOiAwLA0KICAgICAgICAgICAgICAgIGZhaWxlZDogMCwNCiAgICAgICAgICAgICAgICBjYW5jZWxsZWQ6IDANCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9DQoNCiAgICB1cGRhdGVTdGF0cygpIHsNCiAgICAgICAgY29uc3Qgc3RhdHNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYi1zdGF0cycpOw0KICAgICAgICBpZiAoc3RhdHNFbGVtZW50ICYmIHRoaXMuc3RhdHMpIHsNCiAgICAgICAgICAgIGNvbnN0IHsgcXVldWVkID0gMCwgcnVubmluZyA9IDAsIGNvbXBsZXRlZCA9IDAsIGZhaWxlZCA9IDAsIGNhbmNlbGxlZCA9IDAgfSA9IHRoaXMuc3RhdHM7DQogICAgICAgICAgICBzdGF0c0VsZW1lbnQudGV4dENvbnRlbnQgPSBgUToke3F1ZXVlZH0gUjoke3J1bm5pbmd9IEM6JHtjb21wbGV0ZWR9IEY6JHtmYWlsZWR9IFg6JHtjYW5jZWxsZWR9YDsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJlbmRlckpvYnMoKSB7DQogICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2JzLWdyaWQnKTsNCiAgICAgICAgY29uc3Qgam9ic0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2JzLWNvbnRhaW5lcicpOw0KICAgICAgICANCiAgICAgICAgLy8gQ2xlYXIgZXhpc3RpbmcgY29udGVudA0KICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7DQogICAgICAgIA0KICAgICAgICAvLyBTb3J0IGpvYnMgYnkgY3JlYXRlZCBkYXRlIChuZXdlc3QgZmlyc3QpDQogICAgICAgIGNvbnN0IHNvcnRlZEpvYnMgPSBBcnJheS5mcm9tKHRoaXMuam9icy52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4gew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIuY3JlYXRlZF9hdCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRfYXQpOw0KICAgICAgICB9KTsNCg0KICAgICAgICBzb3J0ZWRKb2JzLmZvckVhY2goam9iID0+IHsNCiAgICAgICAgICAgIGNvbnN0IGpvYkNhcmQgPSB0aGlzLmNyZWF0ZUpvYkNhcmQoam9iKTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChqb2JDYXJkKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdGhpcy5zaG93Sm9icygpOw0KICAgIH0NCg0KICAgIGNyZWF0ZUpvYkNhcmQoam9iKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBqb2IgY2FyZCBmb3Igam9iOicsIGpvYi5pZCwgJ3dpdGggc3RhdHVzOicsIGpvYi5zdGF0dXMpOw0KICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgIGNhcmQuY2xhc3NOYW1lID0gJ2pvYi1jYXJkJzsNCiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8ZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItdGl0bGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jb2ciPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5nZXRKb2JEaXNwbGF5TmFtZShqb2Iud29ya2Zsb3dfcGF0aCl9DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItaWQiPiR7am9iLmlkfTwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImpvYi1zdGF0dXMgJHtqb2Iuc3RhdHVzfSI+JHtqb2Iuc3RhdHVzfTwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICANCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImpvYi1kZXRhaWxzIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItZGV0YWlsLXJvdyI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLWxhYmVsIj5Xb3JrZmxvdzo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLXZhbHVlIGpvYi13b3JrZmxvdy1wYXRoIj4ke2pvYi53b3JrZmxvd19wYXRofTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItZGV0YWlsLXJvdyI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLWxhYmVsIj5DcmVhdGVkOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImpvYi1kZXRhaWwtdmFsdWUiPiR7dGhpcy5mb3JtYXREYXRlVGltZShqb2IuY3JlYXRlZF9hdCl9PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICR7am9iLnN0YXJ0ZWRfYXQgPyBgDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iam9iLWRldGFpbC1yb3ciPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iam9iLWRldGFpbC1sYWJlbCI+U3RhcnRlZDo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLXZhbHVlIj4ke3RoaXMuZm9ybWF0RGF0ZVRpbWUoam9iLnN0YXJ0ZWRfYXQpfTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICBgIDogJyd9DQogICAgICAgICAgICAgICAgJHtqb2IuY29tcGxldGVkX2F0ID8gYA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImpvYi1kZXRhaWwtcm93Ij4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImpvYi1kZXRhaWwtbGFiZWwiPkNvbXBsZXRlZDo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJqb2ItZGV0YWlsLXZhbHVlIj4ke3RoaXMuZm9ybWF0RGF0ZVRpbWUoam9iLmNvbXBsZXRlZF9hdCl9PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIGAgOiAnJ30NCiAgICAgICAgICAgICAgICAke2pvYi5zdGFydGVkX2F0ICYmICFqb2IuY29tcGxldGVkX2F0ID8gYA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImpvYi1kZXRhaWwtcm93Ij4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImpvYi1kZXRhaWwtbGFiZWwiPkR1cmF0aW9uOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImpvYi1kZXRhaWwtdmFsdWUiPiR7dGhpcy5jYWxjdWxhdGVEdXJhdGlvbihqb2Iuc3RhcnRlZF9hdCl9PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIGAgOiAnJ30NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJqb2ItYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1pbmZvIGJ0bi1kZXRhaWxzIiBkYXRhLWpvYi1pZD0iJHtqb2IuaWR9Ij4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1pbmZvLWNpcmNsZSI+PC9pPiBEZXRhaWxzDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgJHtqb2Iuc3RhdHVzID09PSAncnVubmluZycgfHwgam9iLnN0YXR1cyA9PT0gJ3F1ZXVlZCcgPyBgDQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLWNhbmNlbCIgZGF0YS1qb2ItaWQ9IiR7am9iLmlkfSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3RvcCI+PC9pPiBDYW5jZWwNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICBgIDogJyd9DQogICAgICAgICAgICAgICAgJHtqb2Iuc3RhdHVzID09PSAnY29tcGxldGVkJyB8fCBqb2Iuc3RhdHVzID09PSAnZmFpbGVkJyB8fCBqb2Iuc3RhdHVzID09PSAnY2FuY2VsbGVkJyA/IGANCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tZGVsZXRlIiBkYXRhLWpvYi1pZD0iJHtqb2IuaWR9Ij4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiBEZWxldGUNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICBgIDogJyd9DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgYDsNCg0KICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBqb2IgYWN0aW9ucw0KICAgICAgICBjb25zdCBkZXRhaWxzQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuYnRuLWRldGFpbHMnKTsNCiAgICAgICAgZGV0YWlsc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0pvYkRldGFpbHMoam9iLmlkKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuYnRuLWNhbmNlbCcpOw0KICAgICAgICBpZiAoY2FuY2VsQnRuKSB7DQogICAgICAgICAgICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxKb2Ioam9iLmlkKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuYnRuLWRlbGV0ZScpOw0KICAgICAgICBpZiAoZGVsZXRlQnRuKSB7DQogICAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVKb2Ioam9iLmlkKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGNhcmQ7DQogICAgfQ0KDQogICAgZ2V0Sm9iRGlzcGxheU5hbWUod29ya2Zsb3dQYXRoKSB7DQogICAgICAgIC8vIEV4dHJhY3QgZmlsZW5hbWUgZnJvbSBwYXRoDQogICAgICAgIGNvbnN0IHBhcnRzID0gd29ya2Zsb3dQYXRoLnNwbGl0KCcvJyk7DQogICAgICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSB8fCAnVW5rbm93biBXb3JrZmxvdyc7DQogICAgfQ0KDQogICAgZm9ybWF0RGF0ZVRpbWUoZGF0ZVN0cmluZykgew0KICAgICAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAnTi9BJzsNCiAgICAgICAgDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7DQogICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygpOw0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgcmV0dXJuIGRhdGVTdHJpbmc7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBjYWxjdWxhdGVEdXJhdGlvbihzdGFydFRpbWUpIHsNCiAgICAgICAgaWYgKCFzdGFydFRpbWUpIHJldHVybiAnTi9BJzsNCiAgICAgICAgDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKHN0YXJ0VGltZSk7DQogICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgY29uc3QgZGlmZk1zID0gbm93IC0gc3RhcnQ7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGRpZmZNcyAvIDYwMDAwKTsNCiAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChkaWZmTXMgJSA2MDAwMCkgLyAxMDAwKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3NlY29uZHN9c2A7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICByZXR1cm4gJ04vQSc7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyBjYW5jZWxKb2Ioam9iSWQpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3lwbmV4QVBJLnByb3h5REVMRVRFKGAke3RoaXMuZmxvd1J1bm5lclVybH0vam9icy8ke2pvYklkfWApOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHMNCiAgICAgICAgICAgIGxldCBzdWNjZXNzID0gZmFsc2U7DQogICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2U7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIElmIHJlc3BvbnNlIGhhcyBjb250ZW50IGZpZWxkLCB1c2UgaXQgZGlyZWN0bHkgaWYgaXQncyBhbiBvYmplY3QsIG9yIHBhcnNlIGl0IGlmIGl0J3MgYSBzdHJpbmcNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb250ZW50KSB7DQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5jb250ZW50ID09PSAnb2JqZWN0Jykgew0KICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSByZXNwb25zZS5jb250ZW50Ow0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwYXJzZSBjYW5jZWwgcmVzcG9uc2UgY29udGVudCBhcyBKU09OOicsIGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIENoZWNrIGZvciBzdWNjZXNzIGluZGljYXRvcnMNCiAgICAgICAgICAgIGlmIChyZXNwb25zZURhdGEuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSByZXNwb25zZURhdGEuc3VjY2VzczsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEYXRhLm1lc3NhZ2UpIHsNCiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgbWVzc2FnZSwgYXNzdW1lIHN1Y2Nlc3MNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEYXRhLmpvYl9pZCkgew0KICAgICAgICAgICAgICAgIC8vIElmIGpvYl9pZCBpcyByZXR1cm5lZCwgYXNzdW1lIHN1Y2Nlc3MNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzX2NvZGUgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1c19jb2RlIDwgMzAwKSB7DQogICAgICAgICAgICAgICAgLy8gSWYgSFRUUCBzdGF0dXMgaXMgMnh4LCBhc3N1bWUgc3VjY2Vzcw0KICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKGBKb2IgJHtqb2JJZH0gY2FuY2VsbGVkIHN1Y2Nlc3NmdWxseWAsICdzdWNjZXNzJyk7DQogICAgICAgICAgICAgICAgdGhpcy5sb2FkSm9icyhmYWxzZSk7IC8vIFJlZnJlc2ggam9icyB3aXRob3V0IGxvYWRpbmcgc3RhdGUNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5lcnJvciB8fCByZXNwb25zZS5jb250ZW50IHx8ICdGYWlsZWQgdG8gY2FuY2VsIGpvYicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FuY2VsbGluZyBqb2I6JywgZXJyb3IpOw0KICAgICAgICAgICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oYEZhaWxlZCB0byBjYW5jZWwgam9iOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyBkZWxldGVKb2Ioam9iSWQpIHsNCiAgICAgICAgLy8gU2hvdyBjb25maXJtYXRpb24gZGlhbG9nDQogICAgICAgIGlmICghY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHBlcm1hbmVudGx5IGRlbGV0ZSBqb2IgJHtqb2JJZH0/YCkpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN5cG5leEFQSS5wcm94eURFTEVURShgJHt0aGlzLmZsb3dSdW5uZXJVcmx9L2pvYnMvJHtqb2JJZH0vZGVsZXRlYCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcmVzcG9uc2UgZm9ybWF0cw0KICAgICAgICAgICAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTsNCiAgICAgICAgICAgIGxldCByZXNwb25zZURhdGEgPSByZXNwb25zZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gSWYgcmVzcG9uc2UgaGFzIGNvbnRlbnQgZmllbGQsIHVzZSBpdCBkaXJlY3RseSBpZiBpdCdzIGFuIG9iamVjdCwgb3IgcGFyc2UgaXQgaWYgaXQncyBhIHN0cmluZw0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvbnRlbnQpIHsNCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmNvbnRlbnQgPT09ICdvYmplY3QnKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmNvbnRlbnQ7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UuY29udGVudCk7DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHBhcnNlIGRlbGV0ZSByZXNwb25zZSBjb250ZW50IGFzIEpTT046JywgZSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHN1Y2Nlc3MgaW5kaWNhdG9ycw0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHJlc3BvbnNlRGF0YS5zdWNjZXNzOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEubWVzc2FnZSkgew0KICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBtZXNzYWdlLCBhc3N1bWUgc3VjY2Vzcw0KICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEuam9iX2lkKSB7DQogICAgICAgICAgICAgICAgLy8gSWYgam9iX2lkIGlzIHJldHVybmVkLCBhc3N1bWUgc3VjY2Vzcw0KICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXNfY29kZSA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPCAzMDApIHsNCiAgICAgICAgICAgICAgICAvLyBJZiBIVFRQIHN0YXR1cyBpcyAyeHgsIGFzc3VtZSBzdWNjZXNzDQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oYEpvYiAke2pvYklkfSBkZWxldGVkIHN1Y2Nlc3NmdWxseWAsICdzdWNjZXNzJyk7DQogICAgICAgICAgICAgICAgdGhpcy5sb2FkSm9icyhmYWxzZSk7IC8vIFJlZnJlc2ggam9icyB3aXRob3V0IGxvYWRpbmcgc3RhdGUNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5lcnJvciB8fCByZXNwb25zZS5jb250ZW50IHx8ICdGYWlsZWQgdG8gZGVsZXRlIGpvYicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgam9iOicsIGVycm9yKTsNCiAgICAgICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKGBGYWlsZWQgdG8gZGVsZXRlIGpvYjogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgc2hvd0pvYkRldGFpbHMoam9iSWQpIHsNCiAgICAgICAgY29uc3Qgam9iID0gdGhpcy5qb2JzLmdldChqb2JJZCk7DQogICAgICAgIGlmICgham9iKSB7DQogICAgICAgICAgICBzeXBuZXhBUEkuc2hvd05vdGlmaWNhdGlvbignSm9iIG5vdCBmb3VuZCcsICdlcnJvcicpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2ItZGV0YWlscy1jb250ZW50Jyk7DQogICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gYA0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLXNlY3Rpb24iPg0KICAgICAgICAgICAgICAgIDxoND48aSBjbGFzcz0iZmFzIGZhLWluZm8tY2lyY2xlIj48L2k+IEpvYiBJbmZvcm1hdGlvbjwvaDQ+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLWdyaWQiPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLWxhYmVsIj5JRDo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtdmFsdWUiPiR7am9iLmlkfTwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRldGFpbC1sYWJlbCI+U3RhdHVzOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRldGFpbC12YWx1ZSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iam9iLXN0YXR1cyAke2pvYi5zdGF0dXN9Ij4ke2pvYi5zdGF0dXN9PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtbGFiZWwiPldvcmtmbG93IFBhdGg6PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLXZhbHVlIj4ke2pvYi53b3JrZmxvd19wYXRofTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXRhaWwtc2VjdGlvbiI+DQogICAgICAgICAgICAgICAgPGg0PjxpIGNsYXNzPSJmYXMgZmEtY2xvY2siPjwvaT4gVGltaW5nPC9oND4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXRhaWwtZ3JpZCI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtbGFiZWwiPkNyZWF0ZWQ6PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGV0YWlsLXZhbHVlIj4ke3RoaXMuZm9ybWF0RGF0ZVRpbWUoam9iLmNyZWF0ZWRfYXQpfTwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRldGFpbC1sYWJlbCI+U3RhcnRlZDo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtdmFsdWUiPiR7dGhpcy5mb3JtYXREYXRlVGltZShqb2Iuc3RhcnRlZF9hdCkgfHwgJ05vdCBzdGFydGVkJ308L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtbGFiZWwiPkNvbXBsZXRlZDo8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkZXRhaWwtdmFsdWUiPiR7dGhpcy5mb3JtYXREYXRlVGltZShqb2IuY29tcGxldGVkX2F0KSB8fCAnTm90IGNvbXBsZXRlZCd9PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICR7am9iLmVycm9yID8gYA0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLXNlY3Rpb24iPg0KICAgICAgICAgICAgICAgIDxoND48aSBjbGFzcz0iZmFzIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIj48L2k+IEVycm9yPC9oND4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvdXRwdXQtY29udGFpbmVyIj4ke2pvYi5lcnJvcn08L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgYCA6ICcnfQ0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXRhaWwtc2VjdGlvbiI+DQogICAgICAgICAgICAgICAgPGg0PjxpIGNsYXNzPSJmYXMgZmEtdGVybWluYWwiPjwvaT4gT3V0cHV0PC9oND4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvdXRwdXQtY29udGFpbmVyIj4NCiAgICAgICAgICAgICAgICAgICAgJHtqb2Iub3V0cHV0ID8gam9iLm91dHB1dCA6ICc8ZGl2IGNsYXNzPSJuby1vdXRwdXQiPk5vIG91dHB1dCBhdmFpbGFibGU8L2Rpdj4nfQ0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIGA7DQoNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYi1kZXRhaWxzLW1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICB9DQoNCiAgICBzaG93Sm9iU3VibWl0TW9kYWwoKSB7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2Itc3VibWl0LW1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmtmbG93LXBhdGgnKS5mb2N1cygpOw0KICAgIH0NCg0KICAgIGhpZGVKb2JTdWJtaXRNb2RhbCgpIHsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYi1zdWJtaXQtbW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9iLWZvcm0nKS5yZXNldCgpOw0KICAgIH0NCg0KICAgIGhpZGVKb2JEZXRhaWxzTW9kYWwoKSB7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2ItZGV0YWlscy1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgfQ0KDQogICAgYXN5bmMgc3VibWl0TmV3Sm9iKCkgew0KICAgICAgICBjb25zdCB3b3JrZmxvd1BhdGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29ya2Zsb3ctcGF0aCcpLnZhbHVlLnRyaW0oKTsNCg0KICAgICAgICBpZiAoIXdvcmtmbG93UGF0aCkgew0KICAgICAgICAgICAgc3lwbmV4QVBJLnNob3dOb3RpZmljYXRpb24oJ1BsZWFzZSBzcGVjaWZ5IGEgd29ya2Zsb3cgcGF0aCcsICdlcnJvcicpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm0tc3VibWl0Jyk7DQogICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IHN1Ym1pdEJ0bi5pbm5lckhUTUw7DQogICAgICAgIA0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlDQogICAgICAgICAgICBzdWJtaXRCdG4uZGlzYWJsZWQgPSB0cnVlOw0KICAgICAgICAgICAgc3VibWl0QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXNwaW5uZXIgZmEtc3BpbiI+PC9pPiBTdWJtaXR0aW5nLi4uJzsNCg0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzeXBuZXhBUEkucHJveHlKU09OKGAke3RoaXMuZmxvd1J1bm5lclVybH0vam9ic2AsIHsNCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgICAgICAgIHdvcmtmbG93X3BhdGg6IHdvcmtmbG93UGF0aA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHMNCiAgICAgICAgICAgIGxldCBzdWNjZXNzID0gZmFsc2U7DQogICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2U7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIElmIHJlc3BvbnNlIGhhcyBjb250ZW50IGZpZWxkLCB1c2UgaXQgZGlyZWN0bHkgaWYgaXQncyBhbiBvYmplY3QsIG9yIHBhcnNlIGl0IGlmIGl0J3MgYSBzdHJpbmcNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb250ZW50KSB7DQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5jb250ZW50ID09PSAnb2JqZWN0Jykgew0KICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSByZXNwb25zZS5jb250ZW50Ow0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwYXJzZSByZXNwb25zZSBjb250ZW50IGFzIEpTT046JywgZSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHN1Y2Nlc3MgaW5kaWNhdG9ycw0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHJlc3BvbnNlRGF0YS5zdWNjZXNzOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEuam9iX2lkIHx8IHJlc3BvbnNlRGF0YS5pZCkgew0KICAgICAgICAgICAgICAgIC8vIElmIGpvYl9pZCBvciBpZCBpcyByZXR1cm5lZCwgYXNzdW1lIHN1Y2Nlc3MNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEYXRhLmNyZWF0ZWRfYXQpIHsNCiAgICAgICAgICAgICAgICAvLyBJZiBjcmVhdGVkX2F0IGlzIHByZXNlbnQsIGFzc3VtZSBzdWNjZXNzDQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1c19jb2RlID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXNfY29kZSA8IDMwMCkgew0KICAgICAgICAgICAgICAgIC8vIElmIEhUVFAgc3RhdHVzIGlzIDJ4eCwgYXNzdW1lIHN1Y2Nlc3MNCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBqb2JJZCA9IHJlc3BvbnNlRGF0YS5qb2JfaWQgfHwgcmVzcG9uc2VEYXRhLmlkIHx8ICd1bmtub3duJzsNCiAgICAgICAgICAgICAgICBzeXBuZXhBUEkuc2hvd05vdGlmaWNhdGlvbihgSm9iICR7am9iSWR9IHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHkhYCwgJ3N1Y2Nlc3MnKTsNCiAgICAgICAgICAgICAgICB0aGlzLmhpZGVKb2JTdWJtaXRNb2RhbCgpOw0KICAgICAgICAgICAgICAgIHRoaXMubG9hZEpvYnMoZmFsc2UpOyAvLyBSZWZyZXNoIGpvYnMgd2l0aG91dCBsb2FkaW5nIHN0YXRlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZURhdGEuZXJyb3IgfHwgcmVzcG9uc2UuY29udGVudCB8fCAnRmFpbGVkIHRvIHN1Ym1pdCBqb2InKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgam9iOicsIGVycm9yKTsNCiAgICAgICAgICAgIHN5cG5leEFQSS5zaG93Tm90aWZpY2F0aW9uKGBGYWlsZWQgdG8gc3VibWl0IGpvYjogJHtlcnJvci5tZXNzYWdlIHx8IEpTT04uc3RyaW5naWZ5KGVycm9yKX1gLCAnZXJyb3InKTsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIC8vIFJlc3RvcmUgYnV0dG9uIHN0YXRlDQogICAgICAgICAgICBzdWJtaXRCdG4uZGlzYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgICAgIHN1Ym1pdEJ0bi5pbm5lckhUTUwgPSBvcmlnaW5hbFRleHQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBzaG93TG9hZGluZygpIHsNCiAgICAgICAgdGhpcy5oaWRlQWxsVmlld3MoKTsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmctc3RhdGUnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOw0KICAgIH0NCg0KICAgIHNob3dFcnJvcihtZXNzYWdlKSB7DQogICAgICAgIHRoaXMuaGlkZUFsbFZpZXdzKCk7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvci1tZXNzYWdlJykudGV4dENvbnRlbnQgPSBtZXNzYWdlOw0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3Itc3RhdGUnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOw0KICAgIH0NCg0KICAgIHNob3dFbXB0eSgpIHsNCiAgICAgICAgdGhpcy5oaWRlQWxsVmlld3MoKTsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcHR5LXN0YXRlJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICB9DQoNCiAgICBzaG93Sm9icygpIHsNCiAgICAgICAgdGhpcy5oaWRlQWxsVmlld3MoKTsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYnMtY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICB9DQoNCiAgICBoaWRlQWxsVmlld3MoKSB7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLXN0YXRlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yLXN0YXRlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcHR5LXN0YXRlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYnMtY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICB9DQp9DQoNCi8vIEluaXRpYWxpemUgdGhlIEZsb3cgUnVubmVyIGFwcA0KY29uc3QgZmxvd1J1bm5lciA9IG5ldyBGbG93UnVubmVyKCk7DQo8L3NjcmlwdD4="
  },
  "package_info": {
    "format_version": "1.0",
    "created_at": "2025-08-04T18:48:32.796604",
    "packaged_by": "Sypnex OS App Packager",
    "source_directory": ".\\flow_runner"
  }
}